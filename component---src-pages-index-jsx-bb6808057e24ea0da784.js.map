{"version":3,"sources":["webpack:///./node_modules/lodash/intersection.js","webpack:///./src/components/PostListing/PostListing.jsx","webpack:///./node_modules/lodash/isArrayLikeObject.js","webpack:///./node_modules/lodash/_shortOut.js","webpack:///./node_modules/lodash/_isFlattenable.js","webpack:///./src/components/Tree/tree.jsx","webpack:///./src/pages/index.jsx","webpack:///./node_modules/lodash/_baseRest.js","webpack:///./src/components/Tags/Tags.jsx","webpack:///./node_modules/lodash/_overRest.js","webpack:///./src/components/Data/constants.js","webpack:///./src/components/Data/localstorage.js","webpack:///./node_modules/lodash/_baseUniq.js","webpack:///./src/components/Tree/treehelper.js","webpack:///./node_modules/url-join/lib/url-join.js","webpack:///./node_modules/lodash/_baseFlatten.js","webpack:///./node_modules/lodash/_castArrayLikeObject.js","webpack:///./node_modules/lodash/constant.js","webpack:///./node_modules/lodash/_createSet.js","webpack:///./node_modules/lodash/_apply.js","webpack:///./src/components/SEO/SEO.jsx","webpack:///./node_modules/lodash/_baseSetToString.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/utils/js_utils.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/EnterLeaveCounter.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/BrowserDetector.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/MonotonicInterpolant.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/OffsetUtils.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/nativeTypesConfig.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/NativeTypes.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/getDataFromDataTransfer.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/NativeDragSource.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/index.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/OptionsReader.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/HTML5Backend.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/index.js","webpack:///./node_modules/lodash/_setToArray.js","webpack:///./node_modules/lodash/_baseIntersection.js","webpack:///./node_modules/lodash/indexOf.js","webpack:///./node_modules/lodash/union.js","webpack:///./node_modules/lodash/noop.js","webpack:///./node_modules/lodash/_setToString.js"],"names":["arrayMap","baseIntersection","baseRest","castArrayLikeObject","intersection","arrays","mapped","length","module","exports","PostListing","postEdges","dispatch","refreshBinder","postList","forEach","postEdge","node","rawMarkdownBody","paras","match","push","path","fields","slug","tags","frontmatter","cover","title","date","excerpt","timeToRead","abstract","map","p","replace","trim","join","useState","getBlogSetting","filteringTags","updateFilter","addTagFilter","tag","refreshArticleList","setBlogSetting","useEffect","filter","post","className","key","to","draggable","refresh","bind","clickCb","isArrayLike","isObjectLike","value","HOT_COUNT","HOT_SPAN","nativeNow","Date","now","func","count","lastCalled","stamp","remaining","arguments","apply","undefined","Symbol","isArguments","isArray","spreadableSymbol","isConcatSpreadable","TreeLevelsArray","TreeLevel","level","accept","nodes","lastDroppedItem","onDrop","addTagsCb","useDrop","drop","collect","monitor","isOver","canDrop","isActive","ref","id","TreeNode","inputRef","React","createRef","MAX_DEPTH","TAGS_OUTSIDE","useDrag","item","name","type","end","dropResult","getDropResult","isTreeTitle","cur","parent","addChild","isTemp","i","children","splice","isDragging","drag","opacity","color","getColor","_domObject","style","flex","_spaceCount","isFake","defaultValue","input","autoFocus","onKeyPress","e","onDoubleClick","TreeTitle","toggleTree","onClick","Tree","args","state","displayPanel","root","getTree","forceRefresh","lines","rootId","componentDidMount","this","refreshTree","tree","props","refreshTagList","setState","getTreeNodes","removeTagCb","t","componentDidUpdate","prevProps","prevState","snapshot","setTree","getLines","data","firsrOrderTraverseFind","getTreeArray","render","nodes2d","display","line","strokeWidth","x1","start","x","y1","y","x2","y2","stroke","tagItemClass","margin","nodes1d","concat","Component","Index","callBacks","refreshBindBack","action","params","console","log","binder","allMarkdownRemark","edges","edge","draft","backend","HTML5Backend","config","siteTitle","SEO","pageQuery","identity","overRest","setToString","COLORS","str","sum","charCodeAt","PostListTag","click","remover","PostListTags","nativeMax","Math","max","transform","index","array","Array","otherArgs","settings","isBrowser","hasWindow","window","localStorage","getItem","JSON","parse","firsrOrderTraverseConsumer","prev","generate","getRoot","n","stringify","setItem","DEFAULT_SETTING","SetCache","arrayIncludes","arrayIncludesWith","cacheHas","createSet","setToArray","LARGE_ARRAY_SIZE","iteratee","comparator","includes","isCommon","result","seen","set","outer","computed","seenIndex","Node","random","toString","substr","child","findRoot","consumer","res","maxDepth","recursiveAddCount","S","tmp","depth","childCount","_needToAdd","fakeNode","finalDepth","getClientRects","left","width","top","height","definition","normalize","strArray","resultArray","TypeError","first","shift","component","parts","split","slice","call","arrayPush","isFlattenable","baseFlatten","predicate","isStrict","isArrayLikeObject","Set","noop","values","thisArg","description","image","postURL","postNode","postPath","postSEO","postMeta","urljoin","siteUrl","pathPrefix","siteDescription","siteLogo","blogURL","schemaOrgJSONLD","url","alternateName","siteTitleAlt","itemListElement","position","headline","content","property","siteFBAppID","userTwitter","constant","defineProperty","baseSetToString","string","memoize","fn","_defineProperties","target","descriptor","enumerable","configurable","writable","Object","EnterLeaveCounter","isNodeInDocument","instance","Constructor","_classCallCheck","entered","protoProps","staticProps","enteringNode","_this","previousLength","itemsA","itemsB","insertItem","add","union","contains","leavingNode","items","prototype","isFirefox","test","navigator","userAgent","isSafari","Boolean","safari","MonotonicInterpolant","xs","ys","indexes","sort","a","b","dx","dy","dys","dxs","ms","_i","c1s","_i2","m2","mNext","dxNext","common","m","c2s","c3s","_i3","c1","invDx","_common","mid","low","high","xHere","floor","diff","diffSq","ELEMENT_NODE","getNodeClientOffset","el","nodeType","parentElement","_el$getBoundingClient","getBoundingClientRect","getEventClientOffset","clientX","clientY","getDragPreviewOffset","sourceNode","dragPreview","clientOffset","anchorPoint","offsetPoint","isImage","nodeName","document","documentElement","dragPreviewNodeOffsetFromClient","offsetFromDragPreview","sourceWidth","offsetWidth","sourceHeight","offsetHeight","anchorX","anchorY","_getDragPreviewSize","dragPreviewWidth","dragPreviewHeight","devicePixelRatio","getDragPreviewSize","offsetX","offsetY","isManualOffsetY","interpolate","_nativeTypesConfig","FILE","URL","TEXT","getDataFromDataTransfer","dataTransfer","typesToTry","reduce","resultSoFar","typeToTry","getData","_defineProperty","obj","nativeTypesConfig","exposeProperties","files","matchesTypes","urls","text","NativeDragSource","keys","get","warn","_this2","newProperties","defineProperties","handle","getSourceId","matchNativeItemType","dataTransferTypes","types","nativeItemType","some","indexOf","OptionsReader","globalContext","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","_objectSpread","source","getOwnPropertyDescriptors","manager","sourcePreviewNodes","Map","sourcePreviewNodeOptions","sourceNodes","sourceNodeOptions","dragStartSourceIds","dropTargetIds","dragEnterTargetIds","currentNativeSource","currentNativeHandle","currentDragSourceNode","altKeyPressed","mouseMoveTimeoutTimer","asyncEndDragFrameId","dragOverTargetIds","getSourceClientOffset","sourceId","endDragNativeItem","isDraggingNativeItem","actions","endDrag","registry","removeSource","body","endDragIfSourceWasRemovedFromDOM","clearCurrentDragSourceNode","handleTopDragStartCapture","handleTopDragStart","defaultPrevented","beginDrag","publishSource","nativeType","setDragImage","_this$getCurrentSourc","getCurrentSourcePreviewNodeOptions","dragPreviewOffset","setData","err","setCurrentDragSourceNode","captureDraggingState","publishDragSource","setTimeout","beginDragNativeItem","hasAttribute","preventDefault","handleTopDragEndCapture","handleTopDragEnterCapture","enterLeaveCounter","enter","handleTopDragEnter","altKey","hover","targetId","canDropOnTarget","dropEffect","getCurrentDropEffect","handleTopDragOverCapture","handleTopDragOver","handleTopDragLeaveCapture","leave","handleTopDropCapture","mutateItemByReadingDataTransfer","reset","handleTopDrop","handleSelectStart","dragDrop","tagName","isContentEditable","options","getActions","getMonitor","getRegistry","__isReactDndBackendSetUp","Error","addEventListeners","removeEventListeners","cancelAnimationFrame","delete","_this3","handleDragStart","setAttribute","addEventListener","removeEventListener","_this4","handleDragEnter","handleDragOver","handleDrop","getCurrentSourceNodeOptions","itemType","getItemType","createNativeDragSource","addSource","_this5","clearTimeout","unshift","context","size","baseUnary","nativeMin","min","othLength","othIndex","caches","maxLength","Infinity","cache","baseIndexOf","toInteger","fromIndex","baseUniq","shortOut"],"mappings":"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","file":"component---src-pages-index-jsx-bb6808057e24ea0da784.js","sourcesContent":["var arrayMap = require('./_arrayMap'),\n    baseIntersection = require('./_baseIntersection'),\n    baseRest = require('./_baseRest'),\n    castArrayLikeObject = require('./_castArrayLikeObject');\n/**\n * Creates an array of unique values that are included in all given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of intersecting values.\n * @example\n *\n * _.intersection([2, 1], [2, 3]);\n * // => [2]\n */\n\n\nvar intersection = baseRest(function (arrays) {\n  var mapped = arrayMap(arrays, castArrayLikeObject);\n  return mapped.length && mapped[0] === arrays[0] ? baseIntersection(mapped) : [];\n});\nmodule.exports = intersection;","import React, {useState, useEffect} from \"react\";\r\nimport {Link} from \"gatsby\";\r\nimport {PostListTags} from '../Tags/Tags'\r\nimport {getBlogSetting, setBlogSetting} from '../Data/localstorage'\r\nimport './list.css'\r\nimport _ from 'lodash'\r\n\r\nconst PostListing = ({postEdges,dispatch,refreshBinder}) => {\r\n  let postList = [];\r\n  postEdges.forEach(postEdge => {\r\n    if (!postEdge.node.rawMarkdownBody) return\r\n    let paras = postEdge.node.rawMarkdownBody.match(/(#{1,5} .*[\\n\\r])/g) || []\r\n    postList.push({\r\n      path: postEdge.node.fields.slug,\r\n      tags: postEdge.node.frontmatter.tags || [],\r\n      cover: postEdge.node.frontmatter.cover,\r\n      title: postEdge.node.frontmatter.title,\r\n      date: postEdge.node.fields.date,\r\n      excerpt: postEdge.node.excerpt,\r\n      timeToRead: postEdge.node.timeToRead,\r\n      abstract: postEdge.node.frontmatter.abstract || paras.map(p => p.replace(/^#+/, '').trim()).join('  ')\r\n    });\r\n  });\r\n\r\n\r\n  const [filteringTags, updateFilter] = useState(getBlogSetting('filteringTags'))\r\n\r\n  const addTagFilter = (tag) => {\r\n      let index = _.indexOf(filteringTags, tag)\r\n      if (index == -1) {\r\n        filteringTags.push(tag)\r\n      }\r\n\r\n      refreshArticleList({filteringTags})\r\n\r\n      //refreshTags in tree\r\n      dispatch('refreshTagList',{filteringTags})\r\n    }\r\n\r\n  const refreshArticleList = ({filteringTags})=>{\r\n    setBlogSetting({filteringTags})\r\n    updateFilter([...filteringTags])\r\n  }\r\n\r\n  //bind when component did mount\r\n  useEffect(()=>{\r\n    refreshBinder({refreshArticleList})\r\n  },[])\r\n\r\n  postList = postList.filter(post => _.intersection(post.tags, filteringTags).length==filteringTags.length)\r\n\r\n  return (\r\n    <div>\r\n      {\r\n        postList.map(post => (\r\n          <div className='post-list' key={post.path}>\r\n            <div className='post-left'>\r\n              <div className='post-title'>\r\n                <Link to={post.path} key={post.title}>\r\n                  {post.title}\r\n                </Link>\r\n              </div>\r\n              <div className='post-tags'></div>\r\n              <div className='post-abstract'>{post.abstract}</div>\r\n            </div>\r\n            <div className='post-right'>\r\n              <div className='post-tags'>\r\n                <PostListTags draggable={true} refresh={dispatch.bind(this,'refreshTree')} tags={post.tags} clickCb={addTagFilter}/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PostListing;\r\n","var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\n\n\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\nvar nativeNow = Date.now;\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\n\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n  return function () {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n    lastCalled = stamp;\n\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n/** Built-in value references. */\n\n\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\n\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) || !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;","import React, {useState, useCallback} from 'react'\r\nimport './tree.css'\r\nimport {getColor, PostListTags, TAGS_OUTSIDE} from \"../Tags/Tags\";\r\nimport {useDrag, useDrop} from 'react-dnd'\r\nimport {addChild,firsrOrderTraverseFind, getTreeArray, getLines, generate} from './treehelper'\r\nimport _ from 'lodash'\r\nimport {getTree,setTree,getBlogSetting,setBlogSetting} from \"../Data/localstorage\";\r\n\r\nconst MAX_DEPTH = 4\r\n\r\n\r\nconst TreeLevels = {\r\n  ONE: '1',\r\n  TWO: '2',\r\n  THREE: '3',\r\n  FOUR: '4',\r\n  FIVE: '5',\r\n}\r\n\r\nconst TreeLevelsArray = [TreeLevels.ONE, TreeLevels.TWO, TreeLevels.THREE, TreeLevels.FOUR]\r\n\r\n\r\nconst TreeLevel = ({level, accept, lastDroppedItem, onDrop, nodes, refresh,addTagsCb}) => {\r\n  const [{isOver, canDrop}, drop] = useDrop({\r\n    accept,\r\n    drop: () => ({\r\n      level\r\n    }),\r\n    collect: monitor => ({\r\n      isOver: monitor.isOver(),\r\n      canDrop: monitor.canDrop(),\r\n    }),\r\n  })\r\n\r\n  const isActive = canDrop && isOver\r\n\r\n  return (\r\n    <div className={`nodes-horizontal ${isActive?'blink':''}`}\r\n         ref={drop}>\r\n      {nodes.map(node => (\r\n        <TreeNode refresh={refresh} node={node} key={node.id} addTagsCb={addTagsCb}/>\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst TreeNode = ({node, refresh,addTagsCb}) => {\r\n  let inputRef = React.createRef()\r\n  const onKeyPressTemp = e => {\r\n    if (e.key == 'Enter') {\r\n      node.value = inputRef.value || '-'\r\n      node.isTemp = 0\r\n      refresh()\r\n    }\r\n  }\r\n\r\n  const onDoubleClickNode = e=>{\r\n    node.isTemp = 1\r\n    refresh()\r\n  }\r\n\r\n  const [{isOver, canDrop}, drop] = useDrop({\r\n    accept:node.level===MAX_DEPTH-1?[]:[TAGS_OUTSIDE],\r\n    drop: () => ({\r\n      node\r\n    }),\r\n    collect: monitor => ({\r\n      isOver: monitor.isOver(),\r\n      canDrop: monitor.canDrop(),\r\n    }),\r\n  })\r\n\r\n  const [{isDragging}, drag] = useDrag({\r\n    item: {name: node.value, type: TreeLevelsArray[node.level]},\r\n    end: (item, monitor) => {\r\n      const dropResult = monitor.getDropResult()\r\n\r\n      //dragged to title\r\n      if(item && dropResult && dropResult.isTreeTitle){\r\n        //get node and it's parents\r\n        let tags = [], cur = node\r\n        while(cur.id!='root'){\r\n          tags.push(cur.value)\r\n          cur = cur.parent\r\n        }\r\n\r\n        addTagsCb(tags)\r\n        return\r\n      }\r\n\r\n      //removed to another level\r\n      if (item && dropResult) {\r\n        if(dropResult.level>node.level){\r\n          let child = addChild(node,'')\r\n          child.isTemp = 1\r\n          refresh()\r\n        }else if (dropResult.level<node.level){\r\n          let i = 0\r\n          for (; i < node.parent.children.length; i++) {\r\n            if (node === node.parent.children[i]) break;\r\n          }\r\n\r\n          node.parent.children.splice(i,1)\r\n          refresh()\r\n        }\r\n      }\r\n    },\r\n    collect: monitor => ({\r\n      isDragging: monitor.isDragging(),\r\n    }),\r\n  })\r\n\r\n  const isActive = canDrop && isOver\r\n\r\n  const opacity = isDragging ? 0.4 : (isActive?.2:1)\r\n\r\n  const color = getColor(node.value)\r\n\r\n\r\n  return (\r\n    <div ref={ref=>node._domObject = ref} className='nodes-node' style={{flex: node._spaceCount || 1}}>\r\n      {node.isFake?'':\r\n        <div ref={drag} className='tag-item' style={{opacity, color}}>\r\n          <div ref={drop}>\r\n          {node.isTemp ?\r\n            <div className='tree-node-input'>\r\n              <input type=\"text\" defaultValue={node.value} ref={input => inputRef = input} autoFocus={true} onKeyPress={onKeyPressTemp}/>\r\n            </div>\r\n            :\r\n            <div onDoubleClick={onDoubleClickNode}>{node.value}</div>\r\n          }\r\n          </div>\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nconst TreeTitle = ({toggleTree})=>{\r\n  const [{isOver, canDrop}, drop] = useDrop({\r\n    accept:TreeLevelsArray,\r\n    drop: () => ({isTreeTitle:true}),\r\n    collect: monitor => ({\r\n      isOver: monitor.isOver(),\r\n      canDrop: monitor.canDrop(),\r\n    }),\r\n  })\r\n\r\n  return (<div className='tree-title' ref={drop} onClick={toggleTree}>Tree</div>)\r\n}\r\n\r\nclass Tree extends React.Component {\r\n  state = {\r\n    displayPanel: false,\r\n    nodes: []\r\n  }\r\n\r\n  constructor(...args) {\r\n    super(...args)\r\n    let root = getTree()\r\n\r\n    this.state = {\r\n      forceRefresh:false,\r\n      nodes:[],\r\n      lines: [],\r\n      root,\r\n      rootId: 'root',\r\n      filteringTags:getBlogSetting('filteringTags')\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.refreshTree({tree: this.state.root, id: 'root'})\r\n\r\n    //bind refresh back\r\n    this.props.refreshBinder({\r\n      refreshTree:this.refresh.bind(this),\r\n      refreshTagList:this.refreshTagList.bind(this)\r\n    })\r\n  }\r\n\r\n  refresh(){\r\n    this.refreshTree({tree: this.state.root, id: this.state.rootId})\r\n  }\r\n\r\n  refreshTagList({filteringTags}){\r\n    this.setState({\r\n      filteringTags\r\n    })\r\n  }\r\n\r\n  refreshTree({tree, id}) {\r\n    this.setState({\r\n      forceRefresh:!this.state.forceRefresh,\r\n      nodes: this.getTreeNodes({\r\n        tree, id\r\n      })\r\n    })\r\n  }\r\n  //add a specified tag and it's parent tags\r\n  addTagsCb(tags){\r\n    let filteringTags = _.union(this.state.filteringTags,tags)\r\n    this.refreshTagList({filteringTags})\r\n    setBlogSetting({filteringTags})\r\n    this.props.dispatch('refreshArticleList',{filteringTags})\r\n  }\r\n\r\n\r\n  removeTagCb(tag){\r\n    let filteringTags = this.state.filteringTags = this.state.filteringTags.filter(t=>t!==tag)\r\n    this.refreshTagList({filteringTags})\r\n    setBlogSetting({filteringTags})\r\n    this.props.dispatch('refreshArticleList',{filteringTags})\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (prevState.displayPanel != this.state.displayPanel || prevState.forceRefresh!=this.state.forceRefresh) {\r\n      setTree(this.state.root)\r\n\r\n      let lines = getLines(this.state.nodes[0][0])\r\n\r\n      this.setState({lines})\r\n    }\r\n  }\r\n\r\n  getTreeNodes(data) {\r\n    let node = firsrOrderTraverseFind(data.tree, data.id)\r\n    if (!node) return\r\n    let nodes = getTreeArray(node, MAX_DEPTH)\r\n    return nodes\r\n  }\r\n\r\n\r\n  toggleTree() {\r\n    this.setState({\r\n      displayPanel: !this.state.displayPanel\r\n    })\r\n  }\r\n\r\n  render() {\r\n    let nodes2d = this.state.nodes || []\r\n    return (\r\n      <div className=''>\r\n        <svg className='tree-svg' style={{\r\n          display: this.state.displayPanel ? 'inherit' : 'none'\r\n        }}>\r\n          {this.state.lines.map((line,i) => (\r\n            <line key={i} strokeWidth='10' x1={line.start.x} y1={line.start.y} x2={line.end.x} y2={line.end.y} stroke={line.color}/>\r\n          ))}\r\n        </svg>\r\n        <div className='tree-wrapper'>\r\n          <div className='tree'>\r\n            <TreeTitle toggleTree={this.toggleTree.bind(this)}/>\r\n            <div className='tree-filtering-tags'>\r\n              <PostListTags tagItemClass={{margin:'5px 5px'}} draggable={false} tags={this.state.filteringTags} removeTagCb={this.removeTagCb.bind(this)}/>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className='tree-panel' style={{\r\n          display: this.state.displayPanel ? 'flex' : 'none'\r\n        }}>\r\n          <div className='tree-body'>\r\n            <div className='tree-content'>\r\n              {nodes2d.map((nodes1d, i) => (\r\n                <TreeLevel level={i} refresh={this.refresh.bind(this)} addTagsCb = {this.addTagsCb.bind(this)}\r\n                           key={i} nodes={nodes1d} accept={\r\n                  [].concat(i > 0 ? TreeLevelsArray[i - 1] : [])\r\n                  .concat(i <TreeLevelsArray.length-1 ? TreeLevelsArray[i + 1] : [])}/>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Tree\r\n\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport Helmet from \"react-helmet\";\r\nimport { graphql } from \"gatsby\";\r\nimport Layout from \"../layout\";\r\nimport PostListing from \"../components/PostListing/PostListing\";\r\nimport SEO from \"../components/SEO/SEO\";\r\nimport Tree from \"../components/Tree/tree\";\r\nimport config from \"../../data/SiteConfig\";\r\nimport './index.css'\r\nimport { DndProvider } from 'react-dnd'\r\nimport HTML5Backend from 'react-dnd-html5-backend'\r\n\r\nclass Index extends React.Component {\r\n  callBacks = {\r\n    refreshArticleList:undefined,\r\n    refreshTagList:undefined,\r\n    refreshTree:undefined\r\n  }\r\n\r\n  refresh(){\r\n    if(typeof this.refreshBindBack === 'function') this.refreshBindBack()\r\n  }\r\n\r\n  dispatch(action,...params){\r\n    console.log(arguments)\r\n      if(typeof this.callBacks[action] == 'function') this.callBacks[action](...params)\r\n  }\r\n\r\n  refreshBinder(binder){\r\n    this.callBacks = {...this.callBacks,...binder}\r\n  }\r\n\r\n  render() {\r\n\r\n\r\n    //ignore drafts\r\n    const postEdges = this.props.data.allMarkdownRemark.edges.filter(edge=> !edge.node.frontmatter.draft)\r\n    return (\r\n      <DndProvider backend={HTML5Backend}>\r\n        <Layout>\r\n          <div className=\"index-container\">\r\n            <Helmet title={config.siteTitle} />\r\n            <SEO />\r\n            <Tree refreshBinder={this.refreshBinder.bind(this)} dispatch={this.dispatch.bind(this)}/>\r\n            <PostListing refreshBinder= {this.refreshBinder.bind(this)} dispatch={this.dispatch.bind(this)} refresh={this.refresh.bind(this)} postEdges={postEdges} />\r\n          </div>\r\n        </Layout>\r\n      </DndProvider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Index;\r\n\r\n/* eslint no-undef: \"off\" */\r\nexport const pageQuery = graphql`\r\n  query IndexQuery {\r\n    allMarkdownRemark(\r\n      limit: 2000\r\n      sort: { fields: [fields___date], order: DESC }\r\n    ) {\r\n      edges {\r\n        node {\r\n          fields {\r\n            slug\r\n            date\r\n          }\r\n          excerpt\r\n          timeToRead\r\n          rawMarkdownBody\r\n          frontmatter {\r\n            abstract\r\n            draft\r\n            title\r\n            tags\r\n            cover\r\n            date\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\n\n\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;","import React,{useState} from 'react'\r\nimport {Link} from \"gatsby\";\r\nimport './tags.css'\r\nimport {useDrag} from \"react-dnd\";\r\nimport {addChild} from \"../Tree/treehelper\";\r\nimport _ from \"lodash\";\r\n\r\nconst TAGS_OUTSIDE = '-1'\r\n\r\nconst COLORS = [\r\n  '#478BA2',\r\n  '#DE585D',\r\n  '#E97658',\r\n  '#E2A490',\r\n  '#89D4DB',\r\n]\r\n\r\nconst getColor = (str)=>{\r\n  let sum = 0\r\n  for (let i = 0; i < str.length; i++) {\r\n    sum+=str.charCodeAt(i)\r\n  }\r\n\r\n  return COLORS[sum%COLORS.length]\r\n}\r\n\r\nconst PostListTag = ({draggable,tag,tags,refresh,clickCb,removeTagCb,tagItemClass})=>{\r\n  const click = ()=> {\r\n    if (clickCb) clickCb(tag)\r\n  }\r\n\r\n  const remover = <div className='tag-remove-wrapper' onClick={()=>removeTagCb(tag)}>\r\n    <div className='tag-remove'></div>\r\n  </div>\r\n\r\n  const color = getColor(tag)\r\n\r\n  if(!draggable){\r\n    return (\r\n      <div className='tag-item-wrapper'>\r\n        <div key={tag} onClick={click} className='tag-item'  style={{\r\n          color,...tagItemClass\r\n        }}>\r\n          {tag}\r\n        </div>\r\n        {removeTagCb?remover:''}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const [{isDragging}, drag] = useDrag({\r\n    item: {name: tag, type: TAGS_OUTSIDE},\r\n    end: (item, monitor) => {\r\n      const dropResult = monitor.getDropResult()\r\n      if (item && dropResult) {\r\n        let child = addChild(dropResult.node,tag)\r\n        refresh()\r\n      }\r\n    },\r\n    collect: monitor => ({\r\n      isDragging: monitor.isDragging(),\r\n    }),\r\n  })\r\n\r\n  const opacity = isDragging ? 0.4 : 1\r\n\r\n  return (\r\n    <div className='tag-item-wrapper'>\r\n      <div ref={drag} key={tag} onClick={click} className='tag-item'  style={{\r\n        opacity, color\r\n      }}>\r\n        {tag}\r\n      </div>\r\n      {removeTagCb?remover:''}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst PostListTags =({draggable,tags=[],refresh,clickCb,removeTagCb,tagItemClass})=>{\r\n  const props = {draggable,tags,refresh,clickCb,removeTagCb,tagItemClass}\r\n  return (<div className='tag-list'>\r\n      {tags.map(tag=>{\r\n        return (\r\n        <PostListTag  key={tag} tag={tag} {...props} />\r\n        )})}\r\n    </div>)\r\n}\r\n\r\nexport {getColor}\r\n\r\nexport {PostListTags,TAGS_OUTSIDE}","var apply = require('./_apply');\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\n\nvar nativeMax = Math.max;\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\n\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? func.length - 1 : start, 0);\n  return function () {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n\n    index = -1;\n    var otherArgs = Array(start + 1);\n\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;","export const settings = {\r\n  filteringTags:[]\r\n}","import _ from 'lodash'\r\nimport {getRoot,generate,firsrOrderTraverseConsumer} from '../Tree/treehelper'\r\nimport {settings as DEFAULT_SETTING} from './constants'\r\n\r\nconst TREE_NAME = `MSKf's Tree Blog V1.0 TREE`\r\nconst BLOG_NAME = `MSKf's Tree Blog V1.0 BLOG`\r\n\r\nconst isBrowser = ()=>{\r\n  let hasWindow = 1\r\n  try{\r\n    window\r\n  }catch (e) {\r\n    hasWindow = 0\r\n  }\r\n  return !!hasWindow\r\n}\r\n\r\nconst getTree = ()=>{\r\n  if(!isBrowser()) return\r\n\r\n  let str = window.localStorage.getItem(TREE_NAME)\r\n  let root = null\r\n\r\n  if(!str){\r\n    root = generate()\r\n\r\n    setTree(root)\r\n  }else{\r\n    root = JSON.parse(str)\r\n\r\n    //add circle reference\r\n    firsrOrderTraverseConsumer(root,(node,prev)=>{\r\n\r\n      node.parent = prev\r\n\r\n    }\r\n    )\r\n  }\r\n\r\n  return root\r\n}\r\n\r\nconst setTree = node=>{\r\n  if(!isBrowser()) return\r\n\r\n  let root = _.cloneDeep(getRoot(node))\r\n\r\n  //remove circle reference and temp properties\r\n  firsrOrderTraverseConsumer(root,node=>{\r\n    for (let key in node){\r\n      if (key[0]=='_'){\r\n        delete node[key]\r\n      }\r\n    }\r\n\r\n    //remove fake nodes\r\n    node.children = node.children.filter(n=>!n.isFake)\r\n\r\n    node.parent = null\r\n  })\r\n\r\n  let str = JSON.stringify(root)\r\n  window.localStorage.setItem(TREE_NAME,str)\r\n}\r\n\r\n\r\nconst getBlogSetting = (name)=>{\r\n  if(!isBrowser()) return []\r\n\r\n  let str = window.localStorage.getItem(BLOG_NAME)\r\n  let settings = {}\r\n  if(!str){\r\n    settings = setBlogSetting()\r\n  }else{\r\n    settings = JSON.parse(str)\r\n  }\r\n  return settings[name]\r\n}\r\n\r\n//default settings\r\nconst setBlogSetting = (settings = DEFAULT_SETTING)=>{\r\n  if(!isBrowser()) return\r\n\r\n  let str = JSON.stringify(settings)\r\n  window.localStorage.setItem(BLOG_NAME,str)\r\n  return settings\r\n}\r\n\r\nexport {getTree,setTree,getBlogSetting,setBlogSetting}","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    cacheHas = require('./_cacheHas'),\n    createSet = require('./_createSet'),\n    setToArray = require('./_setToArray');\n/** Used as the size to enable large array optimizations. */\n\n\nvar LARGE_ARRAY_SIZE = 200;\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\n\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  } else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n\n    if (set) {\n      return setToArray(set);\n    }\n\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache();\n  } else {\n    seen = iteratee ? [] : result;\n  }\n\n  outer: while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n    value = comparator || value !== 0 ? value : 0;\n\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n\n      if (iteratee) {\n        seen.push(computed);\n      }\n\n      result.push(value);\n    } else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n\n      result.push(value);\n    }\n  }\n\n  return result;\n}\n\nmodule.exports = baseUniq;","import {getColor} from \"../Tags/Tags\";\r\n\r\n/**\r\n * No node can have two child nodes sharing the same name\r\n *\r\n * Every node has a unique path from root, so to say, a unique full name\r\n *\r\n * Maximum height of the tree shown in the screen  is constant\r\n *\r\n * Maximum children of a node is constant\r\n *\r\n * Can only add tree nodes within such height\r\n *\r\n * Take the leaf node as a new root, so to add new node in the next level\r\n *\r\n * Search the full name of node to get it  as the root\r\n */\r\nclass Node {\r\n  constructor(value){\r\n    this.id = Math.random().toString().substr(2)\r\n    this.children = []\r\n    this.value = value\r\n    this.parent = null\r\n    this.isTemp = 0\r\n    this.isFake = 0\r\n  }\r\n}\r\n\r\nconst addChild = (node,value)=>{\r\n  let child = new Node(value)\r\n  child.parent = node\r\n  child.level = (node.level|0)+1\r\n  node.children.push(child)\r\n  return child\r\n}\r\n\r\nconst getRoot =  node =>{\r\n  if (node.parent==null) return node\r\n  return findRoot(node.parent)\r\n}\r\n\r\nconst firsrOrderTraverseConsumer = (node, consumer,prev) => {\r\n  if (!node) return\r\n\r\n  consumer(node,prev)\r\n\r\n  for (let i = 0; i < node.children.length; i++) {\r\n    firsrOrderTraverseConsumer(node.children[i], consumer,node)\r\n  }\r\n}\r\n\r\nconst firsrOrderTraverseFind = (node, id) => {\r\n  if (!node) return null\r\n  else if (node.id == id) return node\r\n\r\n  let res = null\r\n\r\n  for (let i = 0; !res && i < node.children.length; i++) {\r\n    res = firsrOrderTraverseFind(node.children[i], id)\r\n  }\r\n\r\n  return res\r\n}\r\n\r\nconst getFakeNode = ()=>{\r\n  const fakeNode = new Node('')\r\n  fakeNode.isFake = 1\r\n  return fakeNode\r\n}\r\n\r\nconst getTreeArray = (node, maxDepth) => {\r\n  //remove space count\r\n  firsrOrderTraverseConsumer(node,n=>n._spaceCount = 0)\r\n\r\n  const recursiveAddCount = (node, root) => {\r\n    while (node != root) {\r\n      node = node.parent\r\n      node._spaceCount = (node._spaceCount || 1) + 1\r\n    }\r\n  }\r\n\r\n  const S = 'SPLITTER'\r\n\r\n  let tmp = [node, S], depth = 0, nodes = [], childCount = 0, root = node\r\n  do {\r\n    while (tmp[0] != S) {\r\n      let cur = tmp.splice(0, 1)[0]\r\n      if (cur.children.length == 0) childCount++\r\n      if(cur._needToAdd)\r\n        recursiveAddCount(cur, root)\r\n      for (let i = 0; i < cur.children.length; i++) {\r\n        if (i>0) cur.children[i]._needToAdd = true\r\n        tmp.push(cur.children[i])\r\n      }\r\n    }\r\n    tmp.push(tmp.splice(0, 1)[0])\r\n    depth++\r\n  } while (depth < maxDepth && tmp.length > 1)\r\n\r\n  let finalDepth = depth\r\n\r\n  depth = 0\r\n\r\n  //\r\n  tmp = [node, S]\r\n  do {\r\n    nodes[depth] = []\r\n    while (tmp[0] != S) {\r\n      let cur = tmp.splice(0, 1)[0]\r\n      if ((cur.isFake || cur.children.length == 0) && depth < finalDepth - 1) {\r\n        tmp.push(getFakeNode())\r\n      }\r\n\r\n      nodes[depth].push(cur)\r\n\r\n      cur.level = depth\r\n      if(cur.isFake) continue\r\n\r\n      for (let i = 0; i < cur.children.length; i++) {\r\n        tmp.push(cur.children[i])\r\n      }\r\n    }\r\n    tmp.push(tmp.splice(0, 1)[0])\r\n    depth++\r\n  } while (depth < maxDepth && tmp.length > 1)\r\n\r\n  for (let i = 0; i <= maxDepth - nodes.length; i++) {\r\n    nodes.push([])\r\n  }\r\n\r\n  return nodes\r\n}\r\n\r\nconst getLines = (node)=>{\r\n  if (!node || !node._domObject) return []\r\n\r\n  let start = node._domObject.getClientRects()[0], res = []\r\n\r\n  if (!start || !start.x) return []\r\n\r\n  for (let i = 0; i < node.children.length; i++) {\r\n    if(!node.children[i]._domObject) continue\r\n    let end =  node.children[i]._domObject.getClientRects()[0]\r\n    res.push({\r\n      color:getColor(node.value),\r\n      start:{\r\n        x:start.left+start.width/2,\r\n        y:start.top+start.height/2,\r\n      },\r\n      end:{\r\n        x:end.left+end.width/2,\r\n        y:end.top+end.height/2,\r\n      }\r\n    })\r\n\r\n    res=res.concat(getLines(node.children[i]))\r\n  }\r\n\r\n  return res\r\n}\r\n\r\nconst generate = ()=>{\r\n  let root = new Node('ROOT')\r\n  root.id='root'\r\n  root.level = 0\r\n  return root\r\n}\r\n\r\nconst generateTest = ()=>{\r\n  // let root = new Node(1)\r\n  // let f11 = new Node(2),\r\n  //   f12 = new Node(3),\r\n  //   f21 = new Node(4),\r\n  //   f22 = new Node(5),\r\n  //   f23 = new Node(6),\r\n  //   f24 = new Node(7)\r\n  // root.children.push(f11)\r\n  // root.children.push(f12)\r\n  // f11.parent = root\r\n  // f12.parent = root\r\n  //\r\n  // f11.children.push(f21)\r\n  // f11.children.push(f22)\r\n  // f21.parent = f11\r\n  // f22.parent = f11\r\n  //\r\n  // f12.children.push(f23)\r\n  // f12.children.push(f24)\r\n  // f23.parent = f12\r\n  // f24.parent = f12\r\n\r\n  let root = new Node(1)\r\n  root.id='root'\r\n  let f11 = new Node(2),\r\n    f12 = new Node(3),\r\n    f13 = new Node(4),\r\n    f21 = new Node(5),\r\n    f22 = new Node(6),\r\n    f23 = new Node(7),\r\n    f24 = new Node(8)\r\n  root.children.push(f11)\r\n  root.children.push(f12)\r\n  root.children.push(f13)\r\n  f11.parent = root\r\n  f12.parent = root\r\n  f13.parent = root\r\n\r\n  f11.children.push(f21)\r\n  f12.children.push(f22)\r\n  f21.parent = f11\r\n  f22.parent = f12\r\n\r\n  f13.children.push(f23)\r\n  f13.children.push(f24)\r\n  f23.parent = f13\r\n  f24.parent = f13\r\n  return root\r\n}\r\n\r\nexport {addChild,getRoot,firsrOrderTraverseConsumer,firsrOrderTraverseFind,getTreeArray,generate,getLines}","require(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.regexp.match\");\n\n(function (name, context, definition) {\n  if (typeof module !== 'undefined' && module.exports) module.exports = definition();else if (typeof define === 'function' && define.amd) define(definition);else context[name] = definition();\n})('urljoin', this, function () {\n  function normalize(strArray) {\n    var resultArray = [];\n\n    if (strArray.length === 0) {\n      return '';\n    }\n\n    if (typeof strArray[0] !== 'string') {\n      throw new TypeError('Url must be a string. Received ' + strArray[0]);\n    } // If the first part is a plain protocol, we combine it with the next part.\n\n\n    if (strArray[0].match(/^[^/:]+:\\/*$/) && strArray.length > 1) {\n      var first = strArray.shift();\n      strArray[0] = first + strArray[0];\n    } // There must be two or three slashes in the file protocol, two slashes in anything else.\n\n\n    if (strArray[0].match(/^file:\\/\\/\\//)) {\n      strArray[0] = strArray[0].replace(/^([^/:]+):\\/*/, '$1:///');\n    } else {\n      strArray[0] = strArray[0].replace(/^([^/:]+):\\/*/, '$1://');\n    }\n\n    for (var i = 0; i < strArray.length; i++) {\n      var component = strArray[i];\n\n      if (typeof component !== 'string') {\n        throw new TypeError('Url must be a string. Received ' + component);\n      }\n\n      if (component === '') {\n        continue;\n      }\n\n      if (i > 0) {\n        // Removing the starting slashes for each component but the first.\n        component = component.replace(/^[\\/]+/, '');\n      }\n\n      if (i < strArray.length - 1) {\n        // Removing the ending slashes for each component but the last.\n        component = component.replace(/[\\/]+$/, '');\n      } else {\n        // For the last component we will combine multiple slashes to a single one.\n        component = component.replace(/[\\/]+$/, '/');\n      }\n\n      resultArray.push(component);\n    }\n\n    var str = resultArray.join('/'); // Each input component is now separated by a single slash except the possible first plain protocol part.\n    // remove trailing slash before parameters or hash\n\n    str = str.replace(/\\/(\\?|&|#[^!])/g, '$1'); // replace ? in parameters with &\n\n    var parts = str.split('?');\n    str = parts.shift() + (parts.length > 0 ? '?' : '') + parts.join('&');\n    return str;\n  }\n\n  return function () {\n    var input;\n\n    if (typeof arguments[0] === 'object') {\n      input = arguments[0];\n    } else {\n      input = [].slice.call(arguments);\n    }\n\n    return normalize(input);\n  };\n});","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\n\n\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n\n  return result;\n}\n\nmodule.exports = baseFlatten;","var isArrayLikeObject = require('./isArrayLikeObject');\n/**\n * Casts `value` to an empty array if it's not an array like object.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array|Object} Returns the cast array-like object.\n */\n\n\nfunction castArrayLikeObject(value) {\n  return isArrayLikeObject(value) ? value : [];\n}\n\nmodule.exports = castArrayLikeObject;","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function () {\n    return value;\n  };\n}\n\nmodule.exports = constant;","var Set = require('./_Set'),\n    noop = require('./noop'),\n    setToArray = require('./_setToArray');\n/** Used as references for various `Number` constants. */\n\n\nvar INFINITY = 1 / 0;\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\n\nvar createSet = !(Set && 1 / setToArray(new Set([, -0]))[1] == INFINITY) ? noop : function (values) {\n  return new Set(values);\n};\nmodule.exports = createSet;","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0:\n      return func.call(thisArg);\n\n    case 1:\n      return func.call(thisArg, args[0]);\n\n    case 2:\n      return func.call(thisArg, args[0], args[1]);\n\n    case 3:\n      return func.call(thisArg, args[0], args[1], args[2]);\n  }\n\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;","import React, { Component } from \"react\";\r\nimport Helmet from \"react-helmet\";\r\nimport urljoin from \"url-join\";\r\nimport config from \"../../../data/SiteConfig\";\r\n\r\nclass SEO extends Component {\r\n  render() {\r\n    const { postNode, postPath, postSEO } = this.props;\r\n    let title;\r\n    let description;\r\n    let image;\r\n    let postURL;\r\n    if (postSEO) {\r\n      const postMeta = postNode.frontmatter;\r\n      ({ title } = postMeta);\r\n      description = postMeta.description\r\n        ? postMeta.description\r\n        : postNode.excerpt;\r\n      image = postMeta.cover;\r\n      postURL = urljoin(config.siteUrl, config.pathPrefix, postPath);\r\n    } else {\r\n      title = config.siteTitle;\r\n      description = config.siteDescription;\r\n      image = config.siteLogo;\r\n    }\r\n\r\n    image = urljoin(config.siteUrl, config.pathPrefix, image);\r\n    const blogURL = urljoin(config.siteUrl, config.pathPrefix);\r\n    const schemaOrgJSONLD = [\r\n      {\r\n        \"@context\": \"http://schema.org\",\r\n        \"@type\": \"WebSite\",\r\n        url: blogURL,\r\n        name: title,\r\n        alternateName: config.siteTitleAlt ? config.siteTitleAlt : \"\"\r\n      }\r\n    ];\r\n    if (postSEO) {\r\n      schemaOrgJSONLD.push(\r\n        {\r\n          \"@context\": \"http://schema.org\",\r\n          \"@type\": \"BreadcrumbList\",\r\n          itemListElement: [\r\n            {\r\n              \"@type\": \"ListItem\",\r\n              position: 1,\r\n              item: {\r\n                \"@id\": postURL,\r\n                name: title,\r\n                image\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          \"@context\": \"http://schema.org\",\r\n          \"@type\": \"BlogPosting\",\r\n          url: blogURL,\r\n          name: title,\r\n          alternateName: config.siteTitleAlt ? config.siteTitleAlt : \"\",\r\n          headline: title,\r\n          image: {\r\n            \"@type\": \"ImageObject\",\r\n            url: image\r\n          },\r\n          description\r\n        }\r\n      );\r\n    }\r\n    return (\r\n      <Helmet>\r\n        {/* General tags */}\r\n        <meta name=\"description\" content={description} />\r\n        <meta name=\"image\" content={image} />\r\n\r\n        {/* Schema.org tags */}\r\n        <script type=\"application/ld+json\">\r\n          {JSON.stringify(schemaOrgJSONLD)}\r\n        </script>\r\n\r\n        {/* OpenGraph tags */}\r\n        <meta property=\"og:url\" content={postSEO ? postURL : blogURL} />\r\n        {postSEO ? <meta property=\"og:type\" content=\"article\" /> : null}\r\n        <meta property=\"og:title\" content={title} />\r\n        <meta property=\"og:description\" content={description} />\r\n        <meta property=\"og:image\" content={image} />\r\n        <meta\r\n          property=\"fb:app_id\"\r\n          content={config.siteFBAppID ? config.siteFBAppID : \"\"}\r\n        />\r\n\r\n        {/* Twitter Card tags */}\r\n        <meta name=\"twitter:card\" content=\"summary_large_image\" />\r\n        <meta\r\n          name=\"twitter:creator\"\r\n          content={config.userTwitter ? config.userTwitter : \"\"}\r\n        />\r\n        <meta name=\"twitter:title\" content={title} />\r\n        <meta name=\"twitter:description\" content={description} />\r\n        <meta name=\"twitter:image\" content={image} />\r\n      </Helmet>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SEO;\r\n","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\n\n\nvar baseSetToString = !defineProperty ? identity : function (func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\nmodule.exports = baseSetToString;","import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.set\";\n// cheap lodash replacements\nexport function memoize(fn) {\n  var result = null;\n\n  var memoized = function memoized() {\n    if (result == null) {\n      result = fn();\n    }\n\n    return result;\n  };\n\n  return memoized;\n}\n/**\n * drop-in replacement for _.without\n */\n\nexport function without(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\nexport function union(itemsA, itemsB) {\n  var set = new Set();\n\n  var insertItem = function insertItem(item) {\n    return set.add(item);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  set.forEach(function (key) {\n    return result.push(key);\n  });\n  return result;\n}","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nimport { union, without } from './utils/js_utils';\n\nvar EnterLeaveCounter =\n/*#__PURE__*/\nfunction () {\n  function EnterLeaveCounter(isNodeInDocument) {\n    _classCallCheck(this, EnterLeaveCounter);\n\n    this.entered = [];\n    this.isNodeInDocument = isNodeInDocument;\n  }\n\n  _createClass(EnterLeaveCounter, [{\n    key: \"enter\",\n    value: function enter(enteringNode) {\n      var _this = this;\n\n      var previousLength = this.entered.length;\n\n      var isNodeEntered = function isNodeEntered(node) {\n        return _this.isNodeInDocument(node) && (!node.contains || node.contains(enteringNode));\n      };\n\n      this.entered = union(this.entered.filter(isNodeEntered), [enteringNode]);\n      return previousLength === 0 && this.entered.length > 0;\n    }\n  }, {\n    key: \"leave\",\n    value: function leave(leavingNode) {\n      var previousLength = this.entered.length;\n      this.entered = without(this.entered.filter(this.isNodeInDocument), leavingNode);\n      return previousLength > 0 && this.entered.length === 0;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.entered = [];\n    }\n  }]);\n\n  return EnterLeaveCounter;\n}();\n\nexport { EnterLeaveCounter as default };","import { memoize } from './utils/js_utils';\nexport var isFirefox = memoize(function () {\n  return /firefox/i.test(navigator.userAgent);\n});\nexport var isSafari = memoize(function () {\n  return Boolean(window.safari);\n});","import \"core-js/modules/es6.array.sort\";\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nvar MonotonicInterpolant =\n/*#__PURE__*/\nfunction () {\n  function MonotonicInterpolant(xs, ys) {\n    _classCallCheck(this, MonotonicInterpolant);\n\n    var length = xs.length; // Rearrange xs and ys so that xs is sorted\n\n    var indexes = [];\n\n    for (var i = 0; i < length; i++) {\n      indexes.push(i);\n    }\n\n    indexes.sort(function (a, b) {\n      return xs[a] < xs[b] ? -1 : 1;\n    }); // Get consecutive differences and slopes\n\n    var dys = [];\n    var dxs = [];\n    var ms = [];\n    var dx;\n    var dy;\n\n    for (var _i = 0; _i < length - 1; _i++) {\n      dx = xs[_i + 1] - xs[_i];\n      dy = ys[_i + 1] - ys[_i];\n      dxs.push(dx);\n      dys.push(dy);\n      ms.push(dy / dx);\n    } // Get degree-1 coefficients\n\n\n    var c1s = [ms[0]];\n\n    for (var _i2 = 0; _i2 < dxs.length - 1; _i2++) {\n      var m2 = ms[_i2];\n      var mNext = ms[_i2 + 1];\n\n      if (m2 * mNext <= 0) {\n        c1s.push(0);\n      } else {\n        dx = dxs[_i2];\n        var dxNext = dxs[_i2 + 1];\n        var common = dx + dxNext;\n        c1s.push(3 * common / ((common + dxNext) / m2 + (common + dx) / mNext));\n      }\n    }\n\n    c1s.push(ms[ms.length - 1]); // Get degree-2 and degree-3 coefficients\n\n    var c2s = [];\n    var c3s = [];\n    var m;\n\n    for (var _i3 = 0; _i3 < c1s.length - 1; _i3++) {\n      m = ms[_i3];\n      var c1 = c1s[_i3];\n      var invDx = 1 / dxs[_i3];\n\n      var _common = c1 + c1s[_i3 + 1] - m - m;\n\n      c2s.push((m - c1 - _common) * invDx);\n      c3s.push(_common * invDx * invDx);\n    }\n\n    this.xs = xs;\n    this.ys = ys;\n    this.c1s = c1s;\n    this.c2s = c2s;\n    this.c3s = c3s;\n  }\n\n  _createClass(MonotonicInterpolant, [{\n    key: \"interpolate\",\n    value: function interpolate(x) {\n      var xs = this.xs,\n          ys = this.ys,\n          c1s = this.c1s,\n          c2s = this.c2s,\n          c3s = this.c3s; // The rightmost point in the dataset should give an exact result\n\n      var i = xs.length - 1;\n\n      if (x === xs[i]) {\n        return ys[i];\n      } // Search for the interval x is in, returning the corresponding y if x is one of the original xs\n\n\n      var low = 0;\n      var high = c3s.length - 1;\n      var mid;\n\n      while (low <= high) {\n        mid = Math.floor(0.5 * (low + high));\n        var xHere = xs[mid];\n\n        if (xHere < x) {\n          low = mid + 1;\n        } else if (xHere > x) {\n          high = mid - 1;\n        } else {\n          return ys[mid];\n        }\n      }\n\n      i = Math.max(0, high); // Interpolate\n\n      var diff = x - xs[i];\n      var diffSq = diff * diff;\n      return ys[i] + c1s[i] * diff + c2s[i] * diffSq + c3s[i] * diff * diffSq;\n    }\n  }]);\n\n  return MonotonicInterpolant;\n}();\n\nexport { MonotonicInterpolant as default };","import { isSafari, isFirefox } from './BrowserDetector';\nimport MonotonicInterpolant from './MonotonicInterpolant';\nvar ELEMENT_NODE = 1;\nexport function getNodeClientOffset(node) {\n  var el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;\n\n  if (!el) {\n    return null;\n  }\n\n  var _el$getBoundingClient = el.getBoundingClientRect(),\n      top = _el$getBoundingClient.top,\n      left = _el$getBoundingClient.left;\n\n  return {\n    x: left,\n    y: top\n  };\n}\nexport function getEventClientOffset(e) {\n  return {\n    x: e.clientX,\n    y: e.clientY\n  };\n}\n\nfunction isImageNode(node) {\n  return node.nodeName === 'IMG' && (isFirefox() || !document.documentElement.contains(node));\n}\n\nfunction getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight) {\n  var dragPreviewWidth = isImage ? dragPreview.width : sourceWidth;\n  var dragPreviewHeight = isImage ? dragPreview.height : sourceHeight; // Work around @2x coordinate discrepancies in browsers\n\n  if (isSafari() && isImage) {\n    dragPreviewHeight /= window.devicePixelRatio;\n    dragPreviewWidth /= window.devicePixelRatio;\n  }\n\n  return {\n    dragPreviewWidth: dragPreviewWidth,\n    dragPreviewHeight: dragPreviewHeight\n  };\n}\n\nexport function getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint) {\n  // The browsers will use the image intrinsic size under different conditions.\n  // Firefox only cares if it's an image, but WebKit also wants it to be detached.\n  var isImage = isImageNode(dragPreview);\n  var dragPreviewNode = isImage ? sourceNode : dragPreview;\n  var dragPreviewNodeOffsetFromClient = getNodeClientOffset(dragPreviewNode);\n  var offsetFromDragPreview = {\n    x: clientOffset.x - dragPreviewNodeOffsetFromClient.x,\n    y: clientOffset.y - dragPreviewNodeOffsetFromClient.y\n  };\n  var sourceWidth = sourceNode.offsetWidth,\n      sourceHeight = sourceNode.offsetHeight;\n  var anchorX = anchorPoint.anchorX,\n      anchorY = anchorPoint.anchorY;\n\n  var _getDragPreviewSize = getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight),\n      dragPreviewWidth = _getDragPreviewSize.dragPreviewWidth,\n      dragPreviewHeight = _getDragPreviewSize.dragPreviewHeight;\n\n  var calculateYOffset = function calculateYOffset() {\n    var interpolantY = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the top\n    offsetFromDragPreview.y, // Align at the center\n    offsetFromDragPreview.y / sourceHeight * dragPreviewHeight, // Dock to the bottom\n    offsetFromDragPreview.y + dragPreviewHeight - sourceHeight]);\n    var y = interpolantY.interpolate(anchorY); // Work around Safari 8 positioning bug\n\n    if (isSafari() && isImage) {\n      // We'll have to wait for @3x to see if this is entirely correct\n      y += (window.devicePixelRatio - 1) * dragPreviewHeight;\n    }\n\n    return y;\n  };\n\n  var calculateXOffset = function calculateXOffset() {\n    // Interpolate coordinates depending on anchor point\n    // If you know a simpler way to do this, let me know\n    var interpolantX = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the left\n    offsetFromDragPreview.x, // Align at the center\n    offsetFromDragPreview.x / sourceWidth * dragPreviewWidth, // Dock to the right\n    offsetFromDragPreview.x + dragPreviewWidth - sourceWidth]);\n    return interpolantX.interpolate(anchorX);\n  }; // Force offsets if specified in the options.\n\n\n  var offsetX = offsetPoint.offsetX,\n      offsetY = offsetPoint.offsetY;\n  var isManualOffsetX = offsetX === 0 || offsetX;\n  var isManualOffsetY = offsetY === 0 || offsetY;\n  return {\n    x: isManualOffsetX ? offsetX : calculateXOffset(),\n    y: isManualOffsetY ? offsetY : calculateYOffset()\n  };\n}","import \"core-js/modules/es6.regexp.split\";\n\nvar _nativeTypesConfig;\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport * as NativeTypes from '../NativeTypes';\nimport { getDataFromDataTransfer } from './getDataFromDataTransfer';\nexport var nativeTypesConfig = (_nativeTypesConfig = {}, _defineProperty(_nativeTypesConfig, NativeTypes.FILE, {\n  exposeProperties: {\n    files: function files(dataTransfer) {\n      return Array.prototype.slice.call(dataTransfer.files);\n    },\n    items: function items(dataTransfer) {\n      return dataTransfer.items;\n    }\n  },\n  matchesTypes: ['Files']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.URL, {\n  exposeProperties: {\n    urls: function urls(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '').split('\\n');\n    }\n  },\n  matchesTypes: ['Url', 'text/uri-list']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.TEXT, {\n  exposeProperties: {\n    text: function text(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '');\n    }\n  },\n  matchesTypes: ['Text', 'text/plain']\n}), _nativeTypesConfig);","export var FILE = '__NATIVE_FILE__';\nexport var URL = '__NATIVE_URL__';\nexport var TEXT = '__NATIVE_TEXT__';","export function getDataFromDataTransfer(dataTransfer, typesToTry, defaultValue) {\n  var result = typesToTry.reduce(function (resultSoFar, typeToTry) {\n    return resultSoFar || dataTransfer.getData(typeToTry);\n  }, '');\n  return result != null ? result : defaultValue;\n}","import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nexport var NativeDragSource =\n/*#__PURE__*/\nfunction () {\n  function NativeDragSource(config) {\n    var _this = this;\n\n    _classCallCheck(this, NativeDragSource);\n\n    this.config = config;\n    this.item = {};\n    Object.keys(this.config.exposeProperties).forEach(function (property) {\n      Object.defineProperty(_this.item, property, {\n        configurable: true,\n        enumerable: true,\n        get: function get() {\n          // eslint-disable-next-line no-console\n          console.warn(\"Browser doesn't allow reading \\\"\".concat(property, \"\\\" until the drop event.\"));\n          return null;\n        }\n      });\n    });\n  }\n\n  _createClass(NativeDragSource, [{\n    key: \"mutateItemByReadingDataTransfer\",\n    value: function mutateItemByReadingDataTransfer(dataTransfer) {\n      var _this2 = this;\n\n      var newProperties = {};\n\n      if (dataTransfer) {\n        Object.keys(this.config.exposeProperties).forEach(function (property) {\n          newProperties[property] = {\n            value: _this2.config.exposeProperties[property](dataTransfer, _this2.config.matchesTypes)\n          };\n        });\n      }\n\n      Object.defineProperties(this.item, newProperties);\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      return true;\n    }\n  }, {\n    key: \"beginDrag\",\n    value: function beginDrag() {\n      return this.item;\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(monitor, handle) {\n      return handle === monitor.getSourceId();\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {// empty\n    }\n  }]);\n\n  return NativeDragSource;\n}();","import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport { nativeTypesConfig } from './nativeTypesConfig';\nimport { NativeDragSource } from './NativeDragSource';\nexport function createNativeDragSource(type) {\n  return new NativeDragSource(nativeTypesConfig[type]);\n}\nexport function matchNativeItemType(dataTransfer) {\n  if (!dataTransfer) {\n    return null;\n  }\n\n  var dataTransferTypes = Array.prototype.slice.call(dataTransfer.types || []);\n  return Object.keys(nativeTypesConfig).filter(function (nativeItemType) {\n    var matchesTypes = nativeTypesConfig[nativeItemType].matchesTypes;\n    return matchesTypes.some(function (t) {\n      return dataTransferTypes.indexOf(t) > -1;\n    });\n  })[0] || null;\n}","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nexport var OptionsReader =\n/*#__PURE__*/\nfunction () {\n  function OptionsReader(globalContext) {\n    _classCallCheck(this, OptionsReader);\n\n    this.globalContext = globalContext;\n  }\n\n  _createClass(OptionsReader, [{\n    key: \"window\",\n    get: function get() {\n      if (this.globalContext) {\n        return this.globalContext;\n      } else if (typeof window !== 'undefined') {\n        return window;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      if (this.window) {\n        return this.window.document;\n      }\n\n      return undefined;\n    }\n  }]);\n\n  return OptionsReader;\n}();","import \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.map\";\nimport \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nimport EnterLeaveCounter from './EnterLeaveCounter';\nimport { isFirefox } from './BrowserDetector';\nimport { getNodeClientOffset, getEventClientOffset, getDragPreviewOffset } from './OffsetUtils';\nimport { createNativeDragSource, matchNativeItemType } from './NativeDragSources';\nimport * as NativeTypes from './NativeTypes';\nimport { OptionsReader } from './OptionsReader';\n\nvar HTML5Backend =\n/*#__PURE__*/\nfunction () {\n  function HTML5Backend(manager, globalContext) {\n    var _this = this;\n\n    _classCallCheck(this, HTML5Backend);\n\n    this.sourcePreviewNodes = new Map();\n    this.sourcePreviewNodeOptions = new Map();\n    this.sourceNodes = new Map();\n    this.sourceNodeOptions = new Map();\n    this.dragStartSourceIds = null;\n    this.dropTargetIds = [];\n    this.dragEnterTargetIds = [];\n    this.currentNativeSource = null;\n    this.currentNativeHandle = null;\n    this.currentDragSourceNode = null;\n    this.altKeyPressed = false;\n    this.mouseMoveTimeoutTimer = null;\n    this.asyncEndDragFrameId = null;\n    this.dragOverTargetIds = null;\n\n    this.getSourceClientOffset = function (sourceId) {\n      return getNodeClientOffset(_this.sourceNodes.get(sourceId));\n    };\n\n    this.endDragNativeItem = function () {\n      if (!_this.isDraggingNativeItem()) {\n        return;\n      }\n\n      _this.actions.endDrag();\n\n      _this.registry.removeSource(_this.currentNativeHandle);\n\n      _this.currentNativeHandle = null;\n      _this.currentNativeSource = null;\n    };\n\n    this.isNodeInDocument = function (node) {\n      // Check the node either in the main document or in the current context\n      return _this.document && _this.document.body && document.body.contains(node);\n    };\n\n    this.endDragIfSourceWasRemovedFromDOM = function () {\n      var node = _this.currentDragSourceNode;\n\n      if (_this.isNodeInDocument(node)) {\n        return;\n      }\n\n      if (_this.clearCurrentDragSourceNode()) {\n        _this.actions.endDrag();\n      }\n    };\n\n    this.handleTopDragStartCapture = function () {\n      _this.clearCurrentDragSourceNode();\n\n      _this.dragStartSourceIds = [];\n    };\n\n    this.handleTopDragStart = function (e) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      var dragStartSourceIds = _this.dragStartSourceIds;\n      _this.dragStartSourceIds = null;\n      var clientOffset = getEventClientOffset(e); // Avoid crashing if we missed a drop event or our previous drag died\n\n      if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      } // Don't publish the source just yet (see why below)\n\n\n      _this.actions.beginDrag(dragStartSourceIds || [], {\n        publishSource: false,\n        getSourceClientOffset: _this.getSourceClientOffset,\n        clientOffset: clientOffset\n      });\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (_this.monitor.isDragging()) {\n        if (dataTransfer && typeof dataTransfer.setDragImage === 'function') {\n          // Use custom drag image if user specifies it.\n          // If child drag source refuses drag but parent agrees,\n          // use parent's node as drag image. Neither works in IE though.\n          var sourceId = _this.monitor.getSourceId();\n\n          var sourceNode = _this.sourceNodes.get(sourceId);\n\n          var dragPreview = _this.sourcePreviewNodes.get(sourceId) || sourceNode;\n\n          if (dragPreview) {\n            var _this$getCurrentSourc = _this.getCurrentSourcePreviewNodeOptions(),\n                anchorX = _this$getCurrentSourc.anchorX,\n                anchorY = _this$getCurrentSourc.anchorY,\n                offsetX = _this$getCurrentSourc.offsetX,\n                offsetY = _this$getCurrentSourc.offsetY;\n\n            var anchorPoint = {\n              anchorX: anchorX,\n              anchorY: anchorY\n            };\n            var offsetPoint = {\n              offsetX: offsetX,\n              offsetY: offsetY\n            };\n            var dragPreviewOffset = getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint);\n            dataTransfer.setDragImage(dragPreview, dragPreviewOffset.x, dragPreviewOffset.y);\n          }\n        }\n\n        try {\n          // Firefox won't drag without setting data\n          dataTransfer.setData('application/json', {});\n        } catch (err) {} // IE doesn't support MIME types in setData\n        // Store drag source node so we can check whether\n        // it is removed from DOM and trigger endDrag manually.\n\n\n        _this.setCurrentDragSourceNode(e.target); // Now we are ready to publish the drag source.. or are we not?\n\n\n        var _this$getCurrentSourc2 = _this.getCurrentSourcePreviewNodeOptions(),\n            captureDraggingState = _this$getCurrentSourc2.captureDraggingState;\n\n        if (!captureDraggingState) {\n          // Usually we want to publish it in the next tick so that browser\n          // is able to screenshot the current (not yet dragging) state.\n          //\n          // It also neatly avoids a situation where render() returns null\n          // in the same tick for the source element, and browser freaks out.\n          setTimeout(function () {\n            return _this.actions.publishDragSource();\n          }, 0);\n        } else {\n          // In some cases the user may want to override this behavior, e.g.\n          // to work around IE not supporting custom drag previews.\n          //\n          // When using a custom drag layer, the only way to prevent\n          // the default drag preview from drawing in IE is to screenshot\n          // the dragging state in which the node itself has zero opacity\n          // and height. In this case, though, returning null from render()\n          // will abruptly end the dragging, which is not obvious.\n          //\n          // This is the reason such behavior is strictly opt-in.\n          _this.actions.publishDragSource();\n        }\n      } else if (nativeType) {\n        // A native item (such as URL) dragged from inside the document\n        _this.beginDragNativeItem(nativeType);\n      } else if (dataTransfer && !dataTransfer.types && (e.target && !e.target.hasAttribute || !e.target.hasAttribute('draggable'))) {\n        // Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n        // Just let it drag. It's a native type (URL or text) and will be picked up in\n        // dragenter handler.\n        return;\n      } else {\n        // If by this time no drag source reacted, tell browser not to drag.\n        e.preventDefault();\n      }\n    };\n\n    this.handleTopDragEndCapture = function () {\n      if (_this.clearCurrentDragSourceNode()) {\n        // Firefox can dispatch this event in an infinite loop\n        // if dragend handler does something like showing an alert.\n        // Only proceed if we have not handled it already.\n        _this.actions.endDrag();\n      }\n    };\n\n    this.handleTopDragEnterCapture = function (e) {\n      _this.dragEnterTargetIds = [];\n\n      var isFirstEnter = _this.enterLeaveCounter.enter(e.target);\n\n      if (!isFirstEnter || _this.monitor.isDragging()) {\n        return;\n      }\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (nativeType) {\n        // A native item (such as file or URL) dragged from outside the document\n        _this.beginDragNativeItem(nativeType);\n      }\n    };\n\n    this.handleTopDragEnter = function (e) {\n      var dragEnterTargetIds = _this.dragEnterTargetIds;\n      _this.dragEnterTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n\n      if (!isFirefox()) {\n        // Don't emit hover in `dragenter` on Firefox due to an edge case.\n        // If the target changes position as the result of `dragenter`, Firefox\n        // will still happily dispatch `dragover` despite target being no longer\n        // there. The easy solution is to only fire `hover` in `dragover` on FF.\n        _this.actions.hover(dragEnterTargetIds, {\n          clientOffset: getEventClientOffset(e)\n        });\n      }\n\n      var canDrop = dragEnterTargetIds.some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // IE requires this to fire dragover events\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      }\n    };\n\n    this.handleTopDragOverCapture = function () {\n      _this.dragOverTargetIds = [];\n    };\n\n    this.handleTopDragOver = function (e) {\n      var dragOverTargetIds = _this.dragOverTargetIds;\n      _this.dragOverTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        // Prevent default \"drop and blow away the whole document\" action.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n\n      _this.actions.hover(dragOverTargetIds || [], {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      var canDrop = (dragOverTargetIds || []).some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // Show user-specified drop effect.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      } else if (_this.isDraggingNativeItem()) {\n        // Don't show a nice cursor but still prevent default\n        // \"drop and blow away the whole document\" action.\n        e.preventDefault();\n      } else {\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n      }\n    };\n\n    this.handleTopDragLeaveCapture = function (e) {\n      if (_this.isDraggingNativeItem()) {\n        e.preventDefault();\n      }\n\n      var isLastLeave = _this.enterLeaveCounter.leave(e.target);\n\n      if (!isLastLeave) {\n        return;\n      }\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      }\n    };\n\n    this.handleTopDropCapture = function (e) {\n      _this.dropTargetIds = [];\n      e.preventDefault();\n\n      if (_this.isDraggingNativeItem()) {\n        _this.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer);\n      }\n\n      _this.enterLeaveCounter.reset();\n    };\n\n    this.handleTopDrop = function (e) {\n      var dropTargetIds = _this.dropTargetIds;\n      _this.dropTargetIds = [];\n\n      _this.actions.hover(dropTargetIds, {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      _this.actions.drop({\n        dropEffect: _this.getCurrentDropEffect()\n      });\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      } else {\n        _this.endDragIfSourceWasRemovedFromDOM();\n      }\n    };\n\n    this.handleSelectStart = function (e) {\n      var target = e.target; // Only IE requires us to explicitly say\n      // we want drag drop operation to start\n\n      if (typeof target.dragDrop !== 'function') {\n        return;\n      } // Inputs and textareas should be selectable\n\n\n      if (target.tagName === 'INPUT' || target.tagName === 'SELECT' || target.tagName === 'TEXTAREA' || target.isContentEditable) {\n        return;\n      } // For other targets, ask IE\n      // to enable drag and drop\n\n\n      e.preventDefault();\n      target.dragDrop();\n    };\n\n    this.options = new OptionsReader(globalContext);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.registry = manager.getRegistry();\n    this.enterLeaveCounter = new EnterLeaveCounter(this.isNodeInDocument);\n  } // public for test\n\n\n  _createClass(HTML5Backend, [{\n    key: \"setup\",\n    value: function setup() {\n      if (this.window === undefined) {\n        return;\n      }\n\n      if (this.window.__isReactDndBackendSetUp) {\n        throw new Error('Cannot have two HTML5 backends at the same time.');\n      }\n\n      this.window.__isReactDndBackendSetUp = true;\n      this.addEventListeners(this.window);\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      if (this.window === undefined) {\n        return;\n      }\n\n      this.window.__isReactDndBackendSetUp = false;\n      this.removeEventListeners(this.window);\n      this.clearCurrentDragSourceNode();\n\n      if (this.asyncEndDragFrameId) {\n        this.window.cancelAnimationFrame(this.asyncEndDragFrameId);\n      }\n    }\n  }, {\n    key: \"connectDragPreview\",\n    value: function connectDragPreview(sourceId, node, options) {\n      var _this2 = this;\n\n      this.sourcePreviewNodeOptions.set(sourceId, options);\n      this.sourcePreviewNodes.set(sourceId, node);\n      return function () {\n        _this2.sourcePreviewNodes.delete(sourceId);\n\n        _this2.sourcePreviewNodeOptions.delete(sourceId);\n      };\n    }\n  }, {\n    key: \"connectDragSource\",\n    value: function connectDragSource(sourceId, node, options) {\n      var _this3 = this;\n\n      this.sourceNodes.set(sourceId, node);\n      this.sourceNodeOptions.set(sourceId, options);\n\n      var handleDragStart = function handleDragStart(e) {\n        return _this3.handleDragStart(e, sourceId);\n      };\n\n      var handleSelectStart = function handleSelectStart(e) {\n        return _this3.handleSelectStart(e);\n      };\n\n      node.setAttribute('draggable', 'true');\n      node.addEventListener('dragstart', handleDragStart);\n      node.addEventListener('selectstart', handleSelectStart);\n      return function () {\n        _this3.sourceNodes.delete(sourceId);\n\n        _this3.sourceNodeOptions.delete(sourceId);\n\n        node.removeEventListener('dragstart', handleDragStart);\n        node.removeEventListener('selectstart', handleSelectStart);\n        node.setAttribute('draggable', 'false');\n      };\n    }\n  }, {\n    key: \"connectDropTarget\",\n    value: function connectDropTarget(targetId, node) {\n      var _this4 = this;\n\n      var handleDragEnter = function handleDragEnter(e) {\n        return _this4.handleDragEnter(e, targetId);\n      };\n\n      var handleDragOver = function handleDragOver(e) {\n        return _this4.handleDragOver(e, targetId);\n      };\n\n      var handleDrop = function handleDrop(e) {\n        return _this4.handleDrop(e, targetId);\n      };\n\n      node.addEventListener('dragenter', handleDragEnter);\n      node.addEventListener('dragover', handleDragOver);\n      node.addEventListener('drop', handleDrop);\n      return function () {\n        node.removeEventListener('dragenter', handleDragEnter);\n        node.removeEventListener('dragover', handleDragOver);\n        node.removeEventListener('drop', handleDrop);\n      };\n    }\n  }, {\n    key: \"addEventListeners\",\n    value: function addEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.addEventListener) {\n        return;\n      }\n\n      target.addEventListener('dragstart', this.handleTopDragStart);\n      target.addEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.addEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.addEventListener('dragenter', this.handleTopDragEnter);\n      target.addEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.addEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.addEventListener('dragover', this.handleTopDragOver);\n      target.addEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.addEventListener('drop', this.handleTopDrop);\n      target.addEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"removeEventListeners\",\n    value: function removeEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.removeEventListener) {\n        return;\n      }\n\n      target.removeEventListener('dragstart', this.handleTopDragStart);\n      target.removeEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.removeEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.removeEventListener('dragenter', this.handleTopDragEnter);\n      target.removeEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.removeEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.removeEventListener('dragover', this.handleTopDragOver);\n      target.removeEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.removeEventListener('drop', this.handleTopDrop);\n      target.removeEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"getCurrentSourceNodeOptions\",\n    value: function getCurrentSourceNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourceNodeOptions = this.sourceNodeOptions.get(sourceId);\n      return _objectSpread({\n        dropEffect: this.altKeyPressed ? 'copy' : 'move'\n      }, sourceNodeOptions || {});\n    }\n  }, {\n    key: \"getCurrentDropEffect\",\n    value: function getCurrentDropEffect() {\n      if (this.isDraggingNativeItem()) {\n        // It makes more sense to default to 'copy' for native resources\n        return 'copy';\n      }\n\n      return this.getCurrentSourceNodeOptions().dropEffect;\n    }\n  }, {\n    key: \"getCurrentSourcePreviewNodeOptions\",\n    value: function getCurrentSourcePreviewNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId);\n      return _objectSpread({\n        anchorX: 0.5,\n        anchorY: 0.5,\n        captureDraggingState: false\n      }, sourcePreviewNodeOptions || {});\n    }\n  }, {\n    key: \"isDraggingNativeItem\",\n    value: function isDraggingNativeItem() {\n      var itemType = this.monitor.getItemType();\n      return Object.keys(NativeTypes).some(function (key) {\n        return NativeTypes[key] === itemType;\n      });\n    }\n  }, {\n    key: \"beginDragNativeItem\",\n    value: function beginDragNativeItem(type) {\n      this.clearCurrentDragSourceNode();\n      this.currentNativeSource = createNativeDragSource(type);\n      this.currentNativeHandle = this.registry.addSource(type, this.currentNativeSource);\n      this.actions.beginDrag([this.currentNativeHandle]);\n    }\n  }, {\n    key: \"setCurrentDragSourceNode\",\n    value: function setCurrentDragSourceNode(node) {\n      var _this5 = this;\n\n      this.clearCurrentDragSourceNode();\n      this.currentDragSourceNode = node; // A timeout of > 0 is necessary to resolve Firefox issue referenced\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n\n      var MOUSE_MOVE_TIMEOUT = 1000; // Receiving a mouse event in the middle of a dragging operation\n      // means it has ended and the drag source node disappeared from DOM,\n      // so the browser didn't dispatch the dragend event.\n      //\n      // We need to wait before we start listening for mousemove events.\n      // This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n      // immediately in some browsers.\n      //\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n      //\n\n      this.mouseMoveTimeoutTimer = setTimeout(function () {\n        return _this5.window && _this5.window.addEventListener('mousemove', _this5.endDragIfSourceWasRemovedFromDOM, true);\n      }, MOUSE_MOVE_TIMEOUT);\n    }\n  }, {\n    key: \"clearCurrentDragSourceNode\",\n    value: function clearCurrentDragSourceNode() {\n      if (this.currentDragSourceNode) {\n        this.currentDragSourceNode = null;\n\n        if (this.window) {\n          this.window.clearTimeout(this.mouseMoveTimeoutTimer || undefined);\n          this.window.removeEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);\n        }\n\n        this.mouseMoveTimeoutTimer = null;\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"handleDragStart\",\n    value: function handleDragStart(e, sourceId) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      if (!this.dragStartSourceIds) {\n        this.dragStartSourceIds = [];\n      }\n\n      this.dragStartSourceIds.unshift(sourceId);\n    }\n  }, {\n    key: \"handleDragEnter\",\n    value: function handleDragEnter(e, targetId) {\n      this.dragEnterTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDragOver\",\n    value: function handleDragOver(e, targetId) {\n      if (this.dragOverTargetIds === null) {\n        this.dragOverTargetIds = [];\n      }\n\n      this.dragOverTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDrop\",\n    value: function handleDrop(e, targetId) {\n      this.dropTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"window\",\n    get: function get() {\n      return this.options.window;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      return this.options.document;\n    }\n  }]);\n\n  return HTML5Backend;\n}();\n\nexport { HTML5Backend as default };","import HTML5Backend from './HTML5Backend';\nimport * as NativeTypes from './NativeTypes';\nexport { getEmptyImage } from './getEmptyImage';\nexport { NativeTypes };\n\nvar createHTML5Backend = function createHTML5Backend(manager, context) {\n  return new HTML5Backend(manager, context);\n};\n\nexport default createHTML5Backend;","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n  set.forEach(function (value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\n\nvar nativeMin = Math.min;\n/**\n * The base implementation of methods like `_.intersection`, without support\n * for iteratee shorthands, that accepts an array of arrays to inspect.\n *\n * @private\n * @param {Array} arrays The arrays to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of shared values.\n */\n\nfunction baseIntersection(arrays, iteratee, comparator) {\n  var includes = comparator ? arrayIncludesWith : arrayIncludes,\n      length = arrays[0].length,\n      othLength = arrays.length,\n      othIndex = othLength,\n      caches = Array(othLength),\n      maxLength = Infinity,\n      result = [];\n\n  while (othIndex--) {\n    var array = arrays[othIndex];\n\n    if (othIndex && iteratee) {\n      array = arrayMap(array, baseUnary(iteratee));\n    }\n\n    maxLength = nativeMin(array.length, maxLength);\n    caches[othIndex] = !comparator && (iteratee || length >= 120 && array.length >= 120) ? new SetCache(othIndex && array) : undefined;\n  }\n\n  array = arrays[0];\n  var index = -1,\n      seen = caches[0];\n\n  outer: while (++index < length && result.length < maxLength) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n    value = comparator || value !== 0 ? value : 0;\n\n    if (!(seen ? cacheHas(seen, computed) : includes(result, computed, comparator))) {\n      othIndex = othLength;\n\n      while (--othIndex) {\n        var cache = caches[othIndex];\n\n        if (!(cache ? cacheHas(cache, computed) : includes(arrays[othIndex], computed, comparator))) {\n          continue outer;\n        }\n      }\n\n      if (seen) {\n        seen.push(computed);\n      }\n\n      result.push(value);\n    }\n  }\n\n  return result;\n}\n\nmodule.exports = baseIntersection;","var baseIndexOf = require('./_baseIndexOf'),\n    toInteger = require('./toInteger');\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\n\nvar nativeMax = Math.max;\n/**\n * Gets the index at which the first occurrence of `value` is found in `array`\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. If `fromIndex` is negative, it's used as the\n * offset from the end of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n * @example\n *\n * _.indexOf([1, 2, 1, 2], 2);\n * // => 1\n *\n * // Search from the `fromIndex`.\n * _.indexOf([1, 2, 1, 2], 2, 2);\n * // => 3\n */\n\nfunction indexOf(array, value, fromIndex) {\n  var length = array == null ? 0 : array.length;\n\n  if (!length) {\n    return -1;\n  }\n\n  var index = fromIndex == null ? 0 : toInteger(fromIndex);\n\n  if (index < 0) {\n    index = nativeMax(length + index, 0);\n  }\n\n  return baseIndexOf(array, value, index);\n}\n\nmodule.exports = indexOf;","var baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    baseUniq = require('./_baseUniq'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n/**\n * Creates an array of unique values, in order, from all given arrays using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of combined values.\n * @example\n *\n * _.union([2], [1, 2]);\n * // => [2, 1]\n */\n\n\nvar union = baseRest(function (arrays) {\n  return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n});\nmodule.exports = union;","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {// No operation performed.\n}\n\nmodule.exports = noop;","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\n\n\nvar setToString = shortOut(baseSetToString);\nmodule.exports = setToString;"],"sourceRoot":""}
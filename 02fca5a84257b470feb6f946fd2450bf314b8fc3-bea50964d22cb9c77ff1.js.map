{"version":3,"sources":["webpack:///./node_modules/lodash/isSymbol.js","webpack:///./node_modules/react-dnd/dist/esm/hooks/internal/useIsomorphicLayoutEffect.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./node_modules/lodash/_getRawTag.js","webpack:///./node_modules/react-dnd/dist/esm/common/DragSourceMonitorImpl.js","webpack:///./node_modules/react-dnd/dist/esm/common/SourceConnector.js","webpack:///./node_modules/react-dnd/dist/esm/hooks/internal/drag.js","webpack:///./node_modules/react-dnd/dist/esm/hooks/useDrag.js","webpack:///./node_modules/lodash/isObjectLike.js","webpack:///./node_modules/asap/browser-raw.js","webpack:///./node_modules/asap/browser-asap.js","webpack:///./node_modules/lodash/_objectToString.js","webpack:///./node_modules/lodash/_root.js","webpack:///./node_modules/redux/es/redux.js","webpack:///./node_modules/dnd-core/dist/esm/actions/dragDrop/types.js","webpack:///./node_modules/dnd-core/dist/esm/utils/equality.js","webpack:///./node_modules/dnd-core/dist/esm/reducers/dragOffset.js","webpack:///./node_modules/dnd-core/dist/esm/actions/registry.js","webpack:///./node_modules/dnd-core/dist/esm/utils/js_utils.js","webpack:///./node_modules/dnd-core/dist/esm/reducers/dragOperation.js","webpack:///./node_modules/dnd-core/dist/esm/reducers/refCount.js","webpack:///./node_modules/dnd-core/dist/esm/utils/dirtiness.js","webpack:///./node_modules/dnd-core/dist/esm/reducers/dirtyHandlerIds.js","webpack:///./node_modules/dnd-core/dist/esm/reducers/stateId.js","webpack:///./node_modules/dnd-core/dist/esm/reducers/index.js","webpack:///./node_modules/dnd-core/dist/esm/actions/dragDrop/local/setClientOffset.js","webpack:///./node_modules/dnd-core/dist/esm/actions/dragDrop/beginDrag.js","webpack:///./node_modules/dnd-core/dist/esm/actions/dragDrop/publishDragSource.js","webpack:///./node_modules/dnd-core/dist/esm/utils/matchesType.js","webpack:///./node_modules/dnd-core/dist/esm/actions/dragDrop/hover.js","webpack:///./node_modules/dnd-core/dist/esm/actions/dragDrop/drop.js","webpack:///./node_modules/dnd-core/dist/esm/actions/dragDrop/endDrag.js","webpack:///./node_modules/dnd-core/dist/esm/utils/coords.js","webpack:///./node_modules/dnd-core/dist/esm/DragDropMonitorImpl.js","webpack:///./node_modules/dnd-core/dist/esm/interfaces.js","webpack:///./node_modules/dnd-core/dist/esm/utils/getNextUniqueId.js","webpack:///./node_modules/dnd-core/dist/esm/contracts.js","webpack:///./node_modules/dnd-core/dist/esm/HandlerRegistryImpl.js","webpack:///./node_modules/dnd-core/dist/esm/DragDropManagerImpl.js","webpack:///./node_modules/dnd-core/dist/esm/actions/dragDrop/index.js","webpack:///./node_modules/dnd-core/dist/esm/factories.js","webpack:///./node_modules/react-dnd/dist/esm/common/DndContext.js","webpack:///./node_modules/lodash/_baseGetTag.js","webpack:///./node_modules/react-dnd/dist/esm/hooks/internal/useCollector.js","webpack:///./node_modules/react-dnd/dist/esm/hooks/internal/useMonitorOutput.js","webpack:///./node_modules/symbol-observable/es/ponyfill.js","webpack:///./node_modules/react-dnd/dist/esm/utils/isRef.js","webpack:///./node_modules/lodash/_freeGlobal.js","webpack:///./node_modules/lodash/isArray.js","webpack:///./node_modules/react-dnd/dist/esm/hooks/internal/useDragDropManager.js","webpack:///./node_modules/symbol-observable/es/index.js","webpack:///./node_modules/lodash/toString.js","webpack:///./node_modules/lodash/_arrayMap.js","webpack:///./node_modules/react-dnd/dist/esm/utils/cloneWithRef.js","webpack:///./node_modules/react-dnd/dist/esm/common/wrapConnectorHooks.js","webpack:///./node_modules/lodash/_Symbol.js","webpack:///./node_modules/react-dnd/dist/esm/common/registration.js","webpack:///./node_modules/lodash/_baseToString.js"],"names":["baseGetTag","isObjectLike","module","exports","value","useIsomorphicLayoutEffect","window","originalModule","webpackPolyfill","Object","create","children","defineProperty","enumerable","get","l","i","Symbol","objectProto","prototype","hasOwnProperty","nativeObjectToString","toString","symToStringTag","toStringTag","undefined","isOwn","call","tag","unmasked","e","result","_defineProperties","target","props","length","descriptor","configurable","writable","key","isCallingCanDrag","isCallingIsDragging","DragSourceMonitorImpl","manager","instance","Constructor","TypeError","_classCallCheck","this","sourceId","internalMonitor","getMonitor","protoProps","staticProps","canDragSource","isDraggingSource","listener","options","subscribeToStateChange","targetId","isOverTarget","getTargetIds","isSourcePublic","getSourceId","subscribeToOffsetChange","canDropOnTarget","getItemType","getItem","getDropResult","didDrop","getInitialClientOffset","getInitialSourceClientOffset","getSourceClientOffset","getClientOffset","getDifferenceFromInitialOffset","SourceConnector","backend","_this","hooks","wrapConnectorHooks","dragSource","node","clearDragSource","dragSourceOptions","isRef","dragSourceRef","dragSourceNode","reconnectDragSource","dragPreview","clearDragPreview","dragPreviewOptions","dragPreviewRef","dragPreviewNode","reconnectDragPreview","handlerId","dragSourceOptionsInternal","dragPreviewOptionsInternal","lastConnectedHandlerId","lastConnectedDragSource","lastConnectedDragSourceOptions","lastConnectedDragPreview","lastConnectedDragPreviewOptions","newHandlerId","reconnect","didChange","didHandlerIdChange","didConnectedDragSourceChange","didDragSourceOptionsChange","disconnectDragSource","dragSourceUnsubscribe","connectDragSource","didConnectedDragPreviewChange","didDragPreviewOptionsChange","disconnectDragPreview","dragPreviewUnsubscribe","connectDragPreview","set","current","_slicedToArray","arr","Array","isArray","_arrayWithHoles","iterator","_arr","_n","_d","_e","_s","_i","next","done","push","err","_iterableToArrayLimit","_nonIterableRest","_typeof","obj","constructor","useDrag","spec","specRef","item","type","_useDragSourceMonitor2","useDragDropManager","getBackend","monitor","connector","handler","beginDrag","_spec$current","begin","beginResult","canDrag","isDragging","globalMonitor","endDrag","end","_registerSource2","unregister","receiveHandlerId","useDragHandler","useMonitorOutput","collect","previewOptions","rawAsap","task","queue","requestFlush","index","flush","currentIndex","scan","newLength","toggle","observer","scope","global","self","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","makeRequestCallFromTimer","callback","timeoutHandle","setTimeout","handleTimer","intervalHandle","setInterval","clearTimeout","clearInterval","document","createTextNode","observe","characterData","data","freeTasks","pendingErrors","requestErrorThrow","shift","asap","rawTask","pop","RawTask","error","onerror","freeGlobal","freeSelf","root","Function","randomString","Math","random","substring","split","join","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","isPlainObject","proto","getPrototypeOf","createStore","reducer","preloadedState","enhancer","_ref2","arguments","Error","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","slice","getState","subscribe","isSubscribed","indexOf","splice","dispatch","action","listeners","replaceReducer","nextReducer","observable","_ref","outerSubscribe","observeState","unsubscribe","INIT_COORDS","BEGIN_DRAG","PUBLISH_DRAG_SOURCE","HOVER","DROP","END_DRAG","strictEquality","a","b","areCoordsEqual","offsetA","offsetB","x","y","areArraysEqual","isEqual","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","apply","_objectSpread","source","forEach","getOwnPropertyDescriptors","defineProperties","initialState","initialSourceClientOffset","initialClientOffset","clientOffset","dragOffset","state","payload","sourceClientOffset","ADD_SOURCE","ADD_TARGET","REMOVE_SOURCE","REMOVE_TARGET","path","defaultValue","reduce","c","without","items","isObject","input","xor","itemsA","itemsB","map","Map","insertItem","has","count","itemType","targetIds","dropResult","dragOperation","refCount","NONE","ALL","areDirty","dirtyIds","handlerIds","t","dirtyHandlerIds","_action$payload","_action$payload$targe","_action$payload$prevT","prevTargetIds","prevInnermostTargetId","innermostTargetId","stateId","__IS_NONE__","__IS_ALL__","setClientOffset","ResetCoordinatesAction","createBeginDrag","sourceIds","publishSource","_options$publishSourc","registry","getRegistry","verifyInvariants","getDraggableSource","verifyGetSourceClientOffsetIsFunction","getSource","verifyItemIsObject","pinSource","getSourceType","createPublishDragSource","matchesType","targetType","draggedItemType","some","createHover","targetIdsArg","verifyTargetIdsIsArray","checkInvariants","removeNonMatchingTargetIds","hoverAllTargets","lastIndexOf","getTarget","getTargetType","hover","createDrop","getDroppableTargets","determineDropResult","drop","verifyDropResultType","reverse","createEndDrag","verifyIsDragging","unpinSource","subtract","HandlerRole","DragDropMonitorImpl","store","prevStateId","handleChange","currentStateId","_this2","previousState","nextState","canDrop","Boolean","shallow","nextUniqueId","validateType","allowArray","getNextHandlerId","role","id","SOURCE","concat","TARGET","parseRoleFromHandlerId","mapContainsValue","searchValue","entries","isDone","_entries$next","HandlerRegistryImpl","types","dragSources","dropTargets","pinnedSourceId","pinnedSource","validateSourceContract","addHandler","validateTargetContract","includePinned","isSourceId","isPinned","isTargetId","delete","makeStoreInstance","debugMode","reduxDevTools","__REDUX_DEVTOOLS_EXTENSION__","name","instanceId","DragDropManagerImpl","isSetUp","handleRefCountChange","shouldSetUp","setup","teardown","actions","publishDragSource","boundActions","actionCreator","_len","args","_key","createDragDropManager","backendFactory","globalContext","backendOptions","receiveBackend","DndContext","dragDropManager","createDndContext","context","getRawTag","objectToString","onCollect","_useCollector2","onUpdate","_useState2","collected","setCollected","updateCollected","nextValue","useCollector","getHandlerId","symbolObservablePonyfill","baseToString","array","iteratee","setRef","ref","cloneWithRef","element","newRef","previousRef","throwIfCompositeComponentElement","displayName","wrappedHooks","hook","endsWith","wrappedHook","elementOrNode","wrapHookToRecognizeElement","registerTarget","addTarget","removeTarget","registerSource","addSource","removeSource","arrayMap","isSymbol","symbolProto","symbolToString"],"mappings":"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","file":"02fca5a84257b470feb6f946fd2450bf314b8fc3-bea50964d22cb9c77ff1.js","sourcesContent":["var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","import { useLayoutEffect, useEffect } from 'react'; // suppress the useLayoutEffect warning on server side.\n\nexport var useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nimport invariant from 'invariant';\nvar isCallingCanDrag = false;\nvar isCallingIsDragging = false;\nexport var DragSourceMonitorImpl = /*#__PURE__*/function () {\n  function DragSourceMonitorImpl(manager) {\n    _classCallCheck(this, DragSourceMonitorImpl);\n\n    this.sourceId = null;\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DragSourceMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(sourceId) {\n      this.sourceId = sourceId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.sourceId;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      invariant(!isCallingCanDrag, 'You may not call monitor.canDrag() inside your canDrag() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingCanDrag = true;\n        return this.internalMonitor.canDragSource(this.sourceId);\n      } finally {\n        isCallingCanDrag = false;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      if (!this.sourceId) {\n        return false;\n      }\n\n      invariant(!isCallingIsDragging, 'You may not call monitor.isDragging() inside your isDragging() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingIsDragging = true;\n        return this.internalMonitor.isDraggingSource(this.sourceId);\n      } finally {\n        isCallingIsDragging = false;\n      }\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      return this.internalMonitor.isDraggingSource(sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId, options) {\n      return this.internalMonitor.isOverTarget(targetId, options);\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.internalMonitor.getTargetIds();\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return this.internalMonitor.isSourcePublic();\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.internalMonitor.getSourceId();\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      return this.internalMonitor.subscribeToOffsetChange(listener);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      return this.internalMonitor.canDragSource(sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      return this.internalMonitor.canDropOnTarget(targetId);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DragSourceMonitorImpl;\n}();","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nimport wrapConnectorHooks from './wrapConnectorHooks';\nimport { isRef } from '../utils/isRef';\nimport shallowEqual from 'shallowequal';\nexport var SourceConnector = /*#__PURE__*/function () {\n  function SourceConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, SourceConnector);\n\n    this.hooks = wrapConnectorHooks({\n      dragSource: function dragSource(node, options) {\n        _this.clearDragSource();\n\n        _this.dragSourceOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragSourceRef = node;\n        } else {\n          _this.dragSourceNode = node;\n        }\n\n        _this.reconnectDragSource();\n      },\n      dragPreview: function dragPreview(node, options) {\n        _this.clearDragPreview();\n\n        _this.dragPreviewOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragPreviewRef = node;\n        } else {\n          _this.dragPreviewNode = node;\n        }\n\n        _this.reconnectDragPreview();\n      }\n    });\n    this.handlerId = null; // The drop target may either be attached via ref or connect function\n\n    this.dragSourceRef = null;\n    this.dragSourceOptionsInternal = null; // The drag preview may either be attached via ref or connect function\n\n    this.dragPreviewRef = null;\n    this.dragPreviewOptionsInternal = null;\n    this.lastConnectedHandlerId = null;\n    this.lastConnectedDragSource = null;\n    this.lastConnectedDragSourceOptions = null;\n    this.lastConnectedDragPreview = null;\n    this.lastConnectedDragPreviewOptions = null;\n    this.backend = backend;\n  }\n\n  _createClass(SourceConnector, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (this.handlerId === newHandlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      this.reconnectDragSource();\n      this.reconnectDragPreview();\n    }\n  }, {\n    key: \"reconnectDragSource\",\n    value: function reconnectDragSource() {\n      var dragSource = this.dragSource; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragSourceChange() || this.didDragSourceOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragSource();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragSource) {\n        this.lastConnectedDragSource = dragSource;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragSource = dragSource;\n        this.lastConnectedDragSourceOptions = this.dragSourceOptions;\n        this.dragSourceUnsubscribe = this.backend.connectDragSource(this.handlerId, dragSource, this.dragSourceOptions);\n      }\n    }\n  }, {\n    key: \"reconnectDragPreview\",\n    value: function reconnectDragPreview() {\n      var dragPreview = this.dragPreview; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragPreviewChange() || this.didDragPreviewOptionsChange();\n\n      if (!this.handlerId) {\n        this.disconnectDragPreview();\n      } else if (this.dragPreview && didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragPreview = dragPreview;\n        this.lastConnectedDragPreviewOptions = this.dragPreviewOptions;\n        this.disconnectDragPreview();\n        this.dragPreviewUnsubscribe = this.backend.connectDragPreview(this.handlerId, dragPreview, this.dragPreviewOptions);\n      }\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didConnectedDragSourceChange\",\n    value: function didConnectedDragSourceChange() {\n      return this.lastConnectedDragSource !== this.dragSource;\n    }\n  }, {\n    key: \"didConnectedDragPreviewChange\",\n    value: function didConnectedDragPreviewChange() {\n      return this.lastConnectedDragPreview !== this.dragPreview;\n    }\n  }, {\n    key: \"didDragSourceOptionsChange\",\n    value: function didDragSourceOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragSourceOptions, this.dragSourceOptions);\n    }\n  }, {\n    key: \"didDragPreviewOptionsChange\",\n    value: function didDragPreviewOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragPreviewOptions, this.dragPreviewOptions);\n    }\n  }, {\n    key: \"disconnectDragSource\",\n    value: function disconnectDragSource() {\n      if (this.dragSourceUnsubscribe) {\n        this.dragSourceUnsubscribe();\n        this.dragSourceUnsubscribe = undefined;\n      }\n    }\n  }, {\n    key: \"disconnectDragPreview\",\n    value: function disconnectDragPreview() {\n      if (this.dragPreviewUnsubscribe) {\n        this.dragPreviewUnsubscribe();\n        this.dragPreviewUnsubscribe = undefined;\n        this.dragPreviewNode = null;\n        this.dragPreviewRef = null;\n      }\n    }\n  }, {\n    key: \"clearDragSource\",\n    value: function clearDragSource() {\n      this.dragSourceNode = null;\n      this.dragSourceRef = null;\n    }\n  }, {\n    key: \"clearDragPreview\",\n    value: function clearDragPreview() {\n      this.dragPreviewNode = null;\n      this.dragPreviewRef = null;\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dragSource;\n    }\n  }, {\n    key: \"dragSourceOptions\",\n    get: function get() {\n      return this.dragSourceOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragSourceOptionsInternal = options;\n    }\n  }, {\n    key: \"dragPreviewOptions\",\n    get: function get() {\n      return this.dragPreviewOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragPreviewOptionsInternal = options;\n    }\n  }, {\n    key: \"dragSource\",\n    get: function get() {\n      return this.dragSourceNode || this.dragSourceRef && this.dragSourceRef.current;\n    }\n  }, {\n    key: \"dragPreview\",\n    get: function get() {\n      return this.dragPreviewNode || this.dragPreviewRef && this.dragPreviewRef.current;\n    }\n  }]);\n\n  return SourceConnector;\n}();","function _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nimport { useMemo } from 'react';\nimport invariant from 'invariant';\nimport { registerSource } from '../../common/registration';\nimport { useDragDropManager } from './useDragDropManager';\nimport { DragSourceMonitorImpl } from '../../common/DragSourceMonitorImpl';\nimport { SourceConnector } from '../../common/SourceConnector';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nexport function useDragSourceMonitor() {\n  var manager = useDragDropManager();\n  var monitor = useMemo(function () {\n    return new DragSourceMonitorImpl(manager);\n  }, [manager]);\n  var connector = useMemo(function () {\n    return new SourceConnector(manager.getBackend());\n  }, [manager]);\n  return [monitor, connector];\n}\nexport function useDragHandler(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var handler = useMemo(function () {\n    return {\n      beginDrag: function beginDrag() {\n        var _spec$current = spec.current,\n            begin = _spec$current.begin,\n            item = _spec$current.item;\n\n        if (begin) {\n          var beginResult = begin(monitor);\n          invariant(beginResult == null || _typeof(beginResult) === 'object', 'dragSpec.begin() must either return an object, undefined, or null');\n          return beginResult || item || {};\n        }\n\n        return item || {};\n      },\n      canDrag: function canDrag() {\n        if (typeof spec.current.canDrag === 'boolean') {\n          return spec.current.canDrag;\n        } else if (typeof spec.current.canDrag === 'function') {\n          return spec.current.canDrag(monitor);\n        } else {\n          return true;\n        }\n      },\n      isDragging: function isDragging(globalMonitor, target) {\n        var isDragging = spec.current.isDragging;\n        return isDragging ? isDragging(monitor) : target === globalMonitor.getSourceId();\n      },\n      endDrag: function endDrag() {\n        var end = spec.current.end;\n\n        if (end) {\n          end(monitor.getItem(), monitor);\n        }\n\n        connector.reconnect();\n      }\n    };\n  }, []);\n  useIsomorphicLayoutEffect(function registerHandler() {\n    var _registerSource = registerSource(spec.current.item.type, handler, manager),\n        _registerSource2 = _slicedToArray(_registerSource, 2),\n        handlerId = _registerSource2[0],\n        unregister = _registerSource2[1];\n\n    monitor.receiveHandlerId(handlerId);\n    connector.receiveHandlerId(handlerId);\n    return unregister;\n  }, []);\n}","function _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nimport { useRef, useMemo } from 'react';\nimport invariant from 'invariant';\nimport { useMonitorOutput } from './internal/useMonitorOutput';\nimport { useIsomorphicLayoutEffect } from './internal/useIsomorphicLayoutEffect';\nimport { useDragSourceMonitor, useDragHandler } from './internal/drag';\n/**\n * useDragSource hook\n * @param sourceSpec The drag source specification *\n */\n\nexport function useDrag(spec) {\n  var specRef = useRef(spec);\n  specRef.current = spec; // TODO: wire options into createSourceConnector\n\n  invariant(spec.item != null, 'item must be defined');\n  invariant(spec.item.type != null, 'item type must be defined');\n\n  var _useDragSourceMonitor = useDragSourceMonitor(),\n      _useDragSourceMonitor2 = _slicedToArray(_useDragSourceMonitor, 2),\n      monitor = _useDragSourceMonitor2[0],\n      connector = _useDragSourceMonitor2[1];\n\n  useDragHandler(specRef, monitor, connector);\n  var result = useMonitorOutput(monitor, specRef.current.collect || function () {\n    return {};\n  }, function () {\n    return connector.reconnect();\n  });\n  var connectDragSource = useMemo(function () {\n    return connector.hooks.dragSource();\n  }, [connector]);\n  var connectDragPreview = useMemo(function () {\n    return connector.hooks.dragPreview();\n  }, [connector]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragSourceOptions = specRef.current.options || null;\n    connector.reconnect();\n  }, [connector]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragPreviewOptions = specRef.current.previewOptions || null;\n    connector.reconnect();\n  }, [connector]);\n  return [result, connectDragSource, connectDragPreview];\n}","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","\"use strict\"; // Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\n\nmodule.exports = rawAsap;\n\nfunction rawAsap(task) {\n  if (!queue.length) {\n    requestFlush();\n    flushing = true;\n  } // Equivalent to push, but avoids a function call.\n\n\n  queue[queue.length] = task;\n}\n\nvar queue = []; // Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\n\nvar flushing = false; // `requestFlush` is an implementation-specific method that attempts to kick\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\n\nvar requestFlush; // The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\n\nvar index = 0; // If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\n\nvar capacity = 1024; // The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\n\nfunction flush() {\n  while (index < queue.length) {\n    var currentIndex = index; // Advance the index before calling the task. This ensures that we will\n    // begin flushing on the next task the task throws an error.\n\n    index = index + 1;\n    queue[currentIndex].call(); // Prevent leaking memory for long chains of recursive calls to `asap`.\n    // If we call `asap` within tasks scheduled by `asap`, the queue will\n    // grow, but to avoid an O(n) walk for every task we execute, we don't\n    // shift tasks off the queue after they have been executed.\n    // Instead, we periodically shift 1024 tasks off the queue.\n\n    if (index > capacity) {\n      // Manually shift all values starting at the index back to the\n      // beginning of the queue.\n      for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n        queue[scan] = queue[scan + index];\n      }\n\n      queue.length -= index;\n      index = 0;\n    }\n  }\n\n  queue.length = 0;\n  index = 0;\n  flushing = false;\n} // `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\n\n\nvar scope = typeof global !== \"undefined\" ? global : self;\nvar BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver; // MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\n\nif (typeof BrowserMutationObserver === \"function\") {\n  requestFlush = makeRequestCallFromMutationObserver(flush); // MessageChannels are desirable because they give direct access to the HTML\n  // task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n  // 11-12, and in web workers in many engines.\n  // Although message channels yield to any queued rendering and IO tasks, they\n  // would be better than imposing the 4ms delay of timers.\n  // However, they do not work reliably in Internet Explorer or Safari.\n  // Internet Explorer 10 is the only browser that has setImmediate but does\n  // not have MutationObservers.\n  // Although setImmediate yields to the browser's renderer, it would be\n  // preferrable to falling back to setTimeout since it does not have\n  // the minimum 4ms penalty.\n  // Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n  // Desktop to a lesser extent) that renders both setImmediate and\n  // MessageChannel useless for the purposes of ASAP.\n  // https://github.com/kriskowal/q/issues/396\n  // Timers are implemented universally.\n  // We fall back to timers in workers in most engines, and in foreground\n  // contexts in the following browsers.\n  // However, note that even this simple case requires nuances to operate in a\n  // broad spectrum of browsers.\n  //\n  // - Firefox 3-13\n  // - Internet Explorer 6-9\n  // - iPad Safari 4.3\n  // - Lynx 2.8.7\n} else {\n  requestFlush = makeRequestCallFromTimer(flush);\n} // `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.jss\n// `process.on(\"uncaughtException\")` or by a domain.\n\n\nrawAsap.requestFlush = requestFlush; // To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\n\nfunction makeRequestCallFromMutationObserver(callback) {\n  var toggle = 1;\n  var observer = new BrowserMutationObserver(callback);\n  var node = document.createTextNode(\"\");\n  observer.observe(node, {\n    characterData: true\n  });\n  return function requestCall() {\n    toggle = -toggle;\n    node.data = toggle;\n  };\n} // The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\n\nfunction makeRequestCallFromTimer(callback) {\n  return function requestCall() {\n    // We dispatch a timeout with a specified delay of 0 for engines that\n    // can reliably accommodate that request. This will usually be snapped\n    // to a 4 milisecond delay, but once we're flushing, there's no delay\n    // between events.\n    var timeoutHandle = setTimeout(handleTimer, 0); // However, since this timer gets frequently dropped in Firefox\n    // workers, we enlist an interval handle that will try to fire\n    // an event 20 times per second until it succeeds.\n\n    var intervalHandle = setInterval(handleTimer, 50);\n\n    function handleTimer() {\n      // Whichever timer succeeds will cancel both timers and\n      // execute the callback.\n      clearTimeout(timeoutHandle);\n      clearInterval(intervalHandle);\n      callback();\n    }\n  };\n} // This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\n\n\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer; // ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js","\"use strict\"; // rawAsap provides everything we need except exception management.\n\nvar rawAsap = require(\"./raw\"); // RawTasks are recycled to reduce GC churn.\n\n\nvar freeTasks = []; // We queue errors to ensure they are thrown in right order (FIFO).\n// Array-as-queue is good enough here, since we are just dealing with exceptions.\n\nvar pendingErrors = [];\nvar requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);\n\nfunction throwFirstError() {\n  if (pendingErrors.length) {\n    throw pendingErrors.shift();\n  }\n}\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\n\n\nmodule.exports = asap;\n\nfunction asap(task) {\n  var rawTask;\n\n  if (freeTasks.length) {\n    rawTask = freeTasks.pop();\n  } else {\n    rawTask = new RawTask();\n  }\n\n  rawTask.task = task;\n  rawAsap(rawTask);\n} // We wrap tasks with recyclable task objects.  A task object implements\n// `call`, just like a function.\n\n\nfunction RawTask() {\n  this.task = null;\n} // The sole purpose of wrapping the task is to catch the exception and recycle\n// the task object after its single use.\n\n\nRawTask.prototype.call = function () {\n  try {\n    this.task.call();\n  } catch (error) {\n    if (asap.onerror) {\n      // This hook exists purely for testing purposes.\n      // Its name will be periodically randomized to break any code that\n      // depends on its existence.\n      asap.onerror(error);\n    } else {\n      // In a web browser, exceptions are not fatal. However, to avoid\n      // slowing down the queue of pending tasks, we rethrow the error in a\n      // lower priority turn.\n      pendingErrors.push(error);\n      requestErrorThrow();\n    }\n  } finally {\n    this.task = null;\n    freeTasks[freeTasks.length] = this;\n  }\n};","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","import \"core-js/modules/es.array.reduce.js\";\nimport $$observable from 'symbol-observable';\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\n\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\n\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error('It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error('You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected the listener to be a function.');\n    }\n\n    if (isDispatching) {\n      throw new Error('You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error('You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing what changed. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\n\n\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionDescription = actionType && \"action \\\"\" + String(actionType) + \"\\\"\" || 'an action';\n  return \"Given \" + actionDescription + \", reducer \\\"\" + key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\";\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle \" + ActionTypes.INIT + \" or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(\"bindActionCreators expected an object or a function, instead received \" + (actionCreators === null ? 'null' : typeof actionCreators) + \". \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    keys.push.apply(keys, Object.getOwnPropertySymbols(object));\n  }\n\n  if (enumerableOnly) keys = keys.filter(function (sym) {\n    return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n  });\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\n\n\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error('Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread2({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore };","export var INIT_COORDS = 'dnd-core/INIT_COORDS';\nexport var BEGIN_DRAG = 'dnd-core/BEGIN_DRAG';\nexport var PUBLISH_DRAG_SOURCE = 'dnd-core/PUBLISH_DRAG_SOURCE';\nexport var HOVER = 'dnd-core/HOVER';\nexport var DROP = 'dnd-core/DROP';\nexport var END_DRAG = 'dnd-core/END_DRAG';","export var strictEquality = function strictEquality(a, b) {\n  return a === b;\n};\n/**\n * Determine if two cartesian coordinate offsets are equal\n * @param offsetA\n * @param offsetB\n */\n\nexport function areCoordsEqual(offsetA, offsetB) {\n  if (!offsetA && !offsetB) {\n    return true;\n  } else if (!offsetA || !offsetB) {\n    return false;\n  } else {\n    return offsetA.x === offsetB.x && offsetA.y === offsetB.y;\n  }\n}\n/**\n * Determines if two arrays of items are equal\n * @param a The first array of items\n * @param b The second array of items\n */\n\nexport function areArraysEqual(a, b) {\n  var isEqual = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : strictEquality;\n\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  for (var i = 0; i < a.length; ++i) {\n    if (!isEqual(a[i], b[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport { INIT_COORDS, BEGIN_DRAG, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { areCoordsEqual } from '../utils/equality';\nvar initialState = {\n  initialSourceClientOffset: null,\n  initialClientOffset: null,\n  clientOffset: null\n};\nexport default function dragOffset() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case INIT_COORDS:\n    case BEGIN_DRAG:\n      return {\n        initialSourceClientOffset: payload.sourceClientOffset,\n        initialClientOffset: payload.clientOffset,\n        clientOffset: payload.clientOffset\n      };\n\n    case HOVER:\n      if (areCoordsEqual(state.clientOffset, payload.clientOffset)) {\n        return state;\n      }\n\n      return _objectSpread({}, state, {\n        clientOffset: payload.clientOffset\n      });\n\n    case END_DRAG:\n    case DROP:\n      return initialState;\n\n    default:\n      return state;\n  }\n}","export var ADD_SOURCE = 'dnd-core/ADD_SOURCE';\nexport var ADD_TARGET = 'dnd-core/ADD_TARGET';\nexport var REMOVE_SOURCE = 'dnd-core/REMOVE_SOURCE';\nexport var REMOVE_TARGET = 'dnd-core/REMOVE_TARGET';\nexport function addSource(sourceId) {\n  return {\n    type: ADD_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\nexport function addTarget(targetId) {\n  return {\n    type: ADD_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}\nexport function removeSource(sourceId) {\n  return {\n    type: REMOVE_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\nexport function removeTarget(targetId) {\n  return {\n    type: REMOVE_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}","import \"core-js/modules/es.array.reduce.js\";\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n} // cheap lodash replacements\n\n/**\n * drop-in replacement for _.get\n * @param obj\n * @param path\n * @param defaultValue\n */\n\n\nexport function get(obj, path, defaultValue) {\n  return path.split('.').reduce(function (a, c) {\n    return a && a[c] ? a[c] : defaultValue || null;\n  }, obj);\n}\n/**\n * drop-in replacement for _.without\n */\n\nexport function without(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */\n\nexport function isString(input) {\n  return typeof input === 'string';\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */\n\nexport function isObject(input) {\n  return _typeof(input) === 'object';\n}\n/**\n * repalcement for _.xor\n * @param itemsA\n * @param itemsB\n */\n\nexport function xor(itemsA, itemsB) {\n  var map = new Map();\n\n  var insertItem = function insertItem(item) {\n    return map.set(item, map.has(item) ? map.get(item) + 1 : 1);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  map.forEach(function (count, key) {\n    if (count === 1) {\n      result.push(key);\n    }\n  });\n  return result;\n}\n/**\n * replacement for _.intersection\n * @param itemsA\n * @param itemsB\n */\n\nexport function intersection(itemsA, itemsB) {\n  return itemsA.filter(function (t) {\n    return itemsB.indexOf(t) > -1;\n  });\n}","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport { BEGIN_DRAG, PUBLISH_DRAG_SOURCE, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { REMOVE_TARGET } from '../actions/registry';\nimport { without } from '../utils/js_utils';\nvar initialState = {\n  itemType: null,\n  item: null,\n  sourceId: null,\n  targetIds: [],\n  dropResult: null,\n  didDrop: false,\n  isSourcePublic: null\n};\nexport default function dragOperation() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case BEGIN_DRAG:\n      return _objectSpread({}, state, {\n        itemType: payload.itemType,\n        item: payload.item,\n        sourceId: payload.sourceId,\n        isSourcePublic: payload.isSourcePublic,\n        dropResult: null,\n        didDrop: false\n      });\n\n    case PUBLISH_DRAG_SOURCE:\n      return _objectSpread({}, state, {\n        isSourcePublic: true\n      });\n\n    case HOVER:\n      return _objectSpread({}, state, {\n        targetIds: payload.targetIds\n      });\n\n    case REMOVE_TARGET:\n      if (state.targetIds.indexOf(payload.targetId) === -1) {\n        return state;\n      }\n\n      return _objectSpread({}, state, {\n        targetIds: without(state.targetIds, payload.targetId)\n      });\n\n    case DROP:\n      return _objectSpread({}, state, {\n        dropResult: payload.dropResult,\n        didDrop: true,\n        targetIds: []\n      });\n\n    case END_DRAG:\n      return _objectSpread({}, state, {\n        itemType: null,\n        item: null,\n        sourceId: null,\n        dropResult: null,\n        didDrop: false,\n        isSourcePublic: null,\n        targetIds: []\n      });\n\n    default:\n      return state;\n  }\n}","import { ADD_SOURCE, ADD_TARGET, REMOVE_SOURCE, REMOVE_TARGET } from '../actions/registry';\nexport default function refCount() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_SOURCE:\n    case ADD_TARGET:\n      return state + 1;\n\n    case REMOVE_SOURCE:\n    case REMOVE_TARGET:\n      return state - 1;\n\n    default:\n      return state;\n  }\n}","import { intersection } from './js_utils';\nexport var NONE = [];\nexport var ALL = [];\nNONE.__IS_NONE__ = true;\nALL.__IS_ALL__ = true;\n/**\n * Determines if the given handler IDs are dirty or not.\n *\n * @param dirtyIds The set of dirty handler ids\n * @param handlerIds The set of handler ids to check\n */\n\nexport function areDirty(dirtyIds, handlerIds) {\n  if (dirtyIds === NONE) {\n    return false;\n  }\n\n  if (dirtyIds === ALL || typeof handlerIds === 'undefined') {\n    return true;\n  }\n\n  var commonIds = intersection(handlerIds, dirtyIds);\n  return commonIds.length > 0;\n}","import { BEGIN_DRAG, PUBLISH_DRAG_SOURCE, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { ADD_SOURCE, ADD_TARGET, REMOVE_SOURCE, REMOVE_TARGET } from '../actions/registry';\nimport { areArraysEqual } from '../utils/equality';\nimport { NONE, ALL } from '../utils/dirtiness';\nimport { xor } from '../utils/js_utils';\nexport default function dirtyHandlerIds() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : NONE;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case HOVER:\n      break;\n\n    case ADD_SOURCE:\n    case ADD_TARGET:\n    case REMOVE_TARGET:\n    case REMOVE_SOURCE:\n      return NONE;\n\n    case BEGIN_DRAG:\n    case PUBLISH_DRAG_SOURCE:\n    case END_DRAG:\n    case DROP:\n    default:\n      return ALL;\n  }\n\n  var _action$payload = action.payload,\n      _action$payload$targe = _action$payload.targetIds,\n      targetIds = _action$payload$targe === void 0 ? [] : _action$payload$targe,\n      _action$payload$prevT = _action$payload.prevTargetIds,\n      prevTargetIds = _action$payload$prevT === void 0 ? [] : _action$payload$prevT;\n  var result = xor(targetIds, prevTargetIds);\n  var didChange = result.length > 0 || !areArraysEqual(targetIds, prevTargetIds);\n\n  if (!didChange) {\n    return NONE;\n  } // Check the target ids at the innermost position. If they are valid, add them\n  // to the result\n\n\n  var prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1];\n  var innermostTargetId = targetIds[targetIds.length - 1];\n\n  if (prevInnermostTargetId !== innermostTargetId) {\n    if (prevInnermostTargetId) {\n      result.push(prevInnermostTargetId);\n    }\n\n    if (innermostTargetId) {\n      result.push(innermostTargetId);\n    }\n  }\n\n  return result;\n}","export default function stateId() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  return state + 1;\n}","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport dragOffset from './dragOffset';\nimport dragOperation from './dragOperation';\nimport refCount from './refCount';\nimport dirtyHandlerIds from './dirtyHandlerIds';\nimport stateId from './stateId';\nimport { get } from '../utils/js_utils';\nexport default function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return {\n    dirtyHandlerIds: dirtyHandlerIds(state.dirtyHandlerIds, {\n      type: action.type,\n      payload: _objectSpread({}, action.payload, {\n        prevTargetIds: get(state, 'dragOperation.targetIds', [])\n      })\n    }),\n    dragOffset: dragOffset(state.dragOffset, action),\n    refCount: refCount(state.refCount, action),\n    dragOperation: dragOperation(state.dragOperation, action),\n    stateId: stateId(state.stateId)\n  };\n}","import { INIT_COORDS } from '../types';\nexport function setClientOffset(clientOffset, sourceClientOffset) {\n  return {\n    type: INIT_COORDS,\n    payload: {\n      sourceClientOffset: sourceClientOffset || null,\n      clientOffset: clientOffset || null\n    }\n  };\n}","import invariant from 'invariant';\nimport { setClientOffset } from './local/setClientOffset';\nimport { isObject } from '../../utils/js_utils';\nimport { BEGIN_DRAG, INIT_COORDS } from './types';\nvar ResetCoordinatesAction = {\n  type: INIT_COORDS,\n  payload: {\n    clientOffset: null,\n    sourceClientOffset: null\n  }\n};\nexport default function createBeginDrag(manager) {\n  return function beginDrag() {\n    var sourceIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      publishSource: true\n    };\n    var _options$publishSourc = options.publishSource,\n        publishSource = _options$publishSourc === void 0 ? true : _options$publishSourc,\n        clientOffset = options.clientOffset,\n        getSourceClientOffset = options.getSourceClientOffset;\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry(); // Initialize the coordinates using the client offset\n\n    manager.dispatch(setClientOffset(clientOffset));\n    verifyInvariants(sourceIds, monitor, registry); // Get the draggable source\n\n    var sourceId = getDraggableSource(sourceIds, monitor);\n\n    if (sourceId === null) {\n      manager.dispatch(ResetCoordinatesAction);\n      return;\n    } // Get the source client offset\n\n\n    var sourceClientOffset = null;\n\n    if (clientOffset) {\n      verifyGetSourceClientOffsetIsFunction(getSourceClientOffset);\n      sourceClientOffset = getSourceClientOffset(sourceId);\n    } // Initialize the full coordinates\n\n\n    manager.dispatch(setClientOffset(clientOffset, sourceClientOffset));\n    var source = registry.getSource(sourceId);\n    var item = source.beginDrag(monitor, sourceId);\n    verifyItemIsObject(item);\n    registry.pinSource(sourceId);\n    var itemType = registry.getSourceType(sourceId);\n    return {\n      type: BEGIN_DRAG,\n      payload: {\n        itemType: itemType,\n        item: item,\n        sourceId: sourceId,\n        clientOffset: clientOffset || null,\n        sourceClientOffset: sourceClientOffset || null,\n        isSourcePublic: !!publishSource\n      }\n    };\n  };\n}\n\nfunction verifyInvariants(sourceIds, monitor, registry) {\n  invariant(!monitor.isDragging(), 'Cannot call beginDrag while dragging.');\n  sourceIds.forEach(function (sourceId) {\n    invariant(registry.getSource(sourceId), 'Expected sourceIds to be registered.');\n  });\n}\n\nfunction verifyGetSourceClientOffsetIsFunction(getSourceClientOffset) {\n  invariant(typeof getSourceClientOffset === 'function', 'When clientOffset is provided, getSourceClientOffset must be a function.');\n}\n\nfunction verifyItemIsObject(item) {\n  invariant(isObject(item), 'Item must be an object.');\n}\n\nfunction getDraggableSource(sourceIds, monitor) {\n  var sourceId = null;\n\n  for (var i = sourceIds.length - 1; i >= 0; i--) {\n    if (monitor.canDragSource(sourceIds[i])) {\n      sourceId = sourceIds[i];\n      break;\n    }\n  }\n\n  return sourceId;\n}","import { PUBLISH_DRAG_SOURCE } from './types';\nexport default function createPublishDragSource(manager) {\n  return function publishDragSource() {\n    var monitor = manager.getMonitor();\n\n    if (monitor.isDragging()) {\n      return {\n        type: PUBLISH_DRAG_SOURCE\n      };\n    }\n  };\n}","export default function matchesType(targetType, draggedItemType) {\n  if (draggedItemType === null) {\n    return targetType === null;\n  }\n\n  return Array.isArray(targetType) ? targetType.some(function (t) {\n    return t === draggedItemType;\n  }) : targetType === draggedItemType;\n}","import invariant from 'invariant';\nimport matchesType from '../../utils/matchesType';\nimport { HOVER } from './types';\nexport default function createHover(manager) {\n  return function hover(targetIdsArg) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        clientOffset = _ref.clientOffset;\n\n    verifyTargetIdsIsArray(targetIdsArg);\n    var targetIds = targetIdsArg.slice(0);\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    checkInvariants(targetIds, monitor, registry);\n    var draggedItemType = monitor.getItemType();\n    removeNonMatchingTargetIds(targetIds, registry, draggedItemType);\n    hoverAllTargets(targetIds, monitor, registry);\n    return {\n      type: HOVER,\n      payload: {\n        targetIds: targetIds,\n        clientOffset: clientOffset || null\n      }\n    };\n  };\n}\n\nfunction verifyTargetIdsIsArray(targetIdsArg) {\n  invariant(Array.isArray(targetIdsArg), 'Expected targetIds to be an array.');\n}\n\nfunction checkInvariants(targetIds, monitor, registry) {\n  invariant(monitor.isDragging(), 'Cannot call hover while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call hover after drop.');\n\n  for (var i = 0; i < targetIds.length; i++) {\n    var targetId = targetIds[i];\n    invariant(targetIds.lastIndexOf(targetId) === i, 'Expected targetIds to be unique in the passed array.');\n    var target = registry.getTarget(targetId);\n    invariant(target, 'Expected targetIds to be registered.');\n  }\n}\n\nfunction removeNonMatchingTargetIds(targetIds, registry, draggedItemType) {\n  // Remove those targetIds that don't match the targetType.  This\n  // fixes shallow isOver which would only be non-shallow because of\n  // non-matching targets.\n  for (var i = targetIds.length - 1; i >= 0; i--) {\n    var targetId = targetIds[i];\n    var targetType = registry.getTargetType(targetId);\n\n    if (!matchesType(targetType, draggedItemType)) {\n      targetIds.splice(i, 1);\n    }\n  }\n}\n\nfunction hoverAllTargets(targetIds, monitor, registry) {\n  // Finally call hover on all matching targets.\n  targetIds.forEach(function (targetId) {\n    var target = registry.getTarget(targetId);\n    target.hover(monitor, targetId);\n  });\n}","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport invariant from 'invariant';\nimport { DROP } from './types';\nimport { isObject } from '../../utils/js_utils';\nexport default function createDrop(manager) {\n  return function drop() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyInvariants(monitor);\n    var targetIds = getDroppableTargets(monitor); // Multiple actions are dispatched here, which is why this doesn't return an action\n\n    targetIds.forEach(function (targetId, index) {\n      var dropResult = determineDropResult(targetId, index, registry, monitor);\n      var action = {\n        type: DROP,\n        payload: {\n          dropResult: _objectSpread({}, options, {}, dropResult)\n        }\n      };\n      manager.dispatch(action);\n    });\n  };\n}\n\nfunction verifyInvariants(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call drop while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call drop twice during one drag operation.');\n}\n\nfunction determineDropResult(targetId, index, registry, monitor) {\n  var target = registry.getTarget(targetId);\n  var dropResult = target ? target.drop(monitor, targetId) : undefined;\n  verifyDropResultType(dropResult);\n\n  if (typeof dropResult === 'undefined') {\n    dropResult = index === 0 ? {} : monitor.getDropResult();\n  }\n\n  return dropResult;\n}\n\nfunction verifyDropResultType(dropResult) {\n  invariant(typeof dropResult === 'undefined' || isObject(dropResult), 'Drop result must either be an object or undefined.');\n}\n\nfunction getDroppableTargets(monitor) {\n  var targetIds = monitor.getTargetIds().filter(monitor.canDropOnTarget, monitor);\n  targetIds.reverse();\n  return targetIds;\n}","import invariant from 'invariant';\nimport { END_DRAG } from './types';\nexport default function createEndDrag(manager) {\n  return function endDrag() {\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyIsDragging(monitor);\n    var sourceId = monitor.getSourceId();\n    var source = registry.getSource(sourceId, true);\n    source.endDrag(monitor, sourceId);\n    registry.unpinSource();\n    return {\n      type: END_DRAG\n    };\n  };\n}\n\nfunction verifyIsDragging(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call endDrag while not dragging.');\n}","/**\n * Coordinate addition\n * @param a The first coordinate\n * @param b The second coordinate\n */\nexport function add(a, b) {\n  return {\n    x: a.x + b.x,\n    y: a.y + b.y\n  };\n}\n/**\n * Coordinate subtraction\n * @param a The first coordinate\n * @param b The second coordinate\n */\n\nexport function subtract(a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  };\n}\n/**\n * Returns the cartesian distance of the drag source component's position, based on its position\n * at the time when the current drag operation has started, and the movement difference.\n *\n * Returns null if no item is being dragged.\n *\n * @param state The offset state to compute from\n */\n\nexport function getSourceClientOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset,\n      initialSourceClientOffset = state.initialSourceClientOffset;\n\n  if (!clientOffset || !initialClientOffset || !initialSourceClientOffset) {\n    return null;\n  }\n\n  return subtract(add(clientOffset, initialSourceClientOffset), initialClientOffset);\n}\n/**\n * Determines the x,y offset between the client offset and the initial client offset\n *\n * @param state The offset state to compute from\n */\n\nexport function getDifferenceFromInitialOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset;\n\n  if (!clientOffset || !initialClientOffset) {\n    return null;\n  }\n\n  return subtract(clientOffset, initialClientOffset);\n}","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nimport invariant from 'invariant';\nimport matchesType from './utils/matchesType';\nimport { getSourceClientOffset as _getSourceClientOffset, getDifferenceFromInitialOffset as _getDifferenceFromInitialOffset } from './utils/coords';\nimport { areDirty } from './utils/dirtiness';\n\nvar DragDropMonitorImpl = /*#__PURE__*/function () {\n  function DragDropMonitorImpl(store, registry) {\n    _classCallCheck(this, DragDropMonitorImpl);\n\n    this.store = store;\n    this.registry = registry;\n  }\n\n  _createClass(DragDropMonitorImpl, [{\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener) {\n      var _this = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        handlerIds: undefined\n      };\n      var handlerIds = options.handlerIds;\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      invariant(typeof handlerIds === 'undefined' || Array.isArray(handlerIds), 'handlerIds, when specified, must be an array of strings.');\n      var prevStateId = this.store.getState().stateId;\n\n      var handleChange = function handleChange() {\n        var state = _this.store.getState();\n\n        var currentStateId = state.stateId;\n\n        try {\n          var canSkipListener = currentStateId === prevStateId || currentStateId === prevStateId + 1 && !areDirty(state.dirtyHandlerIds, handlerIds);\n\n          if (!canSkipListener) {\n            listener();\n          }\n        } finally {\n          prevStateId = currentStateId;\n        }\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      var _this2 = this;\n\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      var previousState = this.store.getState().dragOffset;\n\n      var handleChange = function handleChange() {\n        var nextState = _this2.store.getState().dragOffset;\n\n        if (nextState === previousState) {\n          return;\n        }\n\n        previousState = nextState;\n        listener();\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId);\n      invariant(source, 'Expected to find a valid source.');\n\n      if (this.isDragging()) {\n        return false;\n      }\n\n      return source.canDrag(this, sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      // undefined on initial render\n      if (!targetId) {\n        return false;\n      }\n\n      var target = this.registry.getTarget(targetId);\n      invariant(target, 'Expected to find a valid target.');\n\n      if (!this.isDragging() || this.didDrop()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n      return matchesType(targetType, draggedItemType) && target.canDrop(this, targetId);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      return Boolean(this.getItemType());\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      // undefined on initial render\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId, true);\n      invariant(source, 'Expected to find a valid source.');\n\n      if (!this.isDragging() || !this.isSourcePublic()) {\n        return false;\n      }\n\n      var sourceType = this.registry.getSourceType(sourceId);\n      var draggedItemType = this.getItemType();\n\n      if (sourceType !== draggedItemType) {\n        return false;\n      }\n\n      return source.isDragging(this, sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        shallow: false\n      }; // undefined on initial render\n\n      if (!targetId) {\n        return false;\n      }\n\n      var shallow = options.shallow;\n\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n\n      if (draggedItemType && !matchesType(targetType, draggedItemType)) {\n        return false;\n      }\n\n      var targetIds = this.getTargetIds();\n\n      if (!targetIds.length) {\n        return false;\n      }\n\n      var index = targetIds.indexOf(targetId);\n\n      if (shallow) {\n        return index === targetIds.length - 1;\n      } else {\n        return index > -1;\n      }\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.store.getState().dragOperation.itemType;\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.store.getState().dragOperation.item;\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.store.getState().dragOperation.sourceId;\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.store.getState().dragOperation.targetIds;\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.store.getState().dragOperation.dropResult;\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.store.getState().dragOperation.didDrop;\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return this.store.getState().dragOperation.isSourcePublic;\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.store.getState().dragOffset.initialClientOffset;\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.store.getState().dragOffset.initialSourceClientOffset;\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.store.getState().dragOffset.clientOffset;\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return _getSourceClientOffset(this.store.getState().dragOffset);\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return _getDifferenceFromInitialOffset(this.store.getState().dragOffset);\n    }\n  }]);\n\n  return DragDropMonitorImpl;\n}();\n\nexport { DragDropMonitorImpl as default };","export var HandlerRole;\n\n(function (HandlerRole) {\n  HandlerRole[\"SOURCE\"] = \"SOURCE\";\n  HandlerRole[\"TARGET\"] = \"TARGET\";\n})(HandlerRole || (HandlerRole = {}));","var nextUniqueId = 0;\nexport default function getNextUniqueId() {\n  return nextUniqueId++;\n}","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nimport invariant from 'invariant';\nexport function validateSourceContract(source) {\n  invariant(typeof source.canDrag === 'function', 'Expected canDrag to be a function.');\n  invariant(typeof source.beginDrag === 'function', 'Expected beginDrag to be a function.');\n  invariant(typeof source.endDrag === 'function', 'Expected endDrag to be a function.');\n}\nexport function validateTargetContract(target) {\n  invariant(typeof target.canDrop === 'function', 'Expected canDrop to be a function.');\n  invariant(typeof target.hover === 'function', 'Expected hover to be a function.');\n  invariant(typeof target.drop === 'function', 'Expected beginDrag to be a function.');\n}\nexport function validateType(type, allowArray) {\n  if (allowArray && Array.isArray(type)) {\n    type.forEach(function (t) {\n      return validateType(t, false);\n    });\n    return;\n  }\n\n  invariant(typeof type === 'string' || _typeof(type) === 'symbol', allowArray ? 'Type can only be a string, a symbol, or an array of either.' : 'Type can only be a string or a symbol.');\n}","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nimport asap from 'asap';\nimport invariant from 'invariant';\nimport { addSource as _addSource, addTarget as _addTarget, removeSource as _removeSource, removeTarget as _removeTarget } from './actions/registry';\nimport getNextUniqueId from './utils/getNextUniqueId';\nimport { HandlerRole } from './interfaces';\nimport { validateSourceContract, validateTargetContract, validateType } from './contracts';\n\nfunction getNextHandlerId(role) {\n  var id = getNextUniqueId().toString();\n\n  switch (role) {\n    case HandlerRole.SOURCE:\n      return \"S\".concat(id);\n\n    case HandlerRole.TARGET:\n      return \"T\".concat(id);\n\n    default:\n      throw new Error(\"Unknown Handler Role: \".concat(role));\n  }\n}\n\nfunction parseRoleFromHandlerId(handlerId) {\n  switch (handlerId[0]) {\n    case 'S':\n      return HandlerRole.SOURCE;\n\n    case 'T':\n      return HandlerRole.TARGET;\n\n    default:\n      invariant(false, \"Cannot parse handler ID: \".concat(handlerId));\n  }\n}\n\nfunction mapContainsValue(map, searchValue) {\n  var entries = map.entries();\n  var isDone = false;\n\n  do {\n    var _entries$next = entries.next(),\n        done = _entries$next.done,\n        _entries$next$value = _slicedToArray(_entries$next.value, 2),\n        value = _entries$next$value[1];\n\n    if (value === searchValue) {\n      return true;\n    }\n\n    isDone = !!done;\n  } while (!isDone);\n\n  return false;\n}\n\nvar HandlerRegistryImpl = /*#__PURE__*/function () {\n  function HandlerRegistryImpl(store) {\n    _classCallCheck(this, HandlerRegistryImpl);\n\n    this.types = new Map();\n    this.dragSources = new Map();\n    this.dropTargets = new Map();\n    this.pinnedSourceId = null;\n    this.pinnedSource = null;\n    this.store = store;\n  }\n\n  _createClass(HandlerRegistryImpl, [{\n    key: \"addSource\",\n    value: function addSource(type, source) {\n      validateType(type);\n      validateSourceContract(source);\n      var sourceId = this.addHandler(HandlerRole.SOURCE, type, source);\n      this.store.dispatch(_addSource(sourceId));\n      return sourceId;\n    }\n  }, {\n    key: \"addTarget\",\n    value: function addTarget(type, target) {\n      validateType(type, true);\n      validateTargetContract(target);\n      var targetId = this.addHandler(HandlerRole.TARGET, type, target);\n      this.store.dispatch(_addTarget(targetId));\n      return targetId;\n    }\n  }, {\n    key: \"containsHandler\",\n    value: function containsHandler(handler) {\n      return mapContainsValue(this.dragSources, handler) || mapContainsValue(this.dropTargets, handler);\n    }\n  }, {\n    key: \"getSource\",\n    value: function getSource(sourceId) {\n      var includePinned = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      var isPinned = includePinned && sourceId === this.pinnedSourceId;\n      var source = isPinned ? this.pinnedSource : this.dragSources.get(sourceId);\n      return source;\n    }\n  }, {\n    key: \"getTarget\",\n    value: function getTarget(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.dropTargets.get(targetId);\n    }\n  }, {\n    key: \"getSourceType\",\n    value: function getSourceType(sourceId) {\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      return this.types.get(sourceId);\n    }\n  }, {\n    key: \"getTargetType\",\n    value: function getTargetType(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.types.get(targetId);\n    }\n  }, {\n    key: \"isSourceId\",\n    value: function isSourceId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.SOURCE;\n    }\n  }, {\n    key: \"isTargetId\",\n    value: function isTargetId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.TARGET;\n    }\n  }, {\n    key: \"removeSource\",\n    value: function removeSource(sourceId) {\n      var _this = this;\n\n      invariant(this.getSource(sourceId), 'Expected an existing source.');\n      this.store.dispatch(_removeSource(sourceId));\n      asap(function () {\n        _this.dragSources.delete(sourceId);\n\n        _this.types.delete(sourceId);\n      });\n    }\n  }, {\n    key: \"removeTarget\",\n    value: function removeTarget(targetId) {\n      invariant(this.getTarget(targetId), 'Expected an existing target.');\n      this.store.dispatch(_removeTarget(targetId));\n      this.dropTargets.delete(targetId);\n      this.types.delete(targetId);\n    }\n  }, {\n    key: \"pinSource\",\n    value: function pinSource(sourceId) {\n      var source = this.getSource(sourceId);\n      invariant(source, 'Expected an existing source.');\n      this.pinnedSourceId = sourceId;\n      this.pinnedSource = source;\n    }\n  }, {\n    key: \"unpinSource\",\n    value: function unpinSource() {\n      invariant(this.pinnedSource, 'No source is pinned at the time.');\n      this.pinnedSourceId = null;\n      this.pinnedSource = null;\n    }\n  }, {\n    key: \"addHandler\",\n    value: function addHandler(role, type, handler) {\n      var id = getNextHandlerId(role);\n      this.types.set(id, type);\n\n      if (role === HandlerRole.SOURCE) {\n        this.dragSources.set(id, handler);\n      } else if (role === HandlerRole.TARGET) {\n        this.dropTargets.set(id, handler);\n      }\n\n      return id;\n    }\n  }]);\n\n  return HandlerRegistryImpl;\n}();\n\nexport { HandlerRegistryImpl as default };","import \"core-js/modules/es.array.reduce.js\";\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nimport { createStore } from 'redux';\nimport reducer from './reducers';\nimport dragDropActions from './actions/dragDrop';\nimport DragDropMonitorImpl from './DragDropMonitorImpl';\nimport HandlerRegistryImpl from './HandlerRegistryImpl';\n\nfunction makeStoreInstance(debugMode) {\n  // TODO: if we ever make a react-native version of this,\n  // we'll need to consider how to pull off dev-tooling\n  var reduxDevTools = typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION__;\n  return createStore(reducer, debugMode && reduxDevTools && reduxDevTools({\n    name: 'dnd-core',\n    instanceId: 'dnd-core'\n  }));\n}\n\nvar DragDropManagerImpl = /*#__PURE__*/function () {\n  function DragDropManagerImpl() {\n    var _this = this;\n\n    var debugMode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    _classCallCheck(this, DragDropManagerImpl);\n\n    this.isSetUp = false;\n\n    this.handleRefCountChange = function () {\n      var shouldSetUp = _this.store.getState().refCount > 0;\n\n      if (_this.backend) {\n        if (shouldSetUp && !_this.isSetUp) {\n          _this.backend.setup();\n\n          _this.isSetUp = true;\n        } else if (!shouldSetUp && _this.isSetUp) {\n          _this.backend.teardown();\n\n          _this.isSetUp = false;\n        }\n      }\n    };\n\n    var store = makeStoreInstance(debugMode);\n    this.store = store;\n    this.monitor = new DragDropMonitorImpl(store, new HandlerRegistryImpl(store));\n    store.subscribe(this.handleRefCountChange);\n  }\n\n  _createClass(DragDropManagerImpl, [{\n    key: \"receiveBackend\",\n    value: function receiveBackend(backend) {\n      this.backend = backend;\n    }\n  }, {\n    key: \"getMonitor\",\n    value: function getMonitor() {\n      return this.monitor;\n    }\n  }, {\n    key: \"getBackend\",\n    value: function getBackend() {\n      return this.backend;\n    }\n  }, {\n    key: \"getRegistry\",\n    value: function getRegistry() {\n      return this.monitor.registry;\n    }\n  }, {\n    key: \"getActions\",\n    value: function getActions() {\n      /* eslint-disable-next-line @typescript-eslint/no-this-alias */\n      var manager = this;\n      var dispatch = this.store.dispatch;\n\n      function bindActionCreator(actionCreator) {\n        return function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          var action = actionCreator.apply(manager, args);\n\n          if (typeof action !== 'undefined') {\n            dispatch(action);\n          }\n        };\n      }\n\n      var actions = dragDropActions(this);\n      return Object.keys(actions).reduce(function (boundActions, key) {\n        var action = actions[key];\n        boundActions[key] = bindActionCreator(action);\n        return boundActions;\n      }, {});\n    }\n  }, {\n    key: \"dispatch\",\n    value: function dispatch(action) {\n      this.store.dispatch(action);\n    }\n  }]);\n\n  return DragDropManagerImpl;\n}();\n\nexport { DragDropManagerImpl as default };","import createBeginDrag from './beginDrag';\nimport createPublishDragSource from './publishDragSource';\nimport createHover from './hover';\nimport createDrop from './drop';\nimport createEndDrag from './endDrag';\nexport * from './types';\nexport default function createDragDropActions(manager) {\n  return {\n    beginDrag: createBeginDrag(manager),\n    publishDragSource: createPublishDragSource(manager),\n    hover: createHover(manager),\n    drop: createDrop(manager),\n    endDrag: createEndDrag(manager)\n  };\n}","import DragDropManagerImpl from './DragDropManagerImpl';\nexport function createDragDropManager(backendFactory, globalContext, backendOptions, debugMode) {\n  var manager = new DragDropManagerImpl(debugMode);\n  var backend = backendFactory(manager, globalContext, backendOptions);\n  manager.receiveBackend(backend);\n  return manager;\n}","import * as React from 'react';\nimport { createDragDropManager } from 'dnd-core';\n/**\n * Create the React Context\n */\n\nexport var DndContext = React.createContext({\n  dragDropManager: undefined\n});\n/**\n * Creates the context object we're providing\n * @param backend\n * @param context\n */\n\nexport function createDndContext(backend, context, options, debugMode) {\n  return {\n    dragDropManager: createDragDropManager(backend, context, options, debugMode)\n  };\n}","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","function _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nimport shallowEqual from 'shallowequal';\nimport { useState, useCallback } from 'react';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\n/**\n *\n * @param monitor The monitor to collect state from\n * @param collect The collecting function\n * @param onUpdate A method to invoke when updates occur\n */\n\nexport function useCollector(monitor, collect, onUpdate) {\n  var _useState = useState(function () {\n    return collect(monitor);\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      collected = _useState2[0],\n      setCollected = _useState2[1];\n\n  var updateCollected = useCallback(function () {\n    var nextValue = collect(monitor);\n\n    if (!shallowEqual(collected, nextValue)) {\n      setCollected(nextValue);\n\n      if (onUpdate) {\n        onUpdate();\n      }\n    }\n  }, [collected, monitor, onUpdate]); // update the collected properties after the first render\n  // and the components are attached to dnd-core\n\n  useIsomorphicLayoutEffect(updateCollected, []);\n  return [collected, updateCollected];\n}","function _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nimport { useCollector } from './useCollector';\nexport function useMonitorOutput(monitor, collect, onCollect) {\n  var _useCollector = useCollector(monitor, collect, onCollect),\n      _useCollector2 = _slicedToArray(_useCollector, 2),\n      collected = _useCollector2[0],\n      updateCollected = _useCollector2[1];\n\n  useIsomorphicLayoutEffect(function subscribeToMonitorStateChange() {\n    var handlerId = monitor.getHandlerId();\n\n    if (handlerId == null) {\n      return undefined;\n    }\n\n    return monitor.subscribeToStateChange(updateCollected, {\n      handlerIds: [handlerId]\n    });\n  }, [monitor, updateCollected]);\n  return collected;\n}","export default function symbolObservablePonyfill(root) {\n  var result;\n  var Symbol = root.Symbol;\n\n  if (typeof Symbol === 'function') {\n    if (Symbol.observable) {\n      result = Symbol.observable;\n    } else {\n      result = Symbol('observable');\n      Symbol.observable = result;\n    }\n  } else {\n    result = '@@observable';\n  }\n\n  return result;\n}\n;","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nexport function isRef(obj) {\n  return (// eslint-disable-next-line no-prototype-builtins\n    obj !== null && _typeof(obj) === 'object' && obj.hasOwnProperty('current')\n  );\n}","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","import { useContext } from 'react';\nimport invariant from 'invariant';\nimport { DndContext } from '../../common/DndContext';\n/**\n * A hook to retrieve the DragDropManager from Context\n */\n\nexport function useDragDropManager() {\n  var _useContext = useContext(DndContext),\n      dragDropManager = _useContext.dragDropManager;\n\n  invariant(dragDropManager != null, 'Expected drag drop context');\n  return dragDropManager;\n}","/* global window */\nimport ponyfill from './ponyfill.js';\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","import { cloneElement } from 'react';\nimport invariant from 'invariant';\n\nfunction setRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else {\n    ref.current = node;\n  }\n}\n\nexport function cloneWithRef(element, newRef) {\n  var previousRef = element.ref;\n  invariant(typeof previousRef !== 'string', 'Cannot connect React DnD to an element with an existing string ref. ' + 'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' + 'Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute');\n\n  if (!previousRef) {\n    // When there is no ref on the element, use the new ref directly\n    return cloneElement(element, {\n      ref: newRef\n    });\n  } else {\n    return cloneElement(element, {\n      ref: function ref(node) {\n        setRef(previousRef, node);\n        setRef(newRef, node);\n      }\n    });\n  }\n}","import { isValidElement } from 'react';\nimport { cloneWithRef } from '../utils/cloneWithRef';\n\nfunction throwIfCompositeComponentElement(element) {\n  // Custom components can no longer be wrapped directly in React DnD 2.0\n  // so that we don't need to depend on findDOMNode() from react-dom.\n  if (typeof element.type === 'string') {\n    return;\n  }\n\n  var displayName = element.type.displayName || element.type.name || 'the component';\n  throw new Error('Only native element nodes can now be passed to React DnD connectors.' + \"You can either wrap \".concat(displayName, \" into a <div>, or turn it into a \") + 'drag source or a drop target itself.');\n}\n\nfunction wrapHookToRecognizeElement(hook) {\n  return function () {\n    var elementOrNode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null; // When passed a node, call the hook straight away.\n\n    if (!isValidElement(elementOrNode)) {\n      var node = elementOrNode;\n      hook(node, options); // return the node so it can be chained (e.g. when within callback refs\n      // <div ref={node => connectDragSource(connectDropTarget(node))}/>\n\n      return node;\n    } // If passed a ReactElement, clone it and attach this function as a ref.\n    // This helps us achieve a neat API where user doesn't even know that refs\n    // are being used under the hood.\n\n\n    var element = elementOrNode;\n    throwIfCompositeComponentElement(element); // When no options are passed, use the hook directly\n\n    var ref = options ? function (node) {\n      return hook(node, options);\n    } : hook;\n    return cloneWithRef(element, ref);\n  };\n}\n\nexport default function wrapConnectorHooks(hooks) {\n  var wrappedHooks = {};\n  Object.keys(hooks).forEach(function (key) {\n    var hook = hooks[key]; // ref objects should be passed straight through without wrapping\n\n    if (key.endsWith('Ref')) {\n      wrappedHooks[key] = hooks[key];\n    } else {\n      var wrappedHook = wrapHookToRecognizeElement(hook);\n\n      wrappedHooks[key] = function () {\n        return wrappedHook;\n      };\n    }\n  });\n  return wrappedHooks;\n}","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","export function registerTarget(type, target, manager) {\n  var registry = manager.getRegistry();\n  var targetId = registry.addTarget(type, target);\n  return [targetId, function () {\n    return registry.removeTarget(targetId);\n  }];\n}\nexport function registerSource(type, source, manager) {\n  var registry = manager.getRegistry();\n  var sourceId = registry.addSource(type, source);\n  return [sourceId, function () {\n    return registry.removeSource(sourceId);\n  }];\n}","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n"],"sourceRoot":""}
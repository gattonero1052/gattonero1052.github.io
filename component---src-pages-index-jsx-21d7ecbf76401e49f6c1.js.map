{"version":3,"sources":["webpack:///./src/components/Tree/tree.jsx","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/utils/js_utils.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/EnterLeaveCounter.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/BrowserDetector.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/MonotonicInterpolant.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/OffsetUtils.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/NativeTypes.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/nativeTypesConfig.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/getDataFromDataTransfer.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/NativeDragSource.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/index.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/OptionsReader.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/HTML5Backend.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/index.js","webpack:///./src/pages/index.jsx","webpack:///./data/SiteConfig.js","webpack:///./src/layout/index.jsx","webpack:///./src/components/Tags/Tags.jsx","webpack:///./src/components/Tree/treehelper.js","webpack:///./src/components/Data/constants.js","webpack:///./src/components/Data/localstorage.js","webpack:///./node_modules/url-join/lib/url-join.js","webpack:///./src/components/PostListing/PostListing.jsx","webpack:///./node_modules/lodash/_setToArray.js","webpack:///./src/components/SEO/SEO.jsx","webpack:///./node_modules/lodash/union.js","webpack:///./node_modules/lodash/_baseFlatten.js","webpack:///./node_modules/lodash/_isFlattenable.js","webpack:///./node_modules/lodash/_baseUniq.js","webpack:///./node_modules/lodash/_createSet.js","webpack:///./node_modules/lodash/noop.js"],"names":["TreeLevelsArray","TreeLevel","_ref","level","accept","nodes","lastDroppedItem","onDrop","refresh","addTagsCb","_useDrop","useDrop","drop","collect","monitor","isOver","canDrop","_useDrop$","isActive","react_default","a","createElement","className","ref","map","node","tree_TreeNode","key","id","TreeNode","_ref2","inputRef","React","createRef","_useDrop2","MAX_DEPTH","TAGS_OUTSIDE","_useDrop2$","_useDrag","useDrag","item","name","value","type","end","dropResult","getDropResult","isTreeTitle","tags","cur","push","parent","addChild","isTemp","i","children","length","splice","isDragging","drag","opacity","color","getColor","_domObject","style","flex","_spaceCount","isFake","defaultValue","input","autoFocus","onKeyPress","e","onDoubleClick","TreeTitle","_ref4","toggleTree","_useDrop3","_useDrop3$","onClick","Tree","_this","_len","arguments","args","Array","_key","_React$Component","call","apply","this","concat","state","displayPanel","root","getTree","forceRefresh","lines","rootId","filteringTags","getBlogSetting","componentDidMount","refreshTree","tree","props","refreshBinder","bind","refreshTagList","_ref5","setState","_ref6","getTreeNodes","union_default","setBlogSetting","dispatch","removeTagCb","tag","filter","t","componentDidUpdate","prevProps","prevState","snapshot","setTree","getLines","data","firsrOrderTraverseFind","getTreeArray","render","_this2","nodes2d","display","line","strokeWidth","x1","start","x","y1","y","x2","y2","stroke","tree_TreeTitle","Tags","tagItemClass","margin","draggable","nodes1d","tree_TreeLevel","Component","memoize","fn","result","_defineProperties","target","descriptor","enumerable","configurable","writable","Object","defineProperty","EnterLeaveCounter_EnterLeaveCounter","EnterLeaveCounter","isNodeInDocument","instance","Constructor","TypeError","_classCallCheck","entered","protoProps","staticProps","enteringNode","previousLength","itemsA","itemsB","set","Set","insertItem","add","forEach","js_utils_union","contains","leavingNode","items","prototype","isFirefox","test","navigator","userAgent","isSafari","Boolean","window","safari","MonotonicInterpolant_defineProperties","MonotonicInterpolant","xs","ys","MonotonicInterpolant_classCallCheck","indexes","sort","b","dx","dy","dys","dxs","ms","_i","c1s","_i2","m2","mNext","dxNext","common","m","c2s","c3s","_i3","c1","invDx","_common","mid","low","high","xHere","Math","floor","diff","max","diffSq","ELEMENT_NODE","getNodeClientOffset","el","nodeType","parentElement","_el$getBoundingClient","getBoundingClientRect","top","left","getEventClientOffset","clientX","clientY","getDragPreviewOffset","sourceNode","dragPreview","clientOffset","anchorPoint","offsetPoint","isImage","nodeName","document","documentElement","dragPreviewNodeOffsetFromClient","offsetFromDragPreview","sourceWidth","offsetWidth","sourceHeight","offsetHeight","anchorX","anchorY","_getDragPreviewSize","dragPreviewWidth","width","dragPreviewHeight","height","devicePixelRatio","getDragPreviewSize","offsetX","offsetY","isManualOffsetY","interpolate","_nativeTypesConfig","FILE","URL","TEXT","getDataFromDataTransfer","dataTransfer","typesToTry","reduce","resultSoFar","typeToTry","getData","_defineProperty","obj","nativeTypesConfig","exposeProperties","files","slice","matchesTypes","urls","split","text","NativeDragSource_defineProperties","NativeDragSource","config","NativeDragSource_classCallCheck","keys","property","get","console","warn","newProperties","defineProperties","handle","getSourceId","matchNativeItemType","dataTransferTypes","types","nativeItemType","some","indexOf","OptionsReader_defineProperties","OptionsReader","globalContext","OptionsReader_classCallCheck","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","_objectSpread","source","HTML5Backend_defineProperty","getOwnPropertyDescriptors","HTML5Backend_defineProperties","HTML5Backend_HTML5Backend","HTML5Backend","manager","HTML5Backend_classCallCheck","sourcePreviewNodes","Map","sourcePreviewNodeOptions","sourceNodes","sourceNodeOptions","dragStartSourceIds","dropTargetIds","dragEnterTargetIds","currentNativeSource","currentNativeHandle","currentDragSourceNode","altKeyPressed","mouseMoveTimeoutTimer","asyncEndDragFrameId","dragOverTargetIds","getSourceClientOffset","sourceId","endDragNativeItem","isDraggingNativeItem","actions","endDrag","registry","removeSource","body","endDragIfSourceWasRemovedFromDOM","clearCurrentDragSourceNode","handleTopDragStartCapture","handleTopDragStart","defaultPrevented","beginDrag","publishSource","nativeType","setDragImage","_this$getCurrentSourc","getCurrentSourcePreviewNodeOptions","dragPreviewOffset","setData","err","setCurrentDragSourceNode","captureDraggingState","publishDragSource","setTimeout","beginDragNativeItem","hasAttribute","preventDefault","handleTopDragEndCapture","handleTopDragEnterCapture","enterLeaveCounter","enter","handleTopDragEnter","altKey","hover","targetId","canDropOnTarget","dropEffect","getCurrentDropEffect","handleTopDragOverCapture","handleTopDragOver","handleTopDragLeaveCapture","leave","handleTopDropCapture","mutateItemByReadingDataTransfer","reset","handleTopDrop","handleSelectStart","dragDrop","tagName","isContentEditable","options","getActions","getMonitor","getRegistry","undefined","__isReactDndBackendSetUp","Error","addEventListeners","removeEventListeners","cancelAnimationFrame","delete","_this3","handleDragStart","setAttribute","addEventListener","removeEventListener","_this4","handleDragEnter","handleDragOver","handleDrop","getCurrentSourceNodeOptions","itemType","getItemType","NativeTypes_namespaceObject","createNativeDragSource","addSource","_this5","clearTimeout","unshift","dist_esm","context","Index","callBacks","refreshArticleList","refreshBindBack","action","_this$callBacks","_len2","params","_key2","log","binder","assign","postEdges","allMarkdownRemark","edges","edge","frontmatter","draft","esm","backend","layout","Helmet_default","title","siteTitle","SEO","Tree_tree","PostListing","pageQuery","siteTitleShort","siteTitleAlt","siteLogo","siteUrl","pathPrefix","siteDescription","siteRss","siteFBAppID","googleAnalyticsID","disqusShortname","postDefaultCategoryID","dateFromFormat","dateFormat","userName","userEmail","userTwitter","userLocation","userAvatar","userDescription","userLinks","label","url","iconClassName","copyright","themeColor","backgroundColor","replace","substr","module","exports","MainLayout","react__WEBPACK_IMPORTED_MODULE_1___default","react_helmet__WEBPACK_IMPORTED_MODULE_2___default","content","COLORS","str","sum","charCodeAt","PostListTag","clickCb","click","remover","PostListTags","_ref2$tags","Node","random","toString","child","getRoot","findRoot","firsrOrderTraverseConsumer","consumer","prev","res","maxDepth","n","recursiveAddCount","S","tmp","depth","childCount","_needToAdd","fakeNode","finalDepth","getClientRects","generate","settings","isBrowser","hasWindow","localStorage","getItem","JSON","parse","cloneDeep_default","stringify","setItem","DEFAULT_SETTING","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_RESULT__","definition","strArray","resultArray","match","first","shift","component","join","parts","normalize","__webpack_require__","postList","postEdge","rawMarkdownBody","paras","path","fields","slug","cover","date","excerpt","timeToRead","abstract","p","trim","_useState","useState","updateFilter","addTagFilter","lodash_indexOf__WEBPACK_IMPORTED_MODULE_3___default","useEffect","post","lodash_intersection__WEBPACK_IMPORTED_MODULE_2___default","react__WEBPACK_IMPORTED_MODULE_4___default","gatsby__WEBPACK_IMPORTED_MODULE_5__","to","_Tags_Tags__WEBPACK_IMPORTED_MODULE_6__","index","size","description","image","postURL","_this$props","postNode","postPath","postSEO","postMeta","urljoin","blogURL","schemaOrgJSONLD","@context","@type","alternateName","itemListElement","position","@id","headline","baseFlatten","baseRest","baseUniq","isArrayLikeObject","union","arrays","arrayPush","isFlattenable","array","predicate","isStrict","Symbol","isArguments","isArray","spreadableSymbol","isConcatSpreadable","SetCache","arrayIncludes","arrayIncludesWith","cacheHas","createSet","setToArray","LARGE_ARRAY_SIZE","iteratee","comparator","includes","isCommon","seen","outer","computed","seenIndex","noop","values"],"mappings":"+WAmBMA,EAAkB,CAPjB,IACA,IACE,IACD,KAOFC,EAAY,SAAAC,GAAwE,IAAtEC,EAAsED,EAAtEC,MAAOC,EAA+DF,EAA/DE,OAAiCC,GAA8BH,EAAvDI,gBAAuDJ,EAAtCK,OAAsCL,EAA9BG,OAAOG,EAAuBN,EAAvBM,QAAQC,EAAeP,EAAfO,UAAeC,EACtDC,YAAQ,CACxCP,SACAQ,KAAM,iBAAO,CACXT,UAEFU,QAAS,SAAAC,GAAO,MAAK,CACnBC,OAAQD,EAAQC,SAChBC,QAASF,EAAQE,cARmEC,EAAAP,EAAA,GAChFK,EADgFE,EAChFF,OAAQC,EADwEC,EACxED,QAAUJ,EAD8DF,EAAA,GAYlFQ,EAAWF,GAAWD,EAE5B,OACEI,EAAAC,EAAAC,cAAA,OAAKC,UAAS,qBAAsBJ,EAAS,QAAQ,IAChDK,IAAKX,GACPP,EAAMmB,IAAI,SAAAC,GAAI,OACbN,EAAAC,EAAAC,cAACK,EAAD,CAAUlB,QAASA,EAASiB,KAAMA,EAAME,IAAKF,EAAKG,GAAInB,UAAWA,QAMnEoB,EAAW,SAAAC,GAA+B,IAA7BL,EAA6BK,EAA7BL,KAAMjB,EAAuBsB,EAAvBtB,QAAQC,EAAeqB,EAAfrB,UAC3BsB,EAAWC,IAAMC,YADyBC,EAeZvB,YAAQ,CACxCP,OAAoB+B,IAAbV,EAAKtB,MAAoB,GAAG,CAACiC,KACpCxB,KAAM,iBAAO,CACXa,SAEFZ,QAAS,SAAAC,GAAO,MAAK,CACnBC,OAAQD,EAAQC,SAChBC,QAASF,EAAQE,cAtByBqB,EAAAH,EAAA,GAetCnB,EAfsCsB,EAetCtB,OAAQC,EAf8BqB,EAe9BrB,QAAUJ,EAfoBsB,EAAA,GAAAI,EA0BjBC,YAAQ,CACnCC,KAAM,CAACC,KAAMhB,EAAKiB,MAAOC,KAAM3C,EAAgByB,EAAKtB,QACpDyC,IAAK,SAACJ,EAAM1B,GACV,IAAM+B,EAAa/B,EAAQgC,gBAG3B,GAAGN,GAAQK,GAAcA,EAAWE,YAApC,CAGE,IADA,IAAIC,EAAO,GAAIC,EAAMxB,EACP,QAARwB,EAAIrB,IACRoB,EAAKE,KAAKD,EAAIP,OACdO,EAAMA,EAAIE,OAGZ1C,EAAUuC,OARZ,CAaA,GAAIR,GAAQK,EACV,GAAGA,EAAW1C,MAAMsB,EAAKtB,MACXiD,YAAS3B,EAAK,IACpB4B,OAAS,EACf7C,SACI,GAAIqC,EAAW1C,MAAMsB,EAAKtB,MAAM,CAEpC,IADA,IAAImD,EAAI,EACDA,EAAI7B,EAAK0B,OAAOI,SAASC,QAC1B/B,IAASA,EAAK0B,OAAOI,SAASD,GADIA,KAIxC7B,EAAK0B,OAAOI,SAASE,OAAOH,EAAE,GAC9B9C,OAINK,QAAS,SAAAC,GAAO,MAAK,CACnB4C,WAAY5C,EAAQ4C,iBApChBA,EA1BsCpB,EAAA,GA0BtCoB,WAAaC,EA1ByBrB,EAAA,GAoExCsB,EAAUF,EAAa,GAFZ1C,GAAWD,EAEiB,GAAG,EAE1C8C,EAAQC,YAASrC,EAAKiB,OAG5B,OACEvB,EAAAC,EAAAC,cAAA,OAAKE,IAAK,SAAAA,GAAG,OAAEE,EAAKsC,WAAaxC,GAAKD,UAAU,aAAa0C,MAAO,CAACC,KAAMxC,EAAKyC,aAAe,IAC5FzC,EAAK0C,OAAO,GACXhD,EAAAC,EAAAC,cAAA,OAAKE,IAAKoC,EAAMrC,UAAU,WAAW0C,MAAO,CAACJ,UAASC,UACpD1C,EAAAC,EAAAC,cAAA,OAAKE,IAAKX,GACTa,EAAK4B,OACJlC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACbH,EAAAC,EAAAC,cAAA,SAAOsB,KAAK,OAAOyB,aAAc3C,EAAKiB,MAAOnB,IAAK,SAAA8C,GAAK,OAAItC,EAAWsC,GAAOC,WAAW,EAAMC,WA9EnF,SAAAC,GACR,SAATA,EAAE7C,MACJF,EAAKiB,MAAQX,EAASW,OAAS,IAC/BjB,EAAK4B,OAAS,EACd7C,SA6EMW,EAAAC,EAAAC,cAAA,OAAKoD,cAzEW,SAAAD,GACxB/C,EAAK4B,OAAS,EACd7C,MAuEgDiB,EAAKiB,WASnDgC,EAAY,SAAAC,GAAgB,IAAdC,EAAcD,EAAdC,WAAcC,EACElE,YAAQ,CACxCP,OAAOJ,EACPY,KAAM,iBAAO,CAACmC,aAAY,IAC1BlC,QAAS,SAAAC,GAAO,MAAK,CACnBC,OAAQD,EAAQC,SAChBC,QAASF,EAAQE,cANW8D,EAAAD,EAAA,GACNjE,GADMkE,EACxB/D,OADwB+D,EAChB9D,QADgB6D,EAAA,IAUhC,OAAQ1D,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aAAaC,IAAKX,EAAMmE,QAASH,GAAhD,SAkIKI,cAzHb,SAAAA,IAAqB,QAAAC,EAAAC,EAAAC,UAAA3B,OAAN4B,EAAM,IAAAC,MAAAH,GAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAANF,EAAME,GAAAH,UAAAG,IACnBL,EAAAM,EAAAC,KAAAC,MAAAF,EAAA,CAAAG,MAAAC,OAASP,KAATM,MANFE,MAAQ,CACNC,cAAc,EACdxF,MAAO,IAKP,IAAIyF,EAAOC,cAFQ,OAInBd,EAAKW,MAAQ,CACXI,cAAa,EACb3F,MAAM,GACN4F,MAAO,GACPH,OACAI,OAAQ,OACRC,cAAcC,YAAe,kBAVZnB,sCAcrBoB,kBAAA,WACEX,KAAKY,YAAY,CAACC,KAAMb,KAAKE,MAAME,KAAMlE,GAAI,SAG7C8D,KAAKc,MAAMC,cAAc,CACvBH,YAAYZ,KAAKlF,QAAQkG,KAAKhB,MAC9BiB,eAAejB,KAAKiB,eAAeD,KAAKhB,WAI5ClF,QAAA,WACEkF,KAAKY,YAAY,CAACC,KAAMb,KAAKE,MAAME,KAAMlE,GAAI8D,KAAKE,MAAMM,YAG1DS,eAAA,SAAAC,GAA+B,IAAfT,EAAeS,EAAfT,cACdT,KAAKmB,SAAS,CACZV,qBAIJG,YAAA,SAAAQ,GAAwB,IAAXP,EAAWO,EAAXP,KAAM3E,EAAKkF,EAALlF,GACjB8D,KAAKmB,SAAS,CACZb,cAAcN,KAAKE,MAAMI,aACzB3F,MAAOqF,KAAKqB,aAAa,CACvBR,OAAM3E,YAKZnB,UAAA,SAAUuC,GACR,IAAImD,EAAgBa,IAAQtB,KAAKE,MAAMO,cAAcnD,GACrD0C,KAAKiB,eAAe,CAACR,kBACrBc,YAAe,CAACd,kBAChBT,KAAKc,MAAMU,SAAS,qBAAqB,CAACf,qBAI5CgB,YAAA,SAAYC,GACV,IAAIjB,EAAgBT,KAAKE,MAAMO,cAAgBT,KAAKE,MAAMO,cAAckB,OAAO,SAAAC,GAAC,OAAEA,IAAIF,IACtF1B,KAAKiB,eAAe,CAACR,kBACrBc,YAAe,CAACd,kBAChBT,KAAKc,MAAMU,SAAS,qBAAqB,CAACf,qBAG5CoB,mBAAA,SAAmBC,EAAWC,EAAWC,GACvC,GAAID,EAAU5B,cAAgBH,KAAKE,MAAMC,cAAgB4B,EAAUzB,cAAcN,KAAKE,MAAMI,aAAc,CACxG2B,YAAQjC,KAAKE,MAAME,MAEnB,IAAIG,EAAQ2B,YAASlC,KAAKE,MAAMvF,MAAM,GAAG,IAEzCqF,KAAKmB,SAAS,CAACZ,cAInBc,aAAA,SAAac,GACX,IAAIpG,EAAOqG,YAAuBD,EAAKtB,KAAMsB,EAAKjG,IAClD,GAAKH,EAEL,OADYsG,YAAatG,EA5NX,MAiOhBmD,WAAA,WACEc,KAAKmB,SAAS,CACZhB,cAAeH,KAAKE,MAAMC,kBAI9BmC,OAAA,WAAS,IAAAC,EAAAvC,KACHwC,EAAUxC,KAAKE,MAAMvF,OAAS,GAClC,OACEc,EAAAC,EAAAC,cAAA,OAAKC,UAAU,IACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WAAW0C,MAAO,CAC/BmE,QAASzC,KAAKE,MAAMC,aAAe,UAAY,SAE9CH,KAAKE,MAAMK,MAAMzE,IAAI,SAAC4G,EAAK9E,GAAN,OACpBnC,EAAAC,EAAAC,cAAA,QAAMM,IAAK2B,EAAG+E,YAAY,KAAKC,GAAIF,EAAKG,MAAMC,EAAGC,GAAIL,EAAKG,MAAMG,EAAGC,GAAIP,EAAKxF,IAAI4F,EAAGI,GAAIR,EAAKxF,IAAI8F,EAAGG,OAAQT,EAAKvE,WAGpH1C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAACyH,EAAD,CAAWlE,WAAYc,KAAKd,WAAW8B,KAAKhB,QAC5CvE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACbH,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,CAAcC,aAAc,CAACC,OAAO,WAAYC,WAAW,EAAOlG,KAAM0C,KAAKE,MAAMO,cAAegB,YAAazB,KAAKyB,YAAYT,KAAKhB,WAK3IvE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aAAa0C,MAAO,CACjCmE,QAASzC,KAAKE,MAAMC,aAAe,OAAS,SAE5C1E,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACZ4G,EAAQ1G,IAAI,SAAC2H,EAAS7F,GAAV,OACXnC,EAAAC,EAAAC,cAAC+H,EAAD,CAAWjJ,MAAOmD,EAAG9C,QAASyH,EAAKzH,QAAQkG,KAAKuB,GAAOxH,UAAawH,EAAKxH,UAAUiG,KAAKuB,GAC7EtG,IAAK2B,EAAGjD,MAAO8I,EAAS/I,OACjC,GAAGuF,OAAOrC,EAAI,EAAItD,EAAgBsD,EAAI,GAAK,IAC1CqC,OAAOrC,EAAGtD,EAAgBwD,OAAO,EAAIxD,EAAgBsD,EAAI,GAAK,gBArH9DtB,IAAMqH,oCCtJlB,SAAAC,EAAAC,GACP,IAAAC,EAAA,KAUA,OARA,WAKA,OAJA,MAAAA,IACAA,EAAAD,KAGAC,GCPA,SAAAC,EAAAC,EAAAlD,GAA2C,QAAAlD,EAAA,EAAgBA,EAAAkD,EAAAhD,OAAkBF,IAAA,CAAO,IAAAqG,EAAAnD,EAAAlD,GAA2BqG,EAAAC,WAAAD,EAAAC,aAAA,EAAwDD,EAAAE,cAAA,EAAgC,UAAAF,MAAAG,UAAA,GAAuDC,OAAAC,eAAAN,EAAAC,EAAAhI,IAAAgI,IAM9P,IAAIM,EAEJ,WACA,SAAAC,EAAAC,IAXA,SAAAC,EAAAC,GAAiD,KAAAD,aAAAC,GAA0C,UAAAC,UAAA,qCAY3FC,CAAA7E,KAAAwE,GAEAxE,KAAA8E,QAAA,GACA9E,KAAAyE,mBAXA,IAAAE,EAAAI,EAAAC,EA0CA,OA1CAL,EAcAH,GAdAO,EAcA,EACA9I,IAAA,QACAe,MAAA,SAAAiI,GACA,IAAA1F,EAAAS,KAEAkF,EAAAlF,KAAA8E,QAAAhH,OAOA,OADAkC,KAAA8E,QDNO,SAAcK,EAAAC,GACrB,IAAAC,EAAA,IAAAC,IAEAC,EAAA,SAAAzI,GACA,OAAAuI,EAAAG,IAAA1I,IAGAqI,EAAAM,QAAAF,GACAH,EAAAK,QAAAF,GACA,IAAAzB,EAAA,GAIA,OAHAuB,EAAAI,QAAA,SAAAxJ,GACA,OAAA6H,EAAAtG,KAAAvB,KAEA6H,ECPqB4B,CAAK1F,KAAA8E,QAAAnD,OAJ1B,SAAA5F,GACA,OAAAwD,EAAAkF,iBAAA1I,QAAA4J,UAAA5J,EAAA4J,SAAAV,MAG0B,CAAAA,IAC1B,IAAAC,GAAAlF,KAAA8E,QAAAhH,OAAA,IAEG,CACH7B,IAAA,QACAe,MAAA,SAAA4I,GACA,IDjBOC,EAAA/I,ECiBPoI,EAAAlF,KAAA8E,QAAAhH,OAEA,OADAkC,KAAA8E,SDlBOe,ECkBqB7F,KAAA8E,QAAAnD,OAAA3B,KAAAyE,kBDlBrB3H,ECkBqB8I,EDjB5BC,EAAAlE,OAAA,SAAA/D,GACA,OAAAA,IAAAd,KCiBAoI,EAAA,OAAAlF,KAAA8E,QAAAhH,SAEG,CACH7B,IAAA,QACAe,MAAA,WACAgD,KAAA8E,QAAA,QAtC6Df,EAAAY,EAAAmB,UAAAf,GAAsEC,GAAAjB,EAAAY,EAAAK,GA0CnIR,EApCA,GCTOuB,EAAgBnC,EAAO,WAC9B,iBAAAoC,KAAAC,UAAAC,aAEOC,EAAevC,EAAO,WAC7B,OAAAwC,QAAAC,OAAAC,UCHA,SAASC,EAAiBvC,EAAAlD,GAAiB,QAAAlD,EAAA,EAAgBA,EAAAkD,EAAAhD,OAAkBF,IAAA,CAAO,IAAAqG,EAAAnD,EAAAlD,GAA2BqG,EAAAC,WAAAD,EAAAC,aAAA,EAAwDD,EAAAE,cAAA,EAAgC,UAAAF,MAAAG,UAAA,GAAuDC,OAAAC,eAAAN,EAAAC,EAAAhI,IAAAgI,IAI9P,IAAAuC,EAEA,WACA,SAAAA,EAAAC,EAAAC,IATA,SAAwBhC,EAAAC,GAAyB,KAAAD,aAAAC,GAA0C,UAAAC,UAAA,qCAUvF+B,CAAe3G,KAAAwG,GAMnB,IAJA,IAAA1I,EAAA2I,EAAA3I,OAEA8I,EAAA,GAEAhJ,EAAA,EAAmBA,EAAAE,EAAYF,IAC/BgJ,EAAApJ,KAAAI,GAGAgJ,EAAAC,KAAA,SAAAnL,EAAAoL,GACA,OAAAL,EAAA/K,GAAA+K,EAAAK,IAAA,MASA,IANA,IAGAC,EACAC,EAJAC,EAAA,GACAC,EAAA,GACAC,EAAA,GAIAC,EAAA,EAAoBA,EAAAtJ,EAAA,EAAiBsJ,IACrCL,EAAAN,EAAAW,EAAA,GAAAX,EAAAW,GACAJ,EAAAN,EAAAU,EAAA,GAAAV,EAAAU,GACAF,EAAA1J,KAAAuJ,GACAE,EAAAzJ,KAAAwJ,GACAG,EAAA3J,KAAAwJ,EAAAD,GAMA,IAFA,IAAAM,EAAA,CAAAF,EAAA,IAEAG,EAAA,EAAqBA,EAAAJ,EAAApJ,OAAA,EAAsBwJ,IAAA,CAC3C,IAAAC,EAAAJ,EAAAG,GACAE,EAAAL,EAAAG,EAAA,GAEA,GAAAC,EAAAC,GAAA,EACAH,EAAA7J,KAAA,OACO,CACPuJ,EAAAG,EAAAI,GACA,IAAAG,EAAAP,EAAAI,EAAA,GACAI,EAAAX,EAAAU,EACAJ,EAAA7J,KAAA,EAAAkK,MAAAD,GAAAF,GAAAG,EAAAX,GAAAS,KAIAH,EAAA7J,KAAA2J,IAAArJ,OAAA,IAMA,IAJA,IAEA6J,EAFAC,EAAA,GACAC,EAAA,GAGAC,EAAA,EAAqBA,EAAAT,EAAAvJ,OAAA,EAAsBgK,IAAA,CAC3CH,EAAAR,EAAAW,GACA,IAAAC,EAAAV,EAAAS,GACAE,EAAA,EAAAd,EAAAY,GAEAG,EAAAF,EAAAV,EAAAS,EAAA,GAAAH,IAEAC,EAAApK,MAAAmK,EAAAI,EAAAE,GAAAD,GACAH,EAAArK,KAAAyK,EAAAD,KAGAhI,KAAAyG,KACAzG,KAAA0G,KACA1G,KAAAqH,MACArH,KAAA4H,MACA5H,KAAA6H,MAxEA,IAAqBlD,EAAAI,EAAAC,EAoHrB,OApHqBL,EA2EP6B,GA3EOzB,EA2EP,EACd9I,IAAA,cACAe,MAAA,SAAA8F,GACA,IAAA2D,EAAAzG,KAAAyG,GACAC,EAAA1G,KAAA0G,GACAW,EAAArH,KAAAqH,IACAO,EAAA5H,KAAA4H,IACAC,EAAA7H,KAAA6H,IAEAjK,EAAA6I,EAAA3I,OAAA,EAEA,GAAAgF,IAAA2D,EAAA7I,GACA,OAAA8I,EAAA9I,GAQA,IAJA,IAEAsK,EAFAC,EAAA,EACAC,EAAAP,EAAA/J,OAAA,EAGAqK,GAAAC,GAAA,CAEA,IAAAC,EAAA5B,EADAyB,EAAAI,KAAAC,MAAA,IAAAJ,EAAAC,KAGA,GAAAC,EAAAvF,EACAqF,EAAAD,EAAA,MACS,MAAAG,EAAAvF,GAGT,OAAA4D,EAAAwB,GAFAE,EAAAF,EAAA,GAQA,IAAAM,EAAA1F,EAAA2D,EAFA7I,EAAA0K,KAAAG,IAAA,EAAAL,IAGAM,EAAAF,IACA,OAAA9B,EAAA9I,GAAAyJ,EAAAzJ,GAAA4K,EAAAZ,EAAAhK,GAAA8K,EAAAb,EAAAjK,GAAA4K,EAAAE,OAhH8EnC,EAAiB5B,EAAAmB,UAAAf,GAAoCC,GAAkBuB,EAAiB5B,EAAAK,GAoHtKwB,EAhHA,GCNAmC,EAAA,EACO,SAAAC,EAAA7M,GACP,IAAA8M,EAAA9M,EAAA+M,WAAAH,EAAA5M,IAAAgN,cAEA,IAAAF,EACA,YAGA,IAAAG,EAAAH,EAAAI,wBACAC,EAAAF,EAAAE,IAGA,OACApG,EAHAkG,EAAAG,KAIAnG,EAAAkG,GAGO,SAAAE,EAAAtK,GACP,OACAgE,EAAAhE,EAAAuK,QACArG,EAAAlE,EAAAwK,SAuBO,SAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAGP,IAtBA7N,EA2CAiH,EArBA6G,EArBA,SADA9N,EAsBA0N,GArBAK,WAAqC/D,MAASgE,SAAAC,gBAAArE,SAAA5J,IAuB9CkO,EAAArB,EADAiB,EAAAL,EAAAC,GAEAS,EAAA,CACApH,EAAA4G,EAAA5G,EAAAmH,EAAAnH,EACAE,EAAA0G,EAAA1G,EAAAiH,EAAAjH,GAEAmH,EAAAX,EAAAY,YACAC,EAAAb,EAAAc,aACAC,EAAAZ,EAAAY,QACAC,EAAAb,EAAAa,QAEAC,EA9BA,SAAAZ,EAAAJ,EAAAU,EAAAE,GACA,IAAAK,EAAAb,EAAAJ,EAAAkB,MAAAR,EACAS,EAAAf,EAAAJ,EAAAoB,OAAAR,EAOA,OALMlE,KAAQ0D,IACde,GAAAvE,OAAAyE,iBACAJ,GAAArE,OAAAyE,kBAGA,CACAJ,mBACAE,qBAmBAG,CAAAlB,EAAAJ,EAAAU,EAAAE,GACAK,EAAAD,EAAAC,iBACAE,EAAAH,EAAAG,kBA4BAI,EAAApB,EAAAoB,QACAC,EAAArB,EAAAqB,QAEAC,EAAA,IAAAD,KACA,OACAnI,EAHA,IAAAkI,KAGAA,EAbA,IAA2BxE,EAAoB,UAC/C0D,EAAApH,EACAoH,EAAApH,EAAAqH,EAAAO,EACAR,EAAApH,EAAA4H,EAAAP,IACAgB,YAAAZ,GAUAvH,EAAAkI,EAAAD,GA3BAjI,EAJA,IAA2BwD,EAAoB,UAC/C0D,EAAAlH,EACAkH,EAAAlH,EAAAqH,EAAAO,EACAV,EAAAlH,EAAA4H,EAAAP,IACAc,YAAAX,GAEQrE,KAAQ0D,IAEhB7G,IAAAqD,OAAAyE,iBAAA,GAAAF,GAGA5H,IC5EO,ICAPoI,EDAOC,EAAA,kBACAC,EAAA,iBACAC,EAAA,kBEFA,SAAAC,EAAAC,EAAAC,EAAAhN,GACP,IAAAoF,EAAA4H,EAAAC,OAAA,SAAAC,EAAAC,GACA,OAAAD,GAAAH,EAAAK,QAAAD,IACG,IACH,aAAA/H,IAAApF,EDFA,SAAAqN,EAAAC,EAAA/P,EAAAe,GAAmM,OAAxJf,KAAA+P,EAAkB3H,OAAAC,eAAA0H,EAAA/P,EAAA,CAAkCe,QAAAkH,YAAA,EAAAC,cAAA,EAAAC,UAAA,IAAgF4H,EAAA/P,GAAAe,EAAoBgP,EAI5L,IAAAC,GAAgDF,EAAhDX,EAAA,GAAsFC,EAAgB,CAC7Ga,iBAAA,CACAC,MAAA,SAAAV,GACA,OAAA9L,MAAAmG,UAAAsG,MAAAtM,KAAA2L,EAAAU,QAEAtG,MAAA,SAAA4F,GACA,OAAAA,EAAA5F,QAGAwG,aAAA,YACCN,EAAAX,EAAuCE,EAAe,CACvDY,iBAAA,CACAI,KAAA,SAAAb,EAAAY,GACA,OAAab,EAAuBC,EAAAY,EAAA,IAAAE,MAAA,QAGpCF,aAAA,0BACCN,EAAAX,EAAuCG,EAAgB,CACxDW,iBAAA,CACAM,KAAA,SAAAf,EAAAY,GACA,OAAab,EAAuBC,EAAAY,EAAA,MAGpCA,aAAA,wBACCjB,GE5BD,SAASqB,EAAiBzI,EAAAlD,GAAiB,QAAAlD,EAAA,EAAgBA,EAAAkD,EAAAhD,OAAkBF,IAAA,CAAO,IAAAqG,EAAAnD,EAAAlD,GAA2BqG,EAAAC,WAAAD,EAAAC,aAAA,EAAwDD,EAAAE,cAAA,EAAgC,UAAAF,MAAAG,UAAA,GAAuDC,OAAAC,eAAAN,EAAAC,EAAAhI,IAAAgI,IAIvP,IAAAyI,EAEP,WACA,SAAAA,EAAAC,GACA,IAAApN,EAAAS,MAVA,SAAwB0E,EAAAC,GAAyB,KAAAD,aAAAC,GAA0C,UAAAC,UAAA,qCAYvFgI,CAAe5M,KAAA0M,GAEnB1M,KAAA2M,SACA3M,KAAAlD,KAAA,GACAuH,OAAAwI,KAAA7M,KAAA2M,OAAAT,kBAAAzG,QAAA,SAAAqH,GACAzI,OAAAC,eAAA/E,EAAAzC,KAAAgQ,EAAA,CACA3I,cAAA,EACAD,YAAA,EACA6I,IAAA,WAGA,OADAC,QAAAC,KAAA,mCAAAhN,OAAA6M,EAAA,4BACA,UAnBA,IAAqBnI,EAAAI,EAAAC,EA+DrB,OA/DqBL,EAyBP+H,GAzBO3H,EAyBP,EACd9I,IAAA,kCACAe,MAAA,SAAAyO,GACA,IAAAlJ,EAAAvC,KAEAkN,EAAA,GAEAzB,GACApH,OAAAwI,KAAA7M,KAAA2M,OAAAT,kBAAAzG,QAAA,SAAAqH,GACAI,EAAAJ,GAAA,CACA9P,MAAAuF,EAAAoK,OAAAT,iBAAAY,GAAArB,EAAAlJ,EAAAoK,OAAAN,iBAKAhI,OAAA8I,iBAAAnN,KAAAlD,KAAAoQ,KAEG,CACHjR,IAAA,UACAe,MAAA,WACA,WAEG,CACHf,IAAA,YACAe,MAAA,WACA,OAAAgD,KAAAlD,OAEG,CACHb,IAAA,aACAe,MAAA,SAAA5B,EAAAgS,GACA,OAAAA,IAAAhS,EAAAiS,gBAEG,CACHpR,IAAA,UACAe,MAAA,iBA3D8EyP,EAAiB9H,EAAAmB,UAAAf,GAAoCC,GAAkByH,EAAiB9H,EAAAK,GA+DtK0H,EA3DA,GCHO,SAAAY,EAAA7B,GACP,IAAAA,EACA,YAGA,IAAA8B,EAAA5N,MAAAmG,UAAAsG,MAAAtM,KAAA2L,EAAA+B,OAAA,IACA,OAAAnJ,OAAAwI,KAAqBZ,GAAiBtK,OAAA,SAAA8L,GAEtC,OADuBxB,EAAiBwB,GAAApB,aACxCqB,KAAA,SAAA9L,GACA,OAAA2L,EAAAI,QAAA/L,IAAA,MAEG,SCdH,SAASgM,EAAiB5J,EAAAlD,GAAiB,QAAAlD,EAAA,EAAgBA,EAAAkD,EAAAhD,OAAkBF,IAAA,CAAO,IAAAqG,EAAAnD,EAAAlD,GAA2BqG,EAAAC,WAAAD,EAAAC,aAAA,EAAwDD,EAAAE,cAAA,EAAgC,UAAAF,MAAAG,UAAA,GAAuDC,OAAAC,eAAAN,EAAAC,EAAAhI,IAAAgI,IAIvP,IAAA4J,EAEP,WACA,SAAAA,EAAAC,IATA,SAAwBpJ,EAAAC,GAAyB,KAAAD,aAAAC,GAA0C,UAAAC,UAAA,qCAUvFmJ,CAAe/N,KAAA6N,GAEnB7N,KAAA8N,gBARA,IAAqBnJ,EAAAI,EAAAC,EAiCrB,OAjCqBL,EAWPkJ,GAXO9I,EAWP,EACd9I,IAAA,SACA8Q,IAAA,WACA,OAAA/M,KAAA8N,cACA9N,KAAA8N,cACO,oBAAAzH,OACPA,YADO,IAMJ,CACHpK,IAAA,WACA8Q,IAAA,WACA,GAAA/M,KAAAqG,OACA,OAAArG,KAAAqG,OAAA0D,cA1B8E6D,EAAiBjJ,EAAAmB,UAAAf,GAAoCC,GAAkB4I,EAAiBjJ,EAAAK,GAiCtK6I,EA7BA,GCRA,SAAAG,EAAAC,EAAAC,GAA0C,IAAArB,EAAAxI,OAAAwI,KAAAoB,GAAgC,GAAA5J,OAAA8J,sBAAA,CAAoC,IAAAC,EAAA/J,OAAA8J,sBAAAF,GAAoDC,IAAAE,IAAAzM,OAAA,SAAA0M,GAA8D,OAAAhK,OAAAiK,yBAAAL,EAAAI,GAAAnK,cAAoE2I,EAAArP,KAAAuC,MAAA8M,EAAAuB,GAAkC,OAAAvB,EAEtU,SAAA0B,EAAAvK,GAAgC,QAAApG,EAAA,EAAgBA,EAAA6B,UAAA3B,OAAsBF,IAAA,CAAO,IAAA4Q,EAAA,MAAA/O,UAAA7B,GAAA6B,UAAA7B,GAAA,GAAuDA,EAAA,EAAaoQ,EAAAQ,GAAA,GAAA/I,QAAA,SAAAxJ,GAAgDwS,EAAezK,EAAA/H,EAAAuS,EAAAvS,MAAiCoI,OAAAqK,0BAA6CrK,OAAA8I,iBAAAnJ,EAAAK,OAAAqK,0BAAAF,IAAoFR,EAAAQ,GAAA/I,QAAA,SAAAxJ,GAAyCoI,OAAAC,eAAAN,EAAA/H,EAAAoI,OAAAiK,yBAAAE,EAAAvS,MAA0F,OAAA+H,EAErf,SAASyK,EAAezC,EAAA/P,EAAAe,GAA2K,OAAxJf,KAAA+P,EAAkB3H,OAAAC,eAAA0H,EAAA/P,EAAA,CAAkCe,QAAAkH,YAAA,EAAAC,cAAA,EAAAC,UAAA,IAAgF4H,EAAA/P,GAAAe,EAAoBgP,EAInM,SAAS2C,EAAiB3K,EAAAlD,GAAiB,QAAAlD,EAAA,EAAgBA,EAAAkD,EAAAhD,OAAkBF,IAAA,CAAO,IAAAqG,EAAAnD,EAAAlD,GAA2BqG,EAAAC,WAAAD,EAAAC,aAAA,EAAwDD,EAAAE,cAAA,EAAgC,UAAAF,MAAAG,UAAA,GAAuDC,OAAAC,eAAAN,EAAAC,EAAAhI,IAAAgI,IAW9P,IAAI2K,EAEJ,WACA,SAAAC,EAAAC,EAAAhB,GACA,IAAAvO,EAAAS,MAjBA,SAAwB0E,EAAAC,GAAyB,KAAAD,aAAAC,GAA0C,UAAAC,UAAA,qCAmBvFmK,CAAe/O,KAAA6O,GAEnB7O,KAAAgP,mBAAA,IAAAC,IACAjP,KAAAkP,yBAAA,IAAAD,IACAjP,KAAAmP,YAAA,IAAAF,IACAjP,KAAAoP,kBAAA,IAAAH,IACAjP,KAAAqP,mBAAA,KACArP,KAAAsP,cAAA,GACAtP,KAAAuP,mBAAA,GACAvP,KAAAwP,oBAAA,KACAxP,KAAAyP,oBAAA,KACAzP,KAAA0P,sBAAA,KACA1P,KAAA2P,eAAA,EACA3P,KAAA4P,sBAAA,KACA5P,KAAA6P,oBAAA,KACA7P,KAAA8P,kBAAA,KAEA9P,KAAA+P,sBAAA,SAAAC,GACA,OAAapH,EAAmBrJ,EAAA4P,YAAApC,IAAAiD,KAGhChQ,KAAAiQ,kBAAA,WACA1Q,EAAA2Q,yBAIA3Q,EAAA4Q,QAAAC,UAEA7Q,EAAA8Q,SAAAC,aAAA/Q,EAAAkQ,qBAEAlQ,EAAAkQ,oBAAA,KACAlQ,EAAAiQ,oBAAA,OAGAxP,KAAAyE,iBAAA,SAAA1I,GAEA,OAAAwD,EAAAwK,UAAAxK,EAAAwK,SAAAwG,MAAAxG,SAAAwG,KAAA5K,SAAA5J,IAGAiE,KAAAwQ,iCAAA,WACA,IAAAzU,EAAAwD,EAAAmQ,sBAEAnQ,EAAAkF,iBAAA1I,IAIAwD,EAAAkR,8BACAlR,EAAA4Q,QAAAC,WAIApQ,KAAA0Q,0BAAA,WACAnR,EAAAkR,6BAEAlR,EAAA8P,mBAAA,IAGArP,KAAA2Q,mBAAA,SAAA7R,GACA,IAAAA,EAAA8R,iBAAA,CAIA,IAAAvB,EAAA9P,EAAA8P,mBACA9P,EAAA8P,mBAAA,KACA,IAAA3F,EAAyBN,EAAoBtK,GAE7CS,EAAAnE,QAAA4C,cACAuB,EAAA4Q,QAAAC,UAIA7Q,EAAA4Q,QAAAU,UAAAxB,GAAA,IACAyB,eAAA,EACAf,sBAAAxQ,EAAAwQ,sBACArG,iBAGA,IAAA+B,EAAA3M,EAAA2M,aACAsF,EAAuBzD,EAAmB7B,GAE1C,GAAAlM,EAAAnE,QAAA4C,aAAA,CACA,GAAAyN,GAAA,mBAAAA,EAAAuF,aAAA,CAIA,IAAAhB,EAAAzQ,EAAAnE,QAAAiS,cAEA7D,EAAAjK,EAAA4P,YAAApC,IAAAiD,GAEAvG,EAAAlK,EAAAyP,mBAAAjC,IAAAiD,IAAAxG,EAEA,GAAAC,EAAA,CACA,IAAAwH,EAAA1R,EAAA2R,qCAcAC,EAAoC5H,EAAoBC,EAAAC,EAAAC,EARxD,CACAa,QANA0G,EAAA1G,QAOAC,QANAyG,EAAAzG,SAQA,CACAQ,QARAiG,EAAAjG,QASAC,QARAgG,EAAAhG,UAWAQ,EAAAuF,aAAAvH,EAAA0H,EAAArO,EAAAqO,EAAAnO,IAIA,IAEAyI,EAAA2F,QAAA,uBACS,MAAAC,IAKT9R,EAAA+R,yBAAAxS,EAAAkF,QAGAzE,EAAA2R,qCACAK,qBAsBAhS,EAAA4Q,QAAAqB,oBAdAC,WAAA,WACA,OAAAlS,EAAA4Q,QAAAqB,qBACW,QAcJ,GAAAT,EAEPxR,EAAAmS,oBAAAX,OACO,IAAAtF,MAAA+B,QAAA1O,EAAAkF,SAAAlF,EAAAkF,OAAA2N,eAAA7S,EAAAkF,OAAA2N,aAAA,cAIP,OAGA7S,EAAA8S,oBAIA5R,KAAA6R,wBAAA,WACAtS,EAAAkR,8BAIAlR,EAAA4Q,QAAAC,WAIApQ,KAAA8R,0BAAA,SAAAhT,GAKA,GAJAS,EAAAgQ,mBAAA,GAEAhQ,EAAAwS,kBAAAC,MAAAlT,EAAAkF,UAEAzE,EAAAnE,QAAA4C,aAAA,CAIA,IACA+S,EAAuBzD,EADvBxO,EAAA2M,cAGAsF,GAEAxR,EAAAmS,oBAAAX,KAIA/Q,KAAAiS,mBAAA,SAAAnT,GACA,IAAAyQ,EAAAhQ,EAAAgQ,oBACAhQ,EAAAgQ,mBAAA,GAEAhQ,EAAAnE,QAAA4C,gBAKAuB,EAAAoQ,cAAA7Q,EAAAoT,OAEWnM,KAKXxG,EAAA4Q,QAAAgC,MAAA5C,EAAA,CACA7F,aAAwBN,EAAoBtK,KAI5CyQ,EAAA7B,KAAA,SAAA0E,GACA,OAAA7S,EAAAnE,QAAAiX,gBAAAD,OAKAtT,EAAA8S,iBAEA9S,EAAA2M,eACA3M,EAAA2M,aAAA6G,WAAA/S,EAAAgT,2BAKAvS,KAAAwS,yBAAA,WACAjT,EAAAuQ,kBAAA,IAGA9P,KAAAyS,kBAAA,SAAA3T,GACA,IAAAgR,EAAAvQ,EAAAuQ,kBAGA,GAFAvQ,EAAAuQ,kBAAA,IAEAvQ,EAAAnE,QAAA4C,aASA,OANAc,EAAA8S,sBAEA9S,EAAA2M,eACA3M,EAAA2M,aAAA6G,WAAA,SAMA/S,EAAAoQ,cAAA7Q,EAAAoT,OAEA3S,EAAA4Q,QAAAgC,MAAArC,GAAA,IACApG,aAAsBN,EAAoBtK,MAG1CgR,GAAA,IAAApC,KAAA,SAAA0E,GACA,OAAA7S,EAAAnE,QAAAiX,gBAAAD,MAKAtT,EAAA8S,iBAEA9S,EAAA2M,eACA3M,EAAA2M,aAAA6G,WAAA/S,EAAAgT,yBAEOhT,EAAA2Q,uBAGPpR,EAAA8S,kBAEA9S,EAAA8S,iBAEA9S,EAAA2M,eACA3M,EAAA2M,aAAA6G,WAAA,UAKAtS,KAAA0S,0BAAA,SAAA5T,GACAS,EAAA2Q,wBACApR,EAAA8S,iBAGArS,EAAAwS,kBAAAY,MAAA7T,EAAAkF,SAMAzE,EAAA2Q,wBACA3Q,EAAA0Q,qBAIAjQ,KAAA4S,qBAAA,SAAA9T,GACAS,EAAA+P,cAAA,GACAxQ,EAAA8S,iBAEArS,EAAA2Q,wBACA3Q,EAAAiQ,oBAAAqD,gCAAA/T,EAAA2M,cAGAlM,EAAAwS,kBAAAe,SAGA9S,KAAA+S,cAAA,SAAAjU,GACA,IAAAwQ,EAAA/P,EAAA+P,cACA/P,EAAA+P,cAAA,GAEA/P,EAAA4Q,QAAAgC,MAAA7C,EAAA,CACA5F,aAAsBN,EAAoBtK,KAG1CS,EAAA4Q,QAAAjV,KAAA,CACAoX,WAAA/S,EAAAgT,yBAGAhT,EAAA2Q,uBACA3Q,EAAA0Q,oBAEA1Q,EAAAiR,oCAIAxQ,KAAAgT,kBAAA,SAAAlU,GACA,IAAAkF,EAAAlF,EAAAkF,OAGA,mBAAAA,EAAAiP,WAKA,UAAAjP,EAAAkP,SAAA,WAAAlP,EAAAkP,SAAA,aAAAlP,EAAAkP,SAAAlP,EAAAmP,oBAMArU,EAAA8S,iBACA5N,EAAAiP,cAGAjT,KAAAoT,QAAA,IAAuBvF,EAAaC,GACpC9N,KAAAmQ,QAAArB,EAAAuE,aACArT,KAAA5E,QAAA0T,EAAAwE,aACAtT,KAAAqQ,SAAAvB,EAAAyE,cACAvT,KAAA+R,kBAAA,IAAiCxN,EAAiBvE,KAAAyE,kBArWlD,IAAqBE,EAAAI,EAAAC,EAunBrB,OAvnBqBL,EAyWPkK,GAzWO9J,EAyWP,EACd9I,IAAA,QACAe,MAAA,WACA,QAAAwW,IAAAxT,KAAAqG,OAAA,CAIA,GAAArG,KAAAqG,OAAAoN,yBACA,UAAAC,MAAA,oDAGA1T,KAAAqG,OAAAoN,0BAAA,EACAzT,KAAA2T,kBAAA3T,KAAAqG,WAEG,CACHpK,IAAA,WACAe,MAAA,gBACAwW,IAAAxT,KAAAqG,SAIArG,KAAAqG,OAAAoN,0BAAA,EACAzT,KAAA4T,qBAAA5T,KAAAqG,QACArG,KAAAyQ,6BAEAzQ,KAAA6P,qBACA7P,KAAAqG,OAAAwN,qBAAA7T,KAAA6P,wBAGG,CACH5T,IAAA,qBACAe,MAAA,SAAAgT,EAAAjU,EAAAqX,GACA,IAAA7Q,EAAAvC,KAIA,OAFAA,KAAAkP,yBAAA7J,IAAA2K,EAAAoD,GACApT,KAAAgP,mBAAA3J,IAAA2K,EAAAjU,GACA,WACAwG,EAAAyM,mBAAA8E,OAAA9D,GAEAzN,EAAA2M,yBAAA4E,OAAA9D,MAGG,CACH/T,IAAA,oBACAe,MAAA,SAAAgT,EAAAjU,EAAAqX,GACA,IAAAW,EAAA/T,KAEAA,KAAAmP,YAAA9J,IAAA2K,EAAAjU,GACAiE,KAAAoP,kBAAA/J,IAAA2K,EAAAoD,GAEA,IAAAY,EAAA,SAAAlV,GACA,OAAAiV,EAAAC,gBAAAlV,EAAAkR,IAGAgD,EAAA,SAAAlU,GACA,OAAAiV,EAAAf,kBAAAlU,IAMA,OAHA/C,EAAAkY,aAAA,oBACAlY,EAAAmY,iBAAA,YAAAF,GACAjY,EAAAmY,iBAAA,cAAAlB,GACA,WACAe,EAAA5E,YAAA2E,OAAA9D,GAEA+D,EAAA3E,kBAAA0E,OAAA9D,GAEAjU,EAAAoY,oBAAA,YAAAH,GACAjY,EAAAoY,oBAAA,cAAAnB,GACAjX,EAAAkY,aAAA,wBAGG,CACHhY,IAAA,oBACAe,MAAA,SAAAoV,EAAArW,GACA,IAAAqY,EAAApU,KAEAqU,EAAA,SAAAvV,GACA,OAAAsV,EAAAC,gBAAAvV,EAAAsT,IAGAkC,EAAA,SAAAxV,GACA,OAAAsV,EAAAE,eAAAxV,EAAAsT,IAGAmC,EAAA,SAAAzV,GACA,OAAAsV,EAAAG,WAAAzV,EAAAsT,IAMA,OAHArW,EAAAmY,iBAAA,YAAAG,GACAtY,EAAAmY,iBAAA,WAAAI,GACAvY,EAAAmY,iBAAA,OAAAK,GACA,WACAxY,EAAAoY,oBAAA,YAAAE,GACAtY,EAAAoY,oBAAA,WAAAG,GACAvY,EAAAoY,oBAAA,OAAAI,MAGG,CACHtY,IAAA,oBACAe,MAAA,SAAAgH,GAEAA,EAAAkQ,mBAIAlQ,EAAAkQ,iBAAA,YAAAlU,KAAA2Q,oBACA3M,EAAAkQ,iBAAA,YAAAlU,KAAA0Q,2BAAA,GACA1M,EAAAkQ,iBAAA,UAAAlU,KAAA6R,yBAAA,GACA7N,EAAAkQ,iBAAA,YAAAlU,KAAAiS,oBACAjO,EAAAkQ,iBAAA,YAAAlU,KAAA8R,2BAAA,GACA9N,EAAAkQ,iBAAA,YAAAlU,KAAA0S,2BAAA,GACA1O,EAAAkQ,iBAAA,WAAAlU,KAAAyS,mBACAzO,EAAAkQ,iBAAA,WAAAlU,KAAAwS,0BAAA,GACAxO,EAAAkQ,iBAAA,OAAAlU,KAAA+S,eACA/O,EAAAkQ,iBAAA,OAAAlU,KAAA4S,sBAAA,MAEG,CACH3W,IAAA,uBACAe,MAAA,SAAAgH,GAEAA,EAAAmQ,sBAIAnQ,EAAAmQ,oBAAA,YAAAnU,KAAA2Q,oBACA3M,EAAAmQ,oBAAA,YAAAnU,KAAA0Q,2BAAA,GACA1M,EAAAmQ,oBAAA,UAAAnU,KAAA6R,yBAAA,GACA7N,EAAAmQ,oBAAA,YAAAnU,KAAAiS,oBACAjO,EAAAmQ,oBAAA,YAAAnU,KAAA8R,2BAAA,GACA9N,EAAAmQ,oBAAA,YAAAnU,KAAA0S,2BAAA,GACA1O,EAAAmQ,oBAAA,WAAAnU,KAAAyS,mBACAzO,EAAAmQ,oBAAA,WAAAnU,KAAAwS,0BAAA,GACAxO,EAAAmQ,oBAAA,OAAAnU,KAAA+S,eACA/O,EAAAmQ,oBAAA,OAAAnU,KAAA4S,sBAAA,MAEG,CACH3W,IAAA,8BACAe,MAAA,WACA,IAAAgT,EAAAhQ,KAAA5E,QAAAiS,cACA+B,EAAApP,KAAAoP,kBAAArC,IAAAiD,GACA,OAAAzB,EAAA,CACA+D,WAAAtS,KAAA2P,cAAA,eACOP,GAAA,MAEJ,CACHnT,IAAA,uBACAe,MAAA,WACA,OAAAgD,KAAAkQ,uBAEA,OAGAlQ,KAAAwU,8BAAAlC,aAEG,CACHrW,IAAA,qCACAe,MAAA,WACA,IAAAgT,EAAAhQ,KAAA5E,QAAAiS,cAEA,OAAAkB,EAAA,CACAhE,QAAA,GACAC,QAAA,GACA+G,sBAAA,GAJAvR,KAAAkP,yBAAAnC,IAAAiD,IAKO,MAEJ,CACH/T,IAAA,uBACAe,MAAA,WACA,IAAAyX,EAAAzU,KAAA5E,QAAAsZ,cACA,OAAArQ,OAAAwI,KAAyB8H,GAAWjH,KAAA,SAAAzR,GACpC,OAAe0Y,EAAW1Y,KAAAwY,MAGvB,CACHxY,IAAA,sBACAe,MAAA,SAAAC,GACA+C,KAAAyQ,6BACAzQ,KAAAwP,oBFliBO,SAAAvS,GACP,WAAayP,EAAiBT,EAAiBhP,IEiiBd2X,CAAsB3X,GACvD+C,KAAAyP,oBAAAzP,KAAAqQ,SAAAwE,UAAA5X,EAAA+C,KAAAwP,qBACAxP,KAAAmQ,QAAAU,UAAA,CAAA7Q,KAAAyP,wBAEG,CACHxT,IAAA,2BACAe,MAAA,SAAAjB,GACA,IAAA+Y,EAAA9U,KAEAA,KAAAyQ,6BACAzQ,KAAA0P,sBAAA3T,EAkBAiE,KAAA4P,sBAAA6B,WAAA,WACA,OAAAqD,EAAAzO,QAAAyO,EAAAzO,OAAA6N,iBAAA,YAAAY,EAAAtE,kCAAA,IAdA,OAiBG,CACHvU,IAAA,6BACAe,MAAA,WACA,QAAAgD,KAAA0P,wBACA1P,KAAA0P,sBAAA,KAEA1P,KAAAqG,SACArG,KAAAqG,OAAA0O,aAAA/U,KAAA4P,4BAAA4D,GACAxT,KAAAqG,OAAA8N,oBAAA,YAAAnU,KAAAwQ,kCAAA,IAGAxQ,KAAA4P,sBAAA,MACA,KAKG,CACH3T,IAAA,kBACAe,MAAA,SAAA8B,EAAAkR,GACAlR,EAAA8R,mBAIA5Q,KAAAqP,qBACArP,KAAAqP,mBAAA,IAGArP,KAAAqP,mBAAA2F,QAAAhF,MAEG,CACH/T,IAAA,kBACAe,MAAA,SAAA8B,EAAAsT,GACApS,KAAAuP,mBAAAyF,QAAA5C,KAEG,CACHnW,IAAA,iBACAe,MAAA,SAAA8B,EAAAsT,GACA,OAAApS,KAAA8P,oBACA9P,KAAA8P,kBAAA,IAGA9P,KAAA8P,kBAAAkF,QAAA5C,KAEG,CACHnW,IAAA,aACAe,MAAA,SAAA8B,EAAAsT,GACApS,KAAAsP,cAAA0F,QAAA5C,KAEG,CACHnW,IAAA,SACA8Q,IAAA,WACA,OAAA/M,KAAAoT,QAAA/M,SAEG,CACHpK,IAAA,WACA8Q,IAAA,WACA,OAAA/M,KAAAoT,QAAArJ,cAnnB8E4E,EAAiBhK,EAAAmB,UAAAf,GAAoCC,GAAkB2J,EAAiBhK,EAAAK,GAunBtK6J,EA5mBA,GChBA,IAIeoG,GAJO,SAAAnG,EAAAoG,GACtB,WAAatG,EAAYE,EAAAoG,iDCMnBC,uJACJC,UAAY,CACVC,wBAAmB7B,EACnBvS,oBAAeuS,EACf5S,iBAAY4S,yCAGd1Y,QAAA,WACqC,mBAAzBkF,KAAKsV,iBAAgCtV,KAAKsV,qBAGtD9T,SAAA,SAAS+T,GAAiB,QAAAC,EAAAC,EAAAhW,UAAA3B,OAAP4X,EAAO,IAAA/V,MAAA8V,EAAA,EAAAA,EAAA,KAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAPD,EAAOC,EAAA,GAAAlW,UAAAkW,GACxB3I,QAAQ4I,IAAInW,WAC0B,mBAA1BO,KAAKoV,UAAUG,KAAuBC,EAAAxV,KAAKoV,WAAUG,GAAfxV,MAAAyV,EAA0BE,MAG9E3U,cAAA,SAAc8U,GACZ7V,KAAKoV,UAAL/Q,OAAAyR,OAAA,GAAqB9V,KAAKoV,UAAaS,MAGzCvT,OAAA,WAIE,IAAMyT,EAAY/V,KAAKc,MAAMqB,KAAK6T,kBAAkBC,MAAMtU,OAAO,SAAAuU,GAAI,OAAIA,EAAKna,KAAKoa,YAAYC,QAC/F,OACE3a,EAAAC,EAAAC,cAAC0a,EAAA,EAAD,CAAaC,QAASzH,IACpBpT,EAAAC,EAAAC,cAAC4a,EAAA,EAAD,KACE9a,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACbH,EAAAC,EAAAC,cAAC6a,EAAA9a,EAAD,CAAQ+a,MAAO9J,IAAO+J,YACtBjb,EAAAC,EAAAC,cAACgb,EAAA,EAAD,MACAlb,EAAAC,EAAAC,cAACib,EAAD,CAAM7V,cAAef,KAAKe,cAAcC,KAAKhB,MAAOwB,SAAUxB,KAAKwB,SAASR,KAAKhB,QACjFvE,EAAAC,EAAAC,cAACkb,EAAA,EAAD,CAAa9V,cAAgBf,KAAKe,cAAcC,KAAKhB,MAAOwB,SAAUxB,KAAKwB,SAASR,KAAKhB,MAAOlF,QAASkF,KAAKlF,QAAQkG,KAAKhB,MAAO+V,UAAWA,WAhCrIzZ,IAAMqH,WA2CbmT,IAHE3B,aAGO,yCCvDtB,IAAMxI,EAAS,CACb+J,UAAW,mBACXK,eAAgB,cAChBC,aAAc,iBACdC,SAAU,uBACVC,QAAS,oBACTC,WAAY,GACZC,gBAAiB,GACjBC,QAAS,WACTC,YAAa,mBACbC,kBAAmB,gBACnBC,gBAAiB,YACjBC,sBAAuB,OACvBC,eAAgB,aAChBC,WAAY,aACZC,SAAU,OACVC,UAAW,4BACXC,YAAa,GACbC,aAAc,oBACdC,WAAY,+CACZC,gBACE,sPAEFC,UAAW,CACT,CACEC,MAAO,SACPC,IAAK,oDACLC,cAAe,gBAEjB,CACEF,MAAO,UACPC,IAAK,6BACLC,cAAe,iBAEjB,CACEF,MAAO,QACPC,IAAK,0BACLC,cAAe,mBAGnBC,UAAW,kCACXC,WAAY,UACZC,gBAAiB,WAMO,MAAtB7L,EAAOwK,WACTxK,EAAOwK,WAAa,GAGpBxK,EAAOwK,WAAP,IAAwBxK,EAAOwK,WAAWsB,QAAQ,WAAY,IAI9B,MAA9B9L,EAAOuK,QAAQwB,QAAQ,KACzB/L,EAAOuK,QAAUvK,EAAOuK,QAAQ9K,MAAM,GAAI,IAGxCO,EAAO0K,SAAiC,MAAtB1K,EAAO0K,QAAQ,KACnC1K,EAAO0K,QAAP,IAAqB1K,EAAO0K,SAE9BsB,EAAOC,QAAUjM,4IC1DIkM,oGACnBvW,OAAA,WAAS,IACCzE,EAAamC,KAAKc,MAAlBjD,SACR,OACEib,EAAApd,EAAAC,cAAA,WACEmd,EAAApd,EAAAC,cAACod,EAAArd,EAAD,KACEod,EAAApd,EAAAC,cAAA,QAAMoB,KAAK,cAAcic,QAASrM,IAAOyK,mBAE1CvZ,OAR+BvB,IAAMqH,yMCExCjH,EAAe,KAEfuc,EAAS,CACb,UACA,UACA,UACA,UACA,WAGI7a,EAAW,SAAC8a,GAEhB,IADA,IAAIC,EAAM,EACDvb,EAAI,EAAGA,EAAIsb,EAAIpb,OAAQF,IAC9Bub,GAAKD,EAAIE,WAAWxb,GAGtB,OAAOqb,EAAOE,EAAIF,EAAOnb,SAGrBub,EAAc,SAAA7e,GAAiE,IAA/DgJ,EAA+DhJ,EAA/DgJ,UAAU9B,EAAqDlH,EAArDkH,IAAS5G,GAA4CN,EAAjD8C,KAAiD9C,EAA5CM,SAAQwe,EAAoC9e,EAApC8e,QAAQ7X,EAA4BjH,EAA5BiH,YAAY6B,EAAgB9I,EAAhB8I,aAC7DiW,EAAQ,WACRD,GAASA,EAAQ5X,IAGjB8X,EAAUV,EAAApd,EAAAC,cAAA,OAAKC,UAAU,qBAAqByD,QAAS,kBAAIoC,EAAYC,KAC3EoX,EAAApd,EAAAC,cAAA,OAAKC,UAAU,gBAGXuC,EAAQC,EAASsD,GAEvB,IAAI8B,EACF,OACEsV,EAAApd,EAAAC,cAAA,OAAKC,UAAU,oBACbkd,EAAApd,EAAAC,cAAA,OAAKM,IAAKyF,EAAKrC,QAASka,EAAO3d,UAAU,WAAY0C,MAAK+F,OAAAyR,OAAA,CACxD3X,SAASmF,IAER5B,GAEFD,EAAY+X,EAAQ,IAnBwD,IAAA5c,EAwBtDC,YAAQ,CACnCC,KAAM,CAACC,KAAM2E,EAAKzE,KAAMP,GACxBQ,IAAK,SAACJ,EAAM1B,GACV,IAAM+B,EAAa/B,EAAQgC,gBAC3B,GAAIN,GAAQK,EAAY,CACVO,YAASP,EAAWpB,KAAK2F,GACrC5G,MAGJK,QAAS,SAAAC,GAAO,MAAK,CACnB4C,WAAY5C,EAAQ4C,iBAVhBA,EAxB2EpB,EAAA,GAwB3EoB,WAAaC,EAxB8DrB,EAAA,GAsC7EsB,EAAUF,EAAa,GAAM,EAEnC,OACE8a,EAAApd,EAAAC,cAAA,OAAKC,UAAU,oBACbkd,EAAApd,EAAAC,cAAA,OAAKE,IAAKoC,EAAMhC,IAAKyF,EAAKrC,QAASka,EAAO3d,UAAU,WAAY0C,MAAO,CACrEJ,UAASC,UAERuD,GAEFD,EAAY+X,EAAQ,KAKrBC,EAAc,SAAArd,GAAgE,IAA9DoH,EAA8DpH,EAA9DoH,UAA8DkW,EAAAtd,EAApDkB,YAAoD,IAAAoc,EAA/C,GAA+CA,EAC5E5Y,EAAQ,CAAC0C,YAAUlG,OAAKxC,QADoDsB,EAA5CtB,QACAwe,QAD4Cld,EAApCkd,QACA7X,YADoCrF,EAA5BqF,YACI6B,aADwBlH,EAAhBkH,cAElE,OAAQwV,EAAApd,EAAAC,cAAA,OAAKC,UAAU,YAClB0B,EAAKxB,IAAI,SAAA4F,GACR,OACAoX,EAAApd,EAAAC,cAAC0d,EAADhV,OAAAyR,OAAA,CAAc7Z,IAAKyF,EAAKA,IAAKA,GAASZ,oSClExC6Y,EACJ,SAAY3c,GACVgD,KAAK9D,GAAKoM,KAAKsR,SAASC,WAAWnB,OAAO,GAC1C1Y,KAAKnC,SAAW,GAChBmC,KAAKhD,MAAQA,EACbgD,KAAKvC,OAAS,KACduC,KAAKrC,OAAS,EACdqC,KAAKvB,OAAS,GAIZf,EAAW,SAAC3B,EAAKiB,GACrB,IAAI8c,EAAQ,IAAIH,EAAK3c,GAIrB,OAHA8c,EAAMrc,OAAS1B,EACf+d,EAAMrf,MAAuB,GAAH,EAAXsB,EAAKtB,OACpBsB,EAAK8B,SAASL,KAAKsc,GACZA,GAGHC,EAAW,SAAAhe,GACf,OAAiB,MAAbA,EAAK0B,OAAqB1B,EACvBie,SAASje,EAAK0B,SAGjBwc,EAA6B,SAA7BA,EAA8Ble,EAAMme,EAASC,GACjD,GAAKpe,EAAL,CAEAme,EAASne,EAAKoe,GAEd,IAAK,IAAIvc,EAAI,EAAGA,EAAI7B,EAAK8B,SAASC,OAAQF,IACxCqc,EAA2Ble,EAAK8B,SAASD,GAAIsc,EAASne,KAIpDqG,EAAyB,SAAzBA,EAA0BrG,EAAMG,GACpC,IAAKH,EAAM,OAAO,KACb,GAAIA,EAAKG,IAAMA,EAAI,OAAOH,EAI/B,IAFA,IAAIqe,EAAM,KAEDxc,EAAI,GAAIwc,GAAOxc,EAAI7B,EAAK8B,SAASC,OAAQF,IAChDwc,EAAMhY,EAAuBrG,EAAK8B,SAASD,GAAI1B,GAGjD,OAAOke,GASH/X,EAAe,SAACtG,EAAMse,GAE1BJ,EAA2Ble,EAAK,SAAAue,GAAC,OAAEA,EAAE9b,YAAc,IAEnD,IAAM+b,EAAoB,SAACxe,EAAMqE,GAC/B,KAAOrE,GAAQqE,IACbrE,EAAOA,EAAK0B,QACPe,aAAezC,EAAKyC,aAAe,GAAK,GAI3Cgc,EAAI,WAENC,EAAM,CAAC1e,EAAMye,GAAIE,EAAQ,EAAG/f,EAAQ,GAAoByF,EAAOrE,EACnE,EAAG,CACD,KAAO0e,EAAI,IAAMD,GAAG,CAClB,IAAIjd,EAAMkd,EAAI1c,OAAO,EAAG,GAAG,GACA,GAAvBR,EAAIM,SAASC,QAAa6c,EAC3Bpd,EAAIqd,YACLL,EAAkBhd,EAAK6C,GACzB,IAAK,IAAIxC,EAAI,EAAGA,EAAIL,EAAIM,SAASC,OAAQF,IACnCA,EAAE,IAAGL,EAAIM,SAASD,GAAGgd,YAAa,GACtCH,EAAIjd,KAAKD,EAAIM,SAASD,IAG1B6c,EAAIjd,KAAKid,EAAI1c,OAAO,EAAG,GAAG,IAC1B2c,UACOA,EAAQL,GAAYI,EAAI3c,OAAS,GAE1C,IAlCM+c,EAkCFC,EAAaJ,EAEjBA,EAAQ,EAGRD,EAAM,CAAC1e,EAAMye,GACb,EAAG,CAED,IADA7f,EAAM+f,GAAS,GACRD,EAAI,IAAMD,GAAG,CAClB,IAAIjd,EAAMkd,EAAI1c,OAAO,EAAG,GAAG,GAQ3B,IAPKR,EAAIkB,QAAiC,GAAvBlB,EAAIM,SAASC,SAAgB4c,EAAQI,EAAa,GACnEL,EAAIjd,MA7CJqd,YAAW,IAAIlB,EAAK,KACjBlb,OAAS,EACXoc,IA8CHlgB,EAAM+f,GAAOld,KAAKD,GAElBA,EAAI9C,MAAQigB,GACTnd,EAAIkB,OAEP,IAAK,IAAIb,EAAI,EAAGA,EAAIL,EAAIM,SAASC,OAAQF,IACvC6c,EAAIjd,KAAKD,EAAIM,SAASD,IAG1B6c,EAAIjd,KAAKid,EAAI1c,OAAO,EAAG,GAAG,IAC1B2c,UACOA,EAAQL,GAAYI,EAAI3c,OAAS,GAE1C,IAAK,IAAIF,EAAI,EAAGA,GAAKyc,EAAW1f,EAAMmD,OAAQF,IAC5CjD,EAAM6C,KAAK,IAGb,OAAO7C,GAGHuH,EAAW,SAAXA,EAAYnG,GAChB,IAAKA,IAASA,EAAKsC,WAAY,MAAO,GAEtC,IAAIwE,EAAQ9G,EAAKsC,WAAW0c,iBAAiB,GAAIX,EAAM,GAEvD,IAAKvX,IAAUA,EAAMC,EAAG,MAAO,GAE/B,IAAK,IAAIlF,EAAI,EAAGA,EAAI7B,EAAK8B,SAASC,OAAQF,IACxC,GAAI7B,EAAK8B,SAASD,GAAGS,WAArB,CACA,IAAInB,EAAOnB,EAAK8B,SAASD,GAAGS,WAAW0c,iBAAiB,GACxDX,EAAI5c,KAAK,CACPW,MAAMC,YAASrC,EAAKiB,OACpB6F,MAAM,CACJC,EAAED,EAAMsG,KAAKtG,EAAM8H,MAAM,EACzB3H,EAAEH,EAAMqG,IAAIrG,EAAMgI,OAAO,GAE3B3N,IAAI,CACF4F,EAAE5F,EAAIiM,KAAKjM,EAAIyN,MAAM,EACrB3H,EAAE9F,EAAIgM,IAAIhM,EAAI2N,OAAO,KAIzBuP,EAAIA,EAAIna,OAAOiC,EAASnG,EAAK8B,SAASD,KAGxC,OAAOwc,GAGHY,EAAW,WACf,IAAI5a,EAAO,IAAIuZ,EAAK,QAGpB,OAFAvZ,EAAKlE,GAAG,OACRkE,EAAK3F,MAAQ,EACN2F,2ECrKI6a,EAAW,CACtBxa,cAAc,oICGhB,IAGMya,EAAY,WAChB,IAAIC,EAAY,EAMhB,QAASA,GAGL9a,EAAU,WACd,GAAI6a,IAAJ,CAEA,IAAIhC,EAAM7S,OAAO+U,aAAaC,QAhBjB,8BAiBTjb,EAAO,KAkBX,OAhBI8Y,GAKF9Y,EAAOkb,KAAKC,MAAMrC,GAGlBe,YAA2B7Z,EAAK,SAACrE,EAAKoe,GAEpCpe,EAAK0B,OAAS0c,MAThB/Z,EAAO4a,cAEP/Y,EAAQ7B,IAaHA,IAGH6B,EAAU,SAAAlG,GACd,GAAImf,IAAJ,CAEA,IAAI9a,EAAOob,IAAYzB,YAAQhe,IAG/Bke,YAA2B7Z,EAAK,SAAArE,GAC9B,IAAK,IAAIE,KAAOF,EACF,KAARE,EAAI,WACCF,EAAKE,GAKhBF,EAAK8B,SAAW9B,EAAK8B,SAAS8D,OAAO,SAAA2Y,GAAC,OAAGA,EAAE7b,SAE3C1C,EAAK0B,OAAS,OAGhB,IAAIyb,EAAMoC,KAAKG,UAAUrb,GACzBiG,OAAO+U,aAAaM,QA1DP,6BA0DyBxC,KAIlCxY,EAAiB,SAAC3D,GACtB,IAAIme,IAAa,MAAO,GAExB,IAAIhC,EAAM7S,OAAO+U,aAAaC,QAhEjB,8BAuEb,OALInC,EAGSoC,KAAKC,MAAMrC,GAFX3X,KAIGxE,IAIZwE,EAAiB,SAAC0Z,GACtB,QADmD,IAA7BA,MAAWU,GAC7BT,IAAJ,CAEA,IAAIhC,EAAMoC,KAAKG,UAAUR,GAEzB,OADA5U,OAAO+U,aAAaM,QA/EP,6BA+EyBxC,GAC/B+B,yBCrFT,IAAAW,EAAAC,EAAAC,IAIC,WAwDD,kBASA,OA/DA,SAAAC,GACA,IAAAC,EAAA,GAGA,GAAAD,EAAA,GAAAE,MAAA,kBAAAF,EAAAje,OAAA,GACA,IAAAoe,EAAAH,EAAAI,QACAJ,EAAA,GAAAG,EAAAH,EAAA,GAIAA,EAAA,GAAAE,MAAA,gBACAF,EAAA,GAAAA,EAAA,GAAAtD,QAAA,2BAEAsD,EAAA,GAAAA,EAAA,GAAAtD,QAAA,0BAGA,QAAA7a,EAAA,EAAmBA,EAAAme,EAAAje,OAAqBF,IAAA,CACxC,IAAAwe,EAAAL,EAAAne,GAEA,oBAAAwe,EACA,UAAAxX,UAAA,kCAAAwX,GAGA,KAAAA,IAEAxe,EAAA,IAEAwe,IAAA3D,QAAA,cAIA2D,EAFAxe,EAAAme,EAAAje,OAAA,EAEAse,EAAA3D,QAAA,aAGA2D,EAAA3D,QAAA,cAGAuD,EAAAxe,KAAA4e,IAIA,IAAAlD,EAAA8C,EAAAK,KAAA,KAOAC,GAHApD,IAAAT,QAAA,yBAGAlM,MAAA,KAGA,OAFA2M,EAAAoD,EAAAH,SAAAG,EAAAxe,OAAA,UAAAwe,EAAAD,KAAA,KAcAE,CANA,iBAAA9c,UAAA,GACAA,UAAA,GAEA,GAAA2M,MAAAtM,KAAAL,cAjEmCkZ,EAAAC,QAAAD,EAAAC,QAAAkD,SACqCtI,KAAAqI,EAAA,mBAAjBD,EAAA,GAAiBA,EAAA9b,KAAA8Y,EAAA4D,EAAA5D,EAAAD,GAAAiD,KAAAjD,EAAAC,QAAAiD,0IC0EzDhF,IArEK,SAAArc,GAAwC,IAAtCub,EAAsCvb,EAAtCub,UAAUvU,EAA4BhH,EAA5BgH,SAAST,EAAmBvG,EAAnBuG,cACnC0b,EAAW,GACf1G,EAAUtQ,QAAQ,SAAAiX,GAChB,GAAKA,EAAS3gB,KAAK4gB,gBAAnB,CACA,IAAIC,EAAQF,EAAS3gB,KAAK4gB,gBAAgBV,MAAM,uBAAyB,GACzEQ,EAASjf,KAAK,CACZqf,KAAMH,EAAS3gB,KAAK+gB,OAAOC,KAC3Bzf,KAAMof,EAAS3gB,KAAKoa,YAAY7Y,MAAQ,GACxC0f,MAAON,EAAS3gB,KAAKoa,YAAY6G,MACjCvG,MAAOiG,EAAS3gB,KAAKoa,YAAYM,MACjCwG,KAAMP,EAAS3gB,KAAK+gB,OAAOG,KAC3BC,QAASR,EAAS3gB,KAAKmhB,QACvBC,WAAYT,EAAS3gB,KAAKohB,WAC1BC,SAAUV,EAAS3gB,KAAKoa,YAAYiH,UAAYR,EAAM9gB,IAAI,SAAAuhB,GAAC,OAAIA,EAAE5E,QAAQ,MAAO,IAAI6E,SAAQjB,KAAK,WAb3C,IAAAkB,EAkBpBC,mBAAS9c,YAAe,kBAAvDD,EAlBmD8c,EAAA,GAkBpCE,EAlBoCF,EAAA,GAoBpDG,EAAe,SAAChc,IAEJ,GADFic,IAAUld,EAAeiB,IAEnCjB,EAAcjD,KAAKkE,GAGrB2T,EAAmB,CAAC5U,kBAGpBe,EAAS,iBAAiB,CAACf,mBAGzB4U,EAAqB,SAAAjZ,GAAmB,IAAjBqE,EAAiBrE,EAAjBqE,cAC3Bc,YAAe,CAACd,kBAChBgd,EAAY,GAAAxd,OAAKQ,KAUnB,OANAmd,oBAAU,WACR7c,EAAc,CAACsU,wBACf,IAEFoH,EAAWA,EAAS9a,OAAO,SAAAkc,GAAI,OAAIC,IAAeD,EAAKvgB,KAAMmD,GAAe3C,QAAQ2C,EAAc3C,SAGhGigB,EAAAriB,EAAAC,cAAA,WAEI8gB,EAAS3gB,IAAI,SAAA+hB,GAAI,OACfE,EAAAriB,EAAAC,cAAA,OAAKC,UAAU,YAAYK,IAAK4hB,EAAKhB,MACnCkB,EAAAriB,EAAAC,cAAA,OAAKC,UAAU,aACbmiB,EAAAriB,EAAAC,cAAA,OAAKC,UAAU,cACbmiB,EAAAriB,EAAAC,cAACqiB,EAAA,KAAD,CAAMC,GAAIJ,EAAKhB,KAAM5gB,IAAK4hB,EAAKpH,OAC5BoH,EAAKpH,QAGVsH,EAAAriB,EAAAC,cAAA,OAAKC,UAAU,cACfmiB,EAAAriB,EAAAC,cAAA,OAAKC,UAAU,iBAAiBiiB,EAAKT,WAEvCW,EAAAriB,EAAAC,cAAA,OAAKC,UAAU,cACbmiB,EAAAriB,EAAAC,cAAA,OAAKC,UAAU,aACbmiB,EAAAriB,EAAAC,cAACuiB,EAAA,EAAD,CAAc1a,WAAW,EAAM1I,QAAS0G,EAASR,YAAU,eAAgB1D,KAAMugB,EAAKvgB,KAAMgc,QAASoE,8BClDrH/E,EAAAC,QAVA,SAAAvT,GACA,IAAA8Y,GAAA,EACAra,EAAAnE,MAAA0F,EAAA+Y,MAKA,OAHA/Y,EAAAI,QAAA,SAAAzI,GACA8G,IAAAqa,GAAAnhB,IAEA8G,+HCTM6S,4FACJrU,OAAA,WAAS,IAEHmU,EACA4H,EACAC,EACAC,EALGC,EACiCxe,KAAKc,MAArC2d,EADDD,EACCC,SAAUC,EADXF,EACWE,SAAUC,EADrBH,EACqBG,QAK5B,GAAIA,EAAS,CACX,IAAMC,EAAWH,EAAStI,YACvBM,EAAUmI,EAAVnI,MACH4H,EAAcO,EAASP,YACnBO,EAASP,YACTI,EAASvB,QACboB,EAAQM,EAAS5B,MACjBuB,EAAUM,IAAQlS,IAAOuK,QAASvK,IAAOwK,WAAYuH,QAErDjI,EAAQ9J,IAAO+J,UACf2H,EAAc1R,IAAOyK,gBACrBkH,EAAQ3R,IAAOsK,SAGjBqH,EAAQO,IAAQlS,IAAOuK,QAASvK,IAAOwK,WAAYmH,GACnD,IAAMQ,EAAUD,IAAQlS,IAAOuK,QAASvK,IAAOwK,YACzC4H,EAAkB,CACtB,CACEC,WAAY,oBACZC,QAAS,UACT7G,IAAK0G,EACL/hB,KAAM0Z,EACNyI,cAAevS,IAAOqK,aAAerK,IAAOqK,aAAe,KAmC/D,OAhCI2H,GACFI,EAAgBvhB,KACd,CACEwhB,WAAY,oBACZC,QAAS,iBACTE,gBAAiB,CACf,CACEF,QAAS,WACTG,SAAU,EACVtiB,KAAM,CACJuiB,MAAOd,EACPxhB,KAAM0Z,EACN6H,YAKR,CACEU,WAAY,oBACZC,QAAS,cACT7G,IAAK0G,EACL/hB,KAAM0Z,EACNyI,cAAevS,IAAOqK,aAAerK,IAAOqK,aAAe,GAC3DsI,SAAU7I,EACV6H,MAAO,CACLW,QAAS,cACT7G,IAAKkG,GAEPD,gBAKJvF,EAAApd,EAAAC,cAACod,EAAArd,EAAD,KAEEod,EAAApd,EAAAC,cAAA,QAAMoB,KAAK,cAAcic,QAASqF,IAClCvF,EAAApd,EAAAC,cAAA,QAAMoB,KAAK,QAAQic,QAASsF,IAG5BxF,EAAApd,EAAAC,cAAA,UAAQsB,KAAK,uBACVqe,KAAKG,UAAUsD,IAIlBjG,EAAApd,EAAAC,cAAA,QAAMmR,SAAS,SAASkM,QAAS2F,EAAUJ,EAAUO,IACpDH,EAAU7F,EAAApd,EAAAC,cAAA,QAAMmR,SAAS,UAAUkM,QAAQ,YAAe,KAC3DF,EAAApd,EAAAC,cAAA,QAAMmR,SAAS,WAAWkM,QAASvC,IACnCqC,EAAApd,EAAAC,cAAA,QAAMmR,SAAS,iBAAiBkM,QAASqF,IACzCvF,EAAApd,EAAAC,cAAA,QAAMmR,SAAS,WAAWkM,QAASsF,IACnCxF,EAAApd,EAAAC,cAAA,QACEmR,SAAS,YACTkM,QAASrM,IAAO2K,YAAc3K,IAAO2K,YAAc,KAIrDwB,EAAApd,EAAAC,cAAA,QAAMoB,KAAK,eAAeic,QAAQ,wBAClCF,EAAApd,EAAAC,cAAA,QACEoB,KAAK,kBACLic,QAASrM,IAAOmL,YAAcnL,IAAOmL,YAAc,KAErDgB,EAAApd,EAAAC,cAAA,QAAMoB,KAAK,gBAAgBic,QAASvC,IACpCqC,EAAApd,EAAAC,cAAA,QAAMoB,KAAK,sBAAsBic,QAASqF,IAC1CvF,EAAApd,EAAAC,cAAA,QAAMoB,KAAK,gBAAgBic,QAASsF,SA9F1B3a,aAoGHgT,2BCzGf,IAAA4I,EAAkB/C,EAAQ,KAC1BgD,EAAehD,EAAQ,KACvBiD,EAAejD,EAAQ,KACvBkD,EAAwBlD,EAAQ,KAkBhCmD,EAAAH,EAAA,SAAAI,GACA,OAAAH,EAAAF,EAAAK,EAAA,EAAAF,GAAA,MAGA/G,EAAAC,QAAA+G,uBCzBA,IAAAE,EAAgBrD,EAAQ,KACxBsD,EAAoBtD,EAAQ,KAoC5B7D,EAAAC,QAvBA,SAAA2G,EAAAQ,EAAArF,EAAAsF,EAAAC,EAAAnc,GACA,IAAAqa,GAAA,EACArgB,EAAAiiB,EAAAjiB,OAKA,IAHAkiB,MAAAF,GACAhc,MAAA,MAEAqa,EAAArgB,GAAA,CACA,IAAAd,EAAA+iB,EAAA5B,GACAzD,EAAA,GAAAsF,EAAAhjB,GACA0d,EAAA,EAEA6E,EAAAviB,EAAA0d,EAAA,EAAAsF,EAAAC,EAAAnc,GAEA+b,EAAA/b,EAAA9G,GAEKijB,IACLnc,IAAAhG,QAAAd,GAGA,OAAA8G,wBClCA,IAAAoc,EAAa1D,EAAQ,KACrB2D,EAAkB3D,EAAQ,KAC1B4D,EAAc5D,EAAQ,KAGtB6D,EAAAH,IAAAI,wBAAA9M,EAcAmF,EAAAC,QALA,SAAA5b,GACA,OAAAojB,EAAApjB,IAAAmjB,EAAAnjB,OACAqjB,GAAArjB,KAAAqjB,0BChBA,IAAAE,EAAe/D,EAAQ,KACvBgE,EAAoBhE,EAAQ,KAC5BiE,EAAwBjE,EAAQ,KAChCkE,EAAelE,EAAQ,KACvBmE,EAAgBnE,EAAQ,KACxBoE,EAAiBpE,EAAQ,KAGzBqE,EAAA,IA+DAlI,EAAAC,QApDA,SAAAmH,EAAAe,EAAAC,GACA,IAAA5C,GAAA,EACA6C,EAAAR,EACA1iB,EAAAiiB,EAAAjiB,OACAmjB,GAAA,EACAnd,EAAA,GACAod,EAAApd,EAEA,GAAAid,EACAE,GAAA,EACAD,EAAAP,OAEA,GAAA3iB,GAAA+iB,EAAA,CACA,IAAAxb,EAAAyb,EAAA,KAAAH,EAAAZ,GACA,GAAA1a,EACA,OAAAub,EAAAvb,GAEA4b,GAAA,EACAD,EAAAN,EACAQ,EAAA,IAAAX,OAGAW,EAAAJ,EAAA,GAAAhd,EAEAqd,EACA,OAAAhD,EAAArgB,GAAA,CACA,IAAAd,EAAA+iB,EAAA5B,GACAiD,EAAAN,IAAA9jB,KAGA,GADAA,EAAA+jB,GAAA,IAAA/jB,IAAA,EACAikB,GAAAG,KAAA,CAEA,IADA,IAAAC,EAAAH,EAAApjB,OACAujB,KACA,GAAAH,EAAAG,KAAAD,EACA,SAAAD,EAGAL,GACAI,EAAA1jB,KAAA4jB,GAEAtd,EAAAtG,KAAAR,QAEAgkB,EAAAE,EAAAE,EAAAL,KACAG,IAAApd,GACAod,EAAA1jB,KAAA4jB,GAEAtd,EAAAtG,KAAAR,IAGA,OAAA8G,wBCpEA,IAAAwB,EAAUkX,EAAQ,KAClB8E,EAAW9E,EAAQ,KACnBoE,EAAiBpE,EAAQ,KAYzBmE,EAAArb,GAAA,EAAAsb,EAAA,IAAAtb,EAAA,YATA,IASA,SAAAic,GACA,WAAAjc,EAAAic,IADAD,EAIA3I,EAAAC,QAAA+H,qBCFAhI,EAAAC,QAJA","file":"component---src-pages-index-jsx-21d7ecbf76401e49f6c1.js","sourcesContent":["import React, {useState, useCallback} from 'react'\r\nimport './tree.css'\r\nimport {getColor, PostListTags, TAGS_OUTSIDE} from \"../Tags/Tags\";\r\nimport {useDrag, useDrop} from 'react-dnd'\r\nimport {addChild,firsrOrderTraverseFind, getTreeArray, getLines, generate} from './treehelper'\r\nimport _ from 'lodash'\r\nimport {getTree,setTree,getBlogSetting,setBlogSetting} from \"../Data/localstorage\";\r\n\r\nconst MAX_DEPTH = 4\r\n\r\n\r\nconst TreeLevels = {\r\n  ONE: '1',\r\n  TWO: '2',\r\n  THREE: '3',\r\n  FOUR: '4',\r\n  FIVE: '5',\r\n}\r\n\r\nconst TreeLevelsArray = [TreeLevels.ONE, TreeLevels.TWO, TreeLevels.THREE, TreeLevels.FOUR]\r\n\r\n\r\nconst TreeLevel = ({level, accept, lastDroppedItem, onDrop, nodes, refresh,addTagsCb}) => {\r\n  const [{isOver, canDrop}, drop] = useDrop({\r\n    accept,\r\n    drop: () => ({\r\n      level\r\n    }),\r\n    collect: monitor => ({\r\n      isOver: monitor.isOver(),\r\n      canDrop: monitor.canDrop(),\r\n    }),\r\n  })\r\n\r\n  const isActive = canDrop && isOver\r\n\r\n  return (\r\n    <div className={`nodes-horizontal ${isActive?'blink':''}`}\r\n         ref={drop}>\r\n      {nodes.map(node => (\r\n        <TreeNode refresh={refresh} node={node} key={node.id} addTagsCb={addTagsCb}/>\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst TreeNode = ({node, refresh,addTagsCb}) => {\r\n  let inputRef = React.createRef()\r\n  const onKeyPressTemp = e => {\r\n    if (e.key == 'Enter') {\r\n      node.value = inputRef.value || '-'\r\n      node.isTemp = 0\r\n      refresh()\r\n    }\r\n  }\r\n\r\n  const onDoubleClickNode = e=>{\r\n    node.isTemp = 1\r\n    refresh()\r\n  }\r\n\r\n  const [{isOver, canDrop}, drop] = useDrop({\r\n    accept:node.level===MAX_DEPTH-1?[]:[TAGS_OUTSIDE],\r\n    drop: () => ({\r\n      node\r\n    }),\r\n    collect: monitor => ({\r\n      isOver: monitor.isOver(),\r\n      canDrop: monitor.canDrop(),\r\n    }),\r\n  })\r\n\r\n  const [{isDragging}, drag] = useDrag({\r\n    item: {name: node.value, type: TreeLevelsArray[node.level]},\r\n    end: (item, monitor) => {\r\n      const dropResult = monitor.getDropResult()\r\n\r\n      //dragged to title\r\n      if(item && dropResult && dropResult.isTreeTitle){\r\n        //get node and it's parents\r\n        let tags = [], cur = node\r\n        while(cur.id!='root'){\r\n          tags.push(cur.value)\r\n          cur = cur.parent\r\n        }\r\n\r\n        addTagsCb(tags)\r\n        return\r\n      }\r\n\r\n      //removed to another level\r\n      if (item && dropResult) {\r\n        if(dropResult.level>node.level){\r\n          let child = addChild(node,'')\r\n          child.isTemp = 1\r\n          refresh()\r\n        }else if (dropResult.level<node.level){\r\n          let i = 0\r\n          for (; i < node.parent.children.length; i++) {\r\n            if (node === node.parent.children[i]) break;\r\n          }\r\n\r\n          node.parent.children.splice(i,1)\r\n          refresh()\r\n        }\r\n      }\r\n    },\r\n    collect: monitor => ({\r\n      isDragging: monitor.isDragging(),\r\n    }),\r\n  })\r\n\r\n  const isActive = canDrop && isOver\r\n\r\n  const opacity = isDragging ? 0.4 : (isActive?.2:1)\r\n\r\n  const color = getColor(node.value)\r\n\r\n\r\n  return (\r\n    <div ref={ref=>node._domObject = ref} className='nodes-node' style={{flex: node._spaceCount || 1}}>\r\n      {node.isFake?'':\r\n        <div ref={drag} className='tag-item' style={{opacity, color}}>\r\n          <div ref={drop}>\r\n          {node.isTemp ?\r\n            <div className='tree-node-input'>\r\n              <input type=\"text\" defaultValue={node.value} ref={input => inputRef = input} autoFocus={true} onKeyPress={onKeyPressTemp}/>\r\n            </div>\r\n            :\r\n            <div onDoubleClick={onDoubleClickNode}>{node.value}</div>\r\n          }\r\n          </div>\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nconst TreeTitle = ({toggleTree})=>{\r\n  const [{isOver, canDrop}, drop] = useDrop({\r\n    accept:TreeLevelsArray,\r\n    drop: () => ({isTreeTitle:true}),\r\n    collect: monitor => ({\r\n      isOver: monitor.isOver(),\r\n      canDrop: monitor.canDrop(),\r\n    }),\r\n  })\r\n\r\n  return (<div className='tree-title' ref={drop} onClick={toggleTree}>Tree</div>)\r\n}\r\n\r\nclass Tree extends React.Component {\r\n  state = {\r\n    displayPanel: false,\r\n    nodes: []\r\n  }\r\n\r\n  constructor(...args) {\r\n    super(...args)\r\n    let root = getTree()\r\n\r\n    this.state = {\r\n      forceRefresh:false,\r\n      nodes:[],\r\n      lines: [],\r\n      root,\r\n      rootId: 'root',\r\n      filteringTags:getBlogSetting('filteringTags')\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.refreshTree({tree: this.state.root, id: 'root'})\r\n\r\n    //bind refresh back\r\n    this.props.refreshBinder({\r\n      refreshTree:this.refresh.bind(this),\r\n      refreshTagList:this.refreshTagList.bind(this)\r\n    })\r\n  }\r\n\r\n  refresh(){\r\n    this.refreshTree({tree: this.state.root, id: this.state.rootId})\r\n  }\r\n\r\n  refreshTagList({filteringTags}){\r\n    this.setState({\r\n      filteringTags\r\n    })\r\n  }\r\n\r\n  refreshTree({tree, id}) {\r\n    this.setState({\r\n      forceRefresh:!this.state.forceRefresh,\r\n      nodes: this.getTreeNodes({\r\n        tree, id\r\n      })\r\n    })\r\n  }\r\n  //add a specified tag and it's parent tags\r\n  addTagsCb(tags){\r\n    let filteringTags = _.union(this.state.filteringTags,tags)\r\n    this.refreshTagList({filteringTags})\r\n    setBlogSetting({filteringTags})\r\n    this.props.dispatch('refreshArticleList',{filteringTags})\r\n  }\r\n\r\n\r\n  removeTagCb(tag){\r\n    let filteringTags = this.state.filteringTags = this.state.filteringTags.filter(t=>t!==tag)\r\n    this.refreshTagList({filteringTags})\r\n    setBlogSetting({filteringTags})\r\n    this.props.dispatch('refreshArticleList',{filteringTags})\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (prevState.displayPanel != this.state.displayPanel || prevState.forceRefresh!=this.state.forceRefresh) {\r\n      setTree(this.state.root)\r\n\r\n      let lines = getLines(this.state.nodes[0][0])\r\n\r\n      this.setState({lines})\r\n    }\r\n  }\r\n\r\n  getTreeNodes(data) {\r\n    let node = firsrOrderTraverseFind(data.tree, data.id)\r\n    if (!node) return\r\n    let nodes = getTreeArray(node, MAX_DEPTH)\r\n    return nodes\r\n  }\r\n\r\n\r\n  toggleTree() {\r\n    this.setState({\r\n      displayPanel: !this.state.displayPanel\r\n    })\r\n  }\r\n\r\n  render() {\r\n    let nodes2d = this.state.nodes || []\r\n    return (\r\n      <div className=''>\r\n        <svg className='tree-svg' style={{\r\n          display: this.state.displayPanel ? 'inherit' : 'none'\r\n        }}>\r\n          {this.state.lines.map((line,i) => (\r\n            <line key={i} strokeWidth='10' x1={line.start.x} y1={line.start.y} x2={line.end.x} y2={line.end.y} stroke={line.color}/>\r\n          ))}\r\n        </svg>\r\n        <div className='tree-wrapper'>\r\n          <div className='tree'>\r\n            <TreeTitle toggleTree={this.toggleTree.bind(this)}/>\r\n            <div className='tree-filtering-tags'>\r\n              <PostListTags tagItemClass={{margin:'5px 5px'}} draggable={false} tags={this.state.filteringTags} removeTagCb={this.removeTagCb.bind(this)}/>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className='tree-panel' style={{\r\n          display: this.state.displayPanel ? 'flex' : 'none'\r\n        }}>\r\n          <div className='tree-body'>\r\n            <div className='tree-content'>\r\n              {nodes2d.map((nodes1d, i) => (\r\n                <TreeLevel level={i} refresh={this.refresh.bind(this)} addTagsCb = {this.addTagsCb.bind(this)}\r\n                           key={i} nodes={nodes1d} accept={\r\n                  [].concat(i > 0 ? TreeLevelsArray[i - 1] : [])\r\n                  .concat(i <TreeLevelsArray.length-1 ? TreeLevelsArray[i + 1] : [])}/>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Tree\r\n\r\n\r\n\r\n\r\n\r\n","// cheap lodash replacements\nexport function memoize(fn) {\n  var result = null;\n\n  var memoized = function memoized() {\n    if (result == null) {\n      result = fn();\n    }\n\n    return result;\n  };\n\n  return memoized;\n}\n/**\n * drop-in replacement for _.without\n */\n\nexport function without(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\nexport function union(itemsA, itemsB) {\n  var set = new Set();\n\n  var insertItem = function insertItem(item) {\n    return set.add(item);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  set.forEach(function (key) {\n    return result.push(key);\n  });\n  return result;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { union, without } from './utils/js_utils';\n\nvar EnterLeaveCounter =\n/*#__PURE__*/\nfunction () {\n  function EnterLeaveCounter(isNodeInDocument) {\n    _classCallCheck(this, EnterLeaveCounter);\n\n    this.entered = [];\n    this.isNodeInDocument = isNodeInDocument;\n  }\n\n  _createClass(EnterLeaveCounter, [{\n    key: \"enter\",\n    value: function enter(enteringNode) {\n      var _this = this;\n\n      var previousLength = this.entered.length;\n\n      var isNodeEntered = function isNodeEntered(node) {\n        return _this.isNodeInDocument(node) && (!node.contains || node.contains(enteringNode));\n      };\n\n      this.entered = union(this.entered.filter(isNodeEntered), [enteringNode]);\n      return previousLength === 0 && this.entered.length > 0;\n    }\n  }, {\n    key: \"leave\",\n    value: function leave(leavingNode) {\n      var previousLength = this.entered.length;\n      this.entered = without(this.entered.filter(this.isNodeInDocument), leavingNode);\n      return previousLength > 0 && this.entered.length === 0;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.entered = [];\n    }\n  }]);\n\n  return EnterLeaveCounter;\n}();\n\nexport { EnterLeaveCounter as default };","import { memoize } from './utils/js_utils';\nexport var isFirefox = memoize(function () {\n  return /firefox/i.test(navigator.userAgent);\n});\nexport var isSafari = memoize(function () {\n  return Boolean(window.safari);\n});","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar MonotonicInterpolant =\n/*#__PURE__*/\nfunction () {\n  function MonotonicInterpolant(xs, ys) {\n    _classCallCheck(this, MonotonicInterpolant);\n\n    var length = xs.length; // Rearrange xs and ys so that xs is sorted\n\n    var indexes = [];\n\n    for (var i = 0; i < length; i++) {\n      indexes.push(i);\n    }\n\n    indexes.sort(function (a, b) {\n      return xs[a] < xs[b] ? -1 : 1;\n    }); // Get consecutive differences and slopes\n\n    var dys = [];\n    var dxs = [];\n    var ms = [];\n    var dx;\n    var dy;\n\n    for (var _i = 0; _i < length - 1; _i++) {\n      dx = xs[_i + 1] - xs[_i];\n      dy = ys[_i + 1] - ys[_i];\n      dxs.push(dx);\n      dys.push(dy);\n      ms.push(dy / dx);\n    } // Get degree-1 coefficients\n\n\n    var c1s = [ms[0]];\n\n    for (var _i2 = 0; _i2 < dxs.length - 1; _i2++) {\n      var m2 = ms[_i2];\n      var mNext = ms[_i2 + 1];\n\n      if (m2 * mNext <= 0) {\n        c1s.push(0);\n      } else {\n        dx = dxs[_i2];\n        var dxNext = dxs[_i2 + 1];\n        var common = dx + dxNext;\n        c1s.push(3 * common / ((common + dxNext) / m2 + (common + dx) / mNext));\n      }\n    }\n\n    c1s.push(ms[ms.length - 1]); // Get degree-2 and degree-3 coefficients\n\n    var c2s = [];\n    var c3s = [];\n    var m;\n\n    for (var _i3 = 0; _i3 < c1s.length - 1; _i3++) {\n      m = ms[_i3];\n      var c1 = c1s[_i3];\n      var invDx = 1 / dxs[_i3];\n\n      var _common = c1 + c1s[_i3 + 1] - m - m;\n\n      c2s.push((m - c1 - _common) * invDx);\n      c3s.push(_common * invDx * invDx);\n    }\n\n    this.xs = xs;\n    this.ys = ys;\n    this.c1s = c1s;\n    this.c2s = c2s;\n    this.c3s = c3s;\n  }\n\n  _createClass(MonotonicInterpolant, [{\n    key: \"interpolate\",\n    value: function interpolate(x) {\n      var xs = this.xs,\n          ys = this.ys,\n          c1s = this.c1s,\n          c2s = this.c2s,\n          c3s = this.c3s; // The rightmost point in the dataset should give an exact result\n\n      var i = xs.length - 1;\n\n      if (x === xs[i]) {\n        return ys[i];\n      } // Search for the interval x is in, returning the corresponding y if x is one of the original xs\n\n\n      var low = 0;\n      var high = c3s.length - 1;\n      var mid;\n\n      while (low <= high) {\n        mid = Math.floor(0.5 * (low + high));\n        var xHere = xs[mid];\n\n        if (xHere < x) {\n          low = mid + 1;\n        } else if (xHere > x) {\n          high = mid - 1;\n        } else {\n          return ys[mid];\n        }\n      }\n\n      i = Math.max(0, high); // Interpolate\n\n      var diff = x - xs[i];\n      var diffSq = diff * diff;\n      return ys[i] + c1s[i] * diff + c2s[i] * diffSq + c3s[i] * diff * diffSq;\n    }\n  }]);\n\n  return MonotonicInterpolant;\n}();\n\nexport { MonotonicInterpolant as default };","import { isSafari, isFirefox } from './BrowserDetector';\nimport MonotonicInterpolant from './MonotonicInterpolant';\nvar ELEMENT_NODE = 1;\nexport function getNodeClientOffset(node) {\n  var el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;\n\n  if (!el) {\n    return null;\n  }\n\n  var _el$getBoundingClient = el.getBoundingClientRect(),\n      top = _el$getBoundingClient.top,\n      left = _el$getBoundingClient.left;\n\n  return {\n    x: left,\n    y: top\n  };\n}\nexport function getEventClientOffset(e) {\n  return {\n    x: e.clientX,\n    y: e.clientY\n  };\n}\n\nfunction isImageNode(node) {\n  return node.nodeName === 'IMG' && (isFirefox() || !document.documentElement.contains(node));\n}\n\nfunction getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight) {\n  var dragPreviewWidth = isImage ? dragPreview.width : sourceWidth;\n  var dragPreviewHeight = isImage ? dragPreview.height : sourceHeight; // Work around @2x coordinate discrepancies in browsers\n\n  if (isSafari() && isImage) {\n    dragPreviewHeight /= window.devicePixelRatio;\n    dragPreviewWidth /= window.devicePixelRatio;\n  }\n\n  return {\n    dragPreviewWidth: dragPreviewWidth,\n    dragPreviewHeight: dragPreviewHeight\n  };\n}\n\nexport function getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint) {\n  // The browsers will use the image intrinsic size under different conditions.\n  // Firefox only cares if it's an image, but WebKit also wants it to be detached.\n  var isImage = isImageNode(dragPreview);\n  var dragPreviewNode = isImage ? sourceNode : dragPreview;\n  var dragPreviewNodeOffsetFromClient = getNodeClientOffset(dragPreviewNode);\n  var offsetFromDragPreview = {\n    x: clientOffset.x - dragPreviewNodeOffsetFromClient.x,\n    y: clientOffset.y - dragPreviewNodeOffsetFromClient.y\n  };\n  var sourceWidth = sourceNode.offsetWidth,\n      sourceHeight = sourceNode.offsetHeight;\n  var anchorX = anchorPoint.anchorX,\n      anchorY = anchorPoint.anchorY;\n\n  var _getDragPreviewSize = getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight),\n      dragPreviewWidth = _getDragPreviewSize.dragPreviewWidth,\n      dragPreviewHeight = _getDragPreviewSize.dragPreviewHeight;\n\n  var calculateYOffset = function calculateYOffset() {\n    var interpolantY = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the top\n    offsetFromDragPreview.y, // Align at the center\n    offsetFromDragPreview.y / sourceHeight * dragPreviewHeight, // Dock to the bottom\n    offsetFromDragPreview.y + dragPreviewHeight - sourceHeight]);\n    var y = interpolantY.interpolate(anchorY); // Work around Safari 8 positioning bug\n\n    if (isSafari() && isImage) {\n      // We'll have to wait for @3x to see if this is entirely correct\n      y += (window.devicePixelRatio - 1) * dragPreviewHeight;\n    }\n\n    return y;\n  };\n\n  var calculateXOffset = function calculateXOffset() {\n    // Interpolate coordinates depending on anchor point\n    // If you know a simpler way to do this, let me know\n    var interpolantX = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the left\n    offsetFromDragPreview.x, // Align at the center\n    offsetFromDragPreview.x / sourceWidth * dragPreviewWidth, // Dock to the right\n    offsetFromDragPreview.x + dragPreviewWidth - sourceWidth]);\n    return interpolantX.interpolate(anchorX);\n  }; // Force offsets if specified in the options.\n\n\n  var offsetX = offsetPoint.offsetX,\n      offsetY = offsetPoint.offsetY;\n  var isManualOffsetX = offsetX === 0 || offsetX;\n  var isManualOffsetY = offsetY === 0 || offsetY;\n  return {\n    x: isManualOffsetX ? offsetX : calculateXOffset(),\n    y: isManualOffsetY ? offsetY : calculateYOffset()\n  };\n}","export var FILE = '__NATIVE_FILE__';\nexport var URL = '__NATIVE_URL__';\nexport var TEXT = '__NATIVE_TEXT__';","var _nativeTypesConfig;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport * as NativeTypes from '../NativeTypes';\nimport { getDataFromDataTransfer } from './getDataFromDataTransfer';\nexport var nativeTypesConfig = (_nativeTypesConfig = {}, _defineProperty(_nativeTypesConfig, NativeTypes.FILE, {\n  exposeProperties: {\n    files: function files(dataTransfer) {\n      return Array.prototype.slice.call(dataTransfer.files);\n    },\n    items: function items(dataTransfer) {\n      return dataTransfer.items;\n    }\n  },\n  matchesTypes: ['Files']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.URL, {\n  exposeProperties: {\n    urls: function urls(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '').split('\\n');\n    }\n  },\n  matchesTypes: ['Url', 'text/uri-list']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.TEXT, {\n  exposeProperties: {\n    text: function text(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '');\n    }\n  },\n  matchesTypes: ['Text', 'text/plain']\n}), _nativeTypesConfig);","export function getDataFromDataTransfer(dataTransfer, typesToTry, defaultValue) {\n  var result = typesToTry.reduce(function (resultSoFar, typeToTry) {\n    return resultSoFar || dataTransfer.getData(typeToTry);\n  }, '');\n  return result != null ? result : defaultValue;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nexport var NativeDragSource =\n/*#__PURE__*/\nfunction () {\n  function NativeDragSource(config) {\n    var _this = this;\n\n    _classCallCheck(this, NativeDragSource);\n\n    this.config = config;\n    this.item = {};\n    Object.keys(this.config.exposeProperties).forEach(function (property) {\n      Object.defineProperty(_this.item, property, {\n        configurable: true,\n        enumerable: true,\n        get: function get() {\n          // eslint-disable-next-line no-console\n          console.warn(\"Browser doesn't allow reading \\\"\".concat(property, \"\\\" until the drop event.\"));\n          return null;\n        }\n      });\n    });\n  }\n\n  _createClass(NativeDragSource, [{\n    key: \"mutateItemByReadingDataTransfer\",\n    value: function mutateItemByReadingDataTransfer(dataTransfer) {\n      var _this2 = this;\n\n      var newProperties = {};\n\n      if (dataTransfer) {\n        Object.keys(this.config.exposeProperties).forEach(function (property) {\n          newProperties[property] = {\n            value: _this2.config.exposeProperties[property](dataTransfer, _this2.config.matchesTypes)\n          };\n        });\n      }\n\n      Object.defineProperties(this.item, newProperties);\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      return true;\n    }\n  }, {\n    key: \"beginDrag\",\n    value: function beginDrag() {\n      return this.item;\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(monitor, handle) {\n      return handle === monitor.getSourceId();\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {// empty\n    }\n  }]);\n\n  return NativeDragSource;\n}();","import { nativeTypesConfig } from './nativeTypesConfig';\nimport { NativeDragSource } from './NativeDragSource';\nexport function createNativeDragSource(type) {\n  return new NativeDragSource(nativeTypesConfig[type]);\n}\nexport function matchNativeItemType(dataTransfer) {\n  if (!dataTransfer) {\n    return null;\n  }\n\n  var dataTransferTypes = Array.prototype.slice.call(dataTransfer.types || []);\n  return Object.keys(nativeTypesConfig).filter(function (nativeItemType) {\n    var matchesTypes = nativeTypesConfig[nativeItemType].matchesTypes;\n    return matchesTypes.some(function (t) {\n      return dataTransferTypes.indexOf(t) > -1;\n    });\n  })[0] || null;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nexport var OptionsReader =\n/*#__PURE__*/\nfunction () {\n  function OptionsReader(globalContext) {\n    _classCallCheck(this, OptionsReader);\n\n    this.globalContext = globalContext;\n  }\n\n  _createClass(OptionsReader, [{\n    key: \"window\",\n    get: function get() {\n      if (this.globalContext) {\n        return this.globalContext;\n      } else if (typeof window !== 'undefined') {\n        return window;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      if (this.window) {\n        return this.window.document;\n      }\n\n      return undefined;\n    }\n  }]);\n\n  return OptionsReader;\n}();","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport EnterLeaveCounter from './EnterLeaveCounter';\nimport { isFirefox } from './BrowserDetector';\nimport { getNodeClientOffset, getEventClientOffset, getDragPreviewOffset } from './OffsetUtils';\nimport { createNativeDragSource, matchNativeItemType } from './NativeDragSources';\nimport * as NativeTypes from './NativeTypes';\nimport { OptionsReader } from './OptionsReader';\n\nvar HTML5Backend =\n/*#__PURE__*/\nfunction () {\n  function HTML5Backend(manager, globalContext) {\n    var _this = this;\n\n    _classCallCheck(this, HTML5Backend);\n\n    this.sourcePreviewNodes = new Map();\n    this.sourcePreviewNodeOptions = new Map();\n    this.sourceNodes = new Map();\n    this.sourceNodeOptions = new Map();\n    this.dragStartSourceIds = null;\n    this.dropTargetIds = [];\n    this.dragEnterTargetIds = [];\n    this.currentNativeSource = null;\n    this.currentNativeHandle = null;\n    this.currentDragSourceNode = null;\n    this.altKeyPressed = false;\n    this.mouseMoveTimeoutTimer = null;\n    this.asyncEndDragFrameId = null;\n    this.dragOverTargetIds = null;\n\n    this.getSourceClientOffset = function (sourceId) {\n      return getNodeClientOffset(_this.sourceNodes.get(sourceId));\n    };\n\n    this.endDragNativeItem = function () {\n      if (!_this.isDraggingNativeItem()) {\n        return;\n      }\n\n      _this.actions.endDrag();\n\n      _this.registry.removeSource(_this.currentNativeHandle);\n\n      _this.currentNativeHandle = null;\n      _this.currentNativeSource = null;\n    };\n\n    this.isNodeInDocument = function (node) {\n      // Check the node either in the main document or in the current context\n      return _this.document && _this.document.body && document.body.contains(node);\n    };\n\n    this.endDragIfSourceWasRemovedFromDOM = function () {\n      var node = _this.currentDragSourceNode;\n\n      if (_this.isNodeInDocument(node)) {\n        return;\n      }\n\n      if (_this.clearCurrentDragSourceNode()) {\n        _this.actions.endDrag();\n      }\n    };\n\n    this.handleTopDragStartCapture = function () {\n      _this.clearCurrentDragSourceNode();\n\n      _this.dragStartSourceIds = [];\n    };\n\n    this.handleTopDragStart = function (e) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      var dragStartSourceIds = _this.dragStartSourceIds;\n      _this.dragStartSourceIds = null;\n      var clientOffset = getEventClientOffset(e); // Avoid crashing if we missed a drop event or our previous drag died\n\n      if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      } // Don't publish the source just yet (see why below)\n\n\n      _this.actions.beginDrag(dragStartSourceIds || [], {\n        publishSource: false,\n        getSourceClientOffset: _this.getSourceClientOffset,\n        clientOffset: clientOffset\n      });\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (_this.monitor.isDragging()) {\n        if (dataTransfer && typeof dataTransfer.setDragImage === 'function') {\n          // Use custom drag image if user specifies it.\n          // If child drag source refuses drag but parent agrees,\n          // use parent's node as drag image. Neither works in IE though.\n          var sourceId = _this.monitor.getSourceId();\n\n          var sourceNode = _this.sourceNodes.get(sourceId);\n\n          var dragPreview = _this.sourcePreviewNodes.get(sourceId) || sourceNode;\n\n          if (dragPreview) {\n            var _this$getCurrentSourc = _this.getCurrentSourcePreviewNodeOptions(),\n                anchorX = _this$getCurrentSourc.anchorX,\n                anchorY = _this$getCurrentSourc.anchorY,\n                offsetX = _this$getCurrentSourc.offsetX,\n                offsetY = _this$getCurrentSourc.offsetY;\n\n            var anchorPoint = {\n              anchorX: anchorX,\n              anchorY: anchorY\n            };\n            var offsetPoint = {\n              offsetX: offsetX,\n              offsetY: offsetY\n            };\n            var dragPreviewOffset = getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint);\n            dataTransfer.setDragImage(dragPreview, dragPreviewOffset.x, dragPreviewOffset.y);\n          }\n        }\n\n        try {\n          // Firefox won't drag without setting data\n          dataTransfer.setData('application/json', {});\n        } catch (err) {} // IE doesn't support MIME types in setData\n        // Store drag source node so we can check whether\n        // it is removed from DOM and trigger endDrag manually.\n\n\n        _this.setCurrentDragSourceNode(e.target); // Now we are ready to publish the drag source.. or are we not?\n\n\n        var _this$getCurrentSourc2 = _this.getCurrentSourcePreviewNodeOptions(),\n            captureDraggingState = _this$getCurrentSourc2.captureDraggingState;\n\n        if (!captureDraggingState) {\n          // Usually we want to publish it in the next tick so that browser\n          // is able to screenshot the current (not yet dragging) state.\n          //\n          // It also neatly avoids a situation where render() returns null\n          // in the same tick for the source element, and browser freaks out.\n          setTimeout(function () {\n            return _this.actions.publishDragSource();\n          }, 0);\n        } else {\n          // In some cases the user may want to override this behavior, e.g.\n          // to work around IE not supporting custom drag previews.\n          //\n          // When using a custom drag layer, the only way to prevent\n          // the default drag preview from drawing in IE is to screenshot\n          // the dragging state in which the node itself has zero opacity\n          // and height. In this case, though, returning null from render()\n          // will abruptly end the dragging, which is not obvious.\n          //\n          // This is the reason such behavior is strictly opt-in.\n          _this.actions.publishDragSource();\n        }\n      } else if (nativeType) {\n        // A native item (such as URL) dragged from inside the document\n        _this.beginDragNativeItem(nativeType);\n      } else if (dataTransfer && !dataTransfer.types && (e.target && !e.target.hasAttribute || !e.target.hasAttribute('draggable'))) {\n        // Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n        // Just let it drag. It's a native type (URL or text) and will be picked up in\n        // dragenter handler.\n        return;\n      } else {\n        // If by this time no drag source reacted, tell browser not to drag.\n        e.preventDefault();\n      }\n    };\n\n    this.handleTopDragEndCapture = function () {\n      if (_this.clearCurrentDragSourceNode()) {\n        // Firefox can dispatch this event in an infinite loop\n        // if dragend handler does something like showing an alert.\n        // Only proceed if we have not handled it already.\n        _this.actions.endDrag();\n      }\n    };\n\n    this.handleTopDragEnterCapture = function (e) {\n      _this.dragEnterTargetIds = [];\n\n      var isFirstEnter = _this.enterLeaveCounter.enter(e.target);\n\n      if (!isFirstEnter || _this.monitor.isDragging()) {\n        return;\n      }\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (nativeType) {\n        // A native item (such as file or URL) dragged from outside the document\n        _this.beginDragNativeItem(nativeType);\n      }\n    };\n\n    this.handleTopDragEnter = function (e) {\n      var dragEnterTargetIds = _this.dragEnterTargetIds;\n      _this.dragEnterTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n\n      if (!isFirefox()) {\n        // Don't emit hover in `dragenter` on Firefox due to an edge case.\n        // If the target changes position as the result of `dragenter`, Firefox\n        // will still happily dispatch `dragover` despite target being no longer\n        // there. The easy solution is to only fire `hover` in `dragover` on FF.\n        _this.actions.hover(dragEnterTargetIds, {\n          clientOffset: getEventClientOffset(e)\n        });\n      }\n\n      var canDrop = dragEnterTargetIds.some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // IE requires this to fire dragover events\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      }\n    };\n\n    this.handleTopDragOverCapture = function () {\n      _this.dragOverTargetIds = [];\n    };\n\n    this.handleTopDragOver = function (e) {\n      var dragOverTargetIds = _this.dragOverTargetIds;\n      _this.dragOverTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        // Prevent default \"drop and blow away the whole document\" action.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n\n      _this.actions.hover(dragOverTargetIds || [], {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      var canDrop = (dragOverTargetIds || []).some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // Show user-specified drop effect.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      } else if (_this.isDraggingNativeItem()) {\n        // Don't show a nice cursor but still prevent default\n        // \"drop and blow away the whole document\" action.\n        e.preventDefault();\n      } else {\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n      }\n    };\n\n    this.handleTopDragLeaveCapture = function (e) {\n      if (_this.isDraggingNativeItem()) {\n        e.preventDefault();\n      }\n\n      var isLastLeave = _this.enterLeaveCounter.leave(e.target);\n\n      if (!isLastLeave) {\n        return;\n      }\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      }\n    };\n\n    this.handleTopDropCapture = function (e) {\n      _this.dropTargetIds = [];\n      e.preventDefault();\n\n      if (_this.isDraggingNativeItem()) {\n        _this.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer);\n      }\n\n      _this.enterLeaveCounter.reset();\n    };\n\n    this.handleTopDrop = function (e) {\n      var dropTargetIds = _this.dropTargetIds;\n      _this.dropTargetIds = [];\n\n      _this.actions.hover(dropTargetIds, {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      _this.actions.drop({\n        dropEffect: _this.getCurrentDropEffect()\n      });\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      } else {\n        _this.endDragIfSourceWasRemovedFromDOM();\n      }\n    };\n\n    this.handleSelectStart = function (e) {\n      var target = e.target; // Only IE requires us to explicitly say\n      // we want drag drop operation to start\n\n      if (typeof target.dragDrop !== 'function') {\n        return;\n      } // Inputs and textareas should be selectable\n\n\n      if (target.tagName === 'INPUT' || target.tagName === 'SELECT' || target.tagName === 'TEXTAREA' || target.isContentEditable) {\n        return;\n      } // For other targets, ask IE\n      // to enable drag and drop\n\n\n      e.preventDefault();\n      target.dragDrop();\n    };\n\n    this.options = new OptionsReader(globalContext);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.registry = manager.getRegistry();\n    this.enterLeaveCounter = new EnterLeaveCounter(this.isNodeInDocument);\n  } // public for test\n\n\n  _createClass(HTML5Backend, [{\n    key: \"setup\",\n    value: function setup() {\n      if (this.window === undefined) {\n        return;\n      }\n\n      if (this.window.__isReactDndBackendSetUp) {\n        throw new Error('Cannot have two HTML5 backends at the same time.');\n      }\n\n      this.window.__isReactDndBackendSetUp = true;\n      this.addEventListeners(this.window);\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      if (this.window === undefined) {\n        return;\n      }\n\n      this.window.__isReactDndBackendSetUp = false;\n      this.removeEventListeners(this.window);\n      this.clearCurrentDragSourceNode();\n\n      if (this.asyncEndDragFrameId) {\n        this.window.cancelAnimationFrame(this.asyncEndDragFrameId);\n      }\n    }\n  }, {\n    key: \"connectDragPreview\",\n    value: function connectDragPreview(sourceId, node, options) {\n      var _this2 = this;\n\n      this.sourcePreviewNodeOptions.set(sourceId, options);\n      this.sourcePreviewNodes.set(sourceId, node);\n      return function () {\n        _this2.sourcePreviewNodes.delete(sourceId);\n\n        _this2.sourcePreviewNodeOptions.delete(sourceId);\n      };\n    }\n  }, {\n    key: \"connectDragSource\",\n    value: function connectDragSource(sourceId, node, options) {\n      var _this3 = this;\n\n      this.sourceNodes.set(sourceId, node);\n      this.sourceNodeOptions.set(sourceId, options);\n\n      var handleDragStart = function handleDragStart(e) {\n        return _this3.handleDragStart(e, sourceId);\n      };\n\n      var handleSelectStart = function handleSelectStart(e) {\n        return _this3.handleSelectStart(e);\n      };\n\n      node.setAttribute('draggable', 'true');\n      node.addEventListener('dragstart', handleDragStart);\n      node.addEventListener('selectstart', handleSelectStart);\n      return function () {\n        _this3.sourceNodes.delete(sourceId);\n\n        _this3.sourceNodeOptions.delete(sourceId);\n\n        node.removeEventListener('dragstart', handleDragStart);\n        node.removeEventListener('selectstart', handleSelectStart);\n        node.setAttribute('draggable', 'false');\n      };\n    }\n  }, {\n    key: \"connectDropTarget\",\n    value: function connectDropTarget(targetId, node) {\n      var _this4 = this;\n\n      var handleDragEnter = function handleDragEnter(e) {\n        return _this4.handleDragEnter(e, targetId);\n      };\n\n      var handleDragOver = function handleDragOver(e) {\n        return _this4.handleDragOver(e, targetId);\n      };\n\n      var handleDrop = function handleDrop(e) {\n        return _this4.handleDrop(e, targetId);\n      };\n\n      node.addEventListener('dragenter', handleDragEnter);\n      node.addEventListener('dragover', handleDragOver);\n      node.addEventListener('drop', handleDrop);\n      return function () {\n        node.removeEventListener('dragenter', handleDragEnter);\n        node.removeEventListener('dragover', handleDragOver);\n        node.removeEventListener('drop', handleDrop);\n      };\n    }\n  }, {\n    key: \"addEventListeners\",\n    value: function addEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.addEventListener) {\n        return;\n      }\n\n      target.addEventListener('dragstart', this.handleTopDragStart);\n      target.addEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.addEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.addEventListener('dragenter', this.handleTopDragEnter);\n      target.addEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.addEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.addEventListener('dragover', this.handleTopDragOver);\n      target.addEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.addEventListener('drop', this.handleTopDrop);\n      target.addEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"removeEventListeners\",\n    value: function removeEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.removeEventListener) {\n        return;\n      }\n\n      target.removeEventListener('dragstart', this.handleTopDragStart);\n      target.removeEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.removeEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.removeEventListener('dragenter', this.handleTopDragEnter);\n      target.removeEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.removeEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.removeEventListener('dragover', this.handleTopDragOver);\n      target.removeEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.removeEventListener('drop', this.handleTopDrop);\n      target.removeEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"getCurrentSourceNodeOptions\",\n    value: function getCurrentSourceNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourceNodeOptions = this.sourceNodeOptions.get(sourceId);\n      return _objectSpread({\n        dropEffect: this.altKeyPressed ? 'copy' : 'move'\n      }, sourceNodeOptions || {});\n    }\n  }, {\n    key: \"getCurrentDropEffect\",\n    value: function getCurrentDropEffect() {\n      if (this.isDraggingNativeItem()) {\n        // It makes more sense to default to 'copy' for native resources\n        return 'copy';\n      }\n\n      return this.getCurrentSourceNodeOptions().dropEffect;\n    }\n  }, {\n    key: \"getCurrentSourcePreviewNodeOptions\",\n    value: function getCurrentSourcePreviewNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId);\n      return _objectSpread({\n        anchorX: 0.5,\n        anchorY: 0.5,\n        captureDraggingState: false\n      }, sourcePreviewNodeOptions || {});\n    }\n  }, {\n    key: \"isDraggingNativeItem\",\n    value: function isDraggingNativeItem() {\n      var itemType = this.monitor.getItemType();\n      return Object.keys(NativeTypes).some(function (key) {\n        return NativeTypes[key] === itemType;\n      });\n    }\n  }, {\n    key: \"beginDragNativeItem\",\n    value: function beginDragNativeItem(type) {\n      this.clearCurrentDragSourceNode();\n      this.currentNativeSource = createNativeDragSource(type);\n      this.currentNativeHandle = this.registry.addSource(type, this.currentNativeSource);\n      this.actions.beginDrag([this.currentNativeHandle]);\n    }\n  }, {\n    key: \"setCurrentDragSourceNode\",\n    value: function setCurrentDragSourceNode(node) {\n      var _this5 = this;\n\n      this.clearCurrentDragSourceNode();\n      this.currentDragSourceNode = node; // A timeout of > 0 is necessary to resolve Firefox issue referenced\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n\n      var MOUSE_MOVE_TIMEOUT = 1000; // Receiving a mouse event in the middle of a dragging operation\n      // means it has ended and the drag source node disappeared from DOM,\n      // so the browser didn't dispatch the dragend event.\n      //\n      // We need to wait before we start listening for mousemove events.\n      // This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n      // immediately in some browsers.\n      //\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n      //\n\n      this.mouseMoveTimeoutTimer = setTimeout(function () {\n        return _this5.window && _this5.window.addEventListener('mousemove', _this5.endDragIfSourceWasRemovedFromDOM, true);\n      }, MOUSE_MOVE_TIMEOUT);\n    }\n  }, {\n    key: \"clearCurrentDragSourceNode\",\n    value: function clearCurrentDragSourceNode() {\n      if (this.currentDragSourceNode) {\n        this.currentDragSourceNode = null;\n\n        if (this.window) {\n          this.window.clearTimeout(this.mouseMoveTimeoutTimer || undefined);\n          this.window.removeEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);\n        }\n\n        this.mouseMoveTimeoutTimer = null;\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"handleDragStart\",\n    value: function handleDragStart(e, sourceId) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      if (!this.dragStartSourceIds) {\n        this.dragStartSourceIds = [];\n      }\n\n      this.dragStartSourceIds.unshift(sourceId);\n    }\n  }, {\n    key: \"handleDragEnter\",\n    value: function handleDragEnter(e, targetId) {\n      this.dragEnterTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDragOver\",\n    value: function handleDragOver(e, targetId) {\n      if (this.dragOverTargetIds === null) {\n        this.dragOverTargetIds = [];\n      }\n\n      this.dragOverTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDrop\",\n    value: function handleDrop(e, targetId) {\n      this.dropTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"window\",\n    get: function get() {\n      return this.options.window;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      return this.options.document;\n    }\n  }]);\n\n  return HTML5Backend;\n}();\n\nexport { HTML5Backend as default };","import HTML5Backend from './HTML5Backend';\nimport * as NativeTypes from './NativeTypes';\nexport { getEmptyImage } from './getEmptyImage';\nexport { NativeTypes };\n\nvar createHTML5Backend = function createHTML5Backend(manager, context) {\n  return new HTML5Backend(manager, context);\n};\n\nexport default createHTML5Backend;","import React from \"react\";\r\nimport Helmet from \"react-helmet\";\r\nimport { graphql } from \"gatsby\";\r\nimport Layout from \"../layout\";\r\nimport PostListing from \"../components/PostListing/PostListing\";\r\nimport SEO from \"../components/SEO/SEO\";\r\nimport Tree from \"../components/Tree/tree\";\r\nimport config from \"../../data/SiteConfig\";\r\nimport './index.css'\r\nimport { DndProvider } from 'react-dnd'\r\nimport HTML5Backend from 'react-dnd-html5-backend'\r\n\r\nclass Index extends React.Component {\r\n  callBacks = {\r\n    refreshArticleList:undefined,\r\n    refreshTagList:undefined,\r\n    refreshTree:undefined\r\n  }\r\n\r\n  refresh(){\r\n    if(typeof this.refreshBindBack === 'function') this.refreshBindBack()\r\n  }\r\n\r\n  dispatch(action,...params){\r\n    console.log(arguments)\r\n      if(typeof this.callBacks[action] == 'function') this.callBacks[action](...params)\r\n  }\r\n\r\n  refreshBinder(binder){\r\n    this.callBacks = {...this.callBacks,...binder}\r\n  }\r\n\r\n  render() {\r\n\r\n\r\n    //ignore drafts\r\n    const postEdges = this.props.data.allMarkdownRemark.edges.filter(edge=> !edge.node.frontmatter.draft)\r\n    return (\r\n      <DndProvider backend={HTML5Backend}>\r\n        <Layout>\r\n          <div className=\"index-container\">\r\n            <Helmet title={config.siteTitle} />\r\n            <SEO />\r\n            <Tree refreshBinder={this.refreshBinder.bind(this)} dispatch={this.dispatch.bind(this)}/>\r\n            <PostListing refreshBinder= {this.refreshBinder.bind(this)} dispatch={this.dispatch.bind(this)} refresh={this.refresh.bind(this)} postEdges={postEdges} />\r\n          </div>\r\n        </Layout>\r\n      </DndProvider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Index;\r\n\r\n/* eslint no-undef: \"off\" */\r\nexport const pageQuery = graphql`\r\n  query IndexQuery {\r\n    allMarkdownRemark(\r\n      limit: 2000\r\n      sort: { fields: [fields___date], order: DESC }\r\n    ) {\r\n      edges {\r\n        node {\r\n          fields {\r\n            slug\r\n            date\r\n          }\r\n          excerpt\r\n          timeToRead\r\n          rawMarkdownBody\r\n          frontmatter {\r\n            abstract\r\n            draft\r\n            title\r\n            tags\r\n            cover\r\n            date\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n","const config = {\r\n  siteTitle: \"MSKf's Tree BLOG\", // Site <title>.\r\n  siteTitleShort: \"MSKf's Tree\", // Short site title for homescreen (PWA). Preferably should be under 12 characters to prevent truncation.\r\n  siteTitleAlt: \"MSKF TREE BLOG\", // Alternative site title for SEO.\r\n  siteLogo: \"/logos/logo-1024.png\", // Logo used for SEO and manifest.\r\n  siteUrl: \"https://mskf.work\", // Domain of your website without pathPrefix.\r\n  pathPrefix: \"\", // Prefixes all links. For cases when deployed to example.github.io/gatsby-advanced-starter/.\r\n  siteDescription: \"\", // Website description used for RSS feeds/meta description tag.\r\n  siteRss: \"/rss.xml\", // Path to the RSS file.\r\n  siteFBAppID: \"1825356251115265\", // FB Application ID for using app insights\r\n  googleAnalyticsID: \"UA-47311644-5\", // GA tracking ID.\r\n  disqusShortname: \"mskf-work\", // Disqus shortname.\r\n  postDefaultCategoryID: \"Tech\", // Default category for posts. For Disqus\r\n  dateFromFormat: \"YYYY/MM/DD\", // Date format used in the frontmatter.\r\n  dateFormat: \"MM/DD/YYYY\", // Date format for display.\r\n  userName: \"mskf\", // Username to display in the author segment.\r\n  userEmail: \"gattonero1052@example.com\", // Email used for RSS feed's author segment\r\n  userTwitter: \"\", // Optionally renders \"Follow Me\" in the UserInfo segment.\r\n  userLocation: \"North Pole, Earth\", // User location to display in the author segment.\r\n  userAvatar: \"https://api.adorable.io/avatars/150/test.png\", // User avatar to display in the author segment.\r\n  userDescription:\r\n    \"Yeah, I like animals better than people sometimes... Especially dogs. Dogs are the best. Every time you come home, they act like they haven't seen you in a year. And the good thing about dogs... is they got different dogs for different people.\", // User description to display in the author segment.\r\n  // Links to social profiles/projects you want to display in the author segment/navigation bar.\r\n  userLinks: [\r\n    {\r\n      label: \"GitHub\",\r\n      url: \"https://github.com/Vagr9K/gatsby-advanced-starter\",\r\n      iconClassName: \"fa fa-github\"\r\n    },\r\n    {\r\n      label: \"Twitter\",\r\n      url: \"https://twitter.com/Vagr9K\",\r\n      iconClassName: \"fa fa-twitter\"\r\n    },\r\n    {\r\n      label: \"Email\",\r\n      url: \"mailto:vagr9k@gmail.com\",\r\n      iconClassName: \"fa fa-envelope\"\r\n    }\r\n  ],\r\n  copyright: \"Copyright  2019. Advanced User\", // Copyright string for the footer of the website and RSS feed.\r\n  themeColor: \"#c62828\", // Used for setting manifest and progress theme colors.\r\n  backgroundColor: \"#e0e0e0\" // Used for setting manifest background color.\r\n};\r\n\r\n// Validate\r\n\r\n// Make sure pathPrefix is empty if not needed\r\nif (config.pathPrefix === \"/\") {\r\n  config.pathPrefix = \"\";\r\n} else {\r\n  // Make sure pathPrefix only contains the first forward slash\r\n  config.pathPrefix = `/${config.pathPrefix.replace(/^\\/|\\/$/g, \"\")}`;\r\n}\r\n\r\n// Make sure siteUrl doesn't have an ending forward slash\r\nif (config.siteUrl.substr(-1) === \"/\")\r\n  config.siteUrl = config.siteUrl.slice(0, -1);\r\n\r\n// Make sure siteRss has a starting forward slash\r\nif (config.siteRss && config.siteRss[0] !== \"/\")\r\n  config.siteRss = `/${config.siteRss}`;\r\n\r\nmodule.exports = config;\r\n","import React from \"react\";\r\nimport Helmet from \"react-helmet\";\r\nimport config from \"../../data/SiteConfig\";\r\nimport \"./index.css\";\r\n\r\nexport default class MainLayout extends React.Component {\r\n  render() {\r\n    const { children } = this.props;\r\n    return (\r\n      <div>\r\n        <Helmet>\r\n          <meta name=\"description\" content={config.siteDescription} />\r\n        </Helmet>\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React,{useState} from 'react'\r\nimport {Link} from \"gatsby\";\r\nimport './tags.css'\r\nimport {useDrag} from \"react-dnd\";\r\nimport {addChild} from \"../Tree/treehelper\";\r\nimport _ from \"lodash\";\r\n\r\nconst TAGS_OUTSIDE = '-1'\r\n\r\nconst COLORS = [\r\n  '#478BA2',\r\n  '#DE585D',\r\n  '#E97658',\r\n  '#E2A490',\r\n  '#89D4DB',\r\n]\r\n\r\nconst getColor = (str)=>{\r\n  let sum = 0\r\n  for (let i = 0; i < str.length; i++) {\r\n    sum+=str.charCodeAt(i)\r\n  }\r\n\r\n  return COLORS[sum%COLORS.length]\r\n}\r\n\r\nconst PostListTag = ({draggable,tag,tags,refresh,clickCb,removeTagCb,tagItemClass})=>{\r\n  const click = ()=> {\r\n    if (clickCb) clickCb(tag)\r\n  }\r\n\r\n  const remover = <div className='tag-remove-wrapper' onClick={()=>removeTagCb(tag)}>\r\n    <div className='tag-remove'></div>\r\n  </div>\r\n\r\n  const color = getColor(tag)\r\n\r\n  if(!draggable){\r\n    return (\r\n      <div className='tag-item-wrapper'>\r\n        <div key={tag} onClick={click} className='tag-item'  style={{\r\n          color,...tagItemClass\r\n        }}>\r\n          {tag}\r\n        </div>\r\n        {removeTagCb?remover:''}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const [{isDragging}, drag] = useDrag({\r\n    item: {name: tag, type: TAGS_OUTSIDE},\r\n    end: (item, monitor) => {\r\n      const dropResult = monitor.getDropResult()\r\n      if (item && dropResult) {\r\n        let child = addChild(dropResult.node,tag)\r\n        refresh()\r\n      }\r\n    },\r\n    collect: monitor => ({\r\n      isDragging: monitor.isDragging(),\r\n    }),\r\n  })\r\n\r\n  const opacity = isDragging ? 0.4 : 1\r\n\r\n  return (\r\n    <div className='tag-item-wrapper'>\r\n      <div ref={drag} key={tag} onClick={click} className='tag-item'  style={{\r\n        opacity, color\r\n      }}>\r\n        {tag}\r\n      </div>\r\n      {removeTagCb?remover:''}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst PostListTags =({draggable,tags=[],refresh,clickCb,removeTagCb,tagItemClass})=>{\r\n  const props = {draggable,tags,refresh,clickCb,removeTagCb,tagItemClass}\r\n  return (<div className='tag-list'>\r\n      {tags.map(tag=>{\r\n        return (\r\n        <PostListTag  key={tag} tag={tag} {...props} />\r\n        )})}\r\n    </div>)\r\n}\r\n\r\nexport {getColor}\r\n\r\nexport {PostListTags,TAGS_OUTSIDE}","import {getColor} from \"../Tags/Tags\";\r\n\r\n/**\r\n * No node can have two child nodes sharing the same name\r\n *\r\n * Every node has a unique path from root, so to say, a unique full name\r\n *\r\n * Maximum height of the tree shown in the screen  is constant\r\n *\r\n * Maximum children of a node is constant\r\n *\r\n * Can only add tree nodes within such height\r\n *\r\n * Take the leaf node as a new root, so to add new node in the next level\r\n *\r\n * Search the full name of node to get it  as the root\r\n */\r\nclass Node {\r\n  constructor(value){\r\n    this.id = Math.random().toString().substr(2)\r\n    this.children = []\r\n    this.value = value\r\n    this.parent = null\r\n    this.isTemp = 0\r\n    this.isFake = 0\r\n  }\r\n}\r\n\r\nconst addChild = (node,value)=>{\r\n  let child = new Node(value)\r\n  child.parent = node\r\n  child.level = (node.level|0)+1\r\n  node.children.push(child)\r\n  return child\r\n}\r\n\r\nconst getRoot =  node =>{\r\n  if (node.parent==null) return node\r\n  return findRoot(node.parent)\r\n}\r\n\r\nconst firsrOrderTraverseConsumer = (node, consumer,prev) => {\r\n  if (!node) return\r\n\r\n  consumer(node,prev)\r\n\r\n  for (let i = 0; i < node.children.length; i++) {\r\n    firsrOrderTraverseConsumer(node.children[i], consumer,node)\r\n  }\r\n}\r\n\r\nconst firsrOrderTraverseFind = (node, id) => {\r\n  if (!node) return null\r\n  else if (node.id == id) return node\r\n\r\n  let res = null\r\n\r\n  for (let i = 0; !res && i < node.children.length; i++) {\r\n    res = firsrOrderTraverseFind(node.children[i], id)\r\n  }\r\n\r\n  return res\r\n}\r\n\r\nconst getFakeNode = ()=>{\r\n  const fakeNode = new Node('')\r\n  fakeNode.isFake = 1\r\n  return fakeNode\r\n}\r\n\r\nconst getTreeArray = (node, maxDepth) => {\r\n  //remove space count\r\n  firsrOrderTraverseConsumer(node,n=>n._spaceCount = 0)\r\n\r\n  const recursiveAddCount = (node, root) => {\r\n    while (node != root) {\r\n      node = node.parent\r\n      node._spaceCount = (node._spaceCount || 1) + 1\r\n    }\r\n  }\r\n\r\n  const S = 'SPLITTER'\r\n\r\n  let tmp = [node, S], depth = 0, nodes = [], childCount = 0, root = node\r\n  do {\r\n    while (tmp[0] != S) {\r\n      let cur = tmp.splice(0, 1)[0]\r\n      if (cur.children.length == 0) childCount++\r\n      if(cur._needToAdd)\r\n        recursiveAddCount(cur, root)\r\n      for (let i = 0; i < cur.children.length; i++) {\r\n        if (i>0) cur.children[i]._needToAdd = true\r\n        tmp.push(cur.children[i])\r\n      }\r\n    }\r\n    tmp.push(tmp.splice(0, 1)[0])\r\n    depth++\r\n  } while (depth < maxDepth && tmp.length > 1)\r\n\r\n  let finalDepth = depth\r\n\r\n  depth = 0\r\n\r\n  //\r\n  tmp = [node, S]\r\n  do {\r\n    nodes[depth] = []\r\n    while (tmp[0] != S) {\r\n      let cur = tmp.splice(0, 1)[0]\r\n      if ((cur.isFake || cur.children.length == 0) && depth < finalDepth - 1) {\r\n        tmp.push(getFakeNode())\r\n      }\r\n\r\n      nodes[depth].push(cur)\r\n\r\n      cur.level = depth\r\n      if(cur.isFake) continue\r\n\r\n      for (let i = 0; i < cur.children.length; i++) {\r\n        tmp.push(cur.children[i])\r\n      }\r\n    }\r\n    tmp.push(tmp.splice(0, 1)[0])\r\n    depth++\r\n  } while (depth < maxDepth && tmp.length > 1)\r\n\r\n  for (let i = 0; i <= maxDepth - nodes.length; i++) {\r\n    nodes.push([])\r\n  }\r\n\r\n  return nodes\r\n}\r\n\r\nconst getLines = (node)=>{\r\n  if (!node || !node._domObject) return []\r\n\r\n  let start = node._domObject.getClientRects()[0], res = []\r\n\r\n  if (!start || !start.x) return []\r\n\r\n  for (let i = 0; i < node.children.length; i++) {\r\n    if(!node.children[i]._domObject) continue\r\n    let end =  node.children[i]._domObject.getClientRects()[0]\r\n    res.push({\r\n      color:getColor(node.value),\r\n      start:{\r\n        x:start.left+start.width/2,\r\n        y:start.top+start.height/2,\r\n      },\r\n      end:{\r\n        x:end.left+end.width/2,\r\n        y:end.top+end.height/2,\r\n      }\r\n    })\r\n\r\n    res=res.concat(getLines(node.children[i]))\r\n  }\r\n\r\n  return res\r\n}\r\n\r\nconst generate = ()=>{\r\n  let root = new Node('ROOT')\r\n  root.id='root'\r\n  root.level = 0\r\n  return root\r\n}\r\n\r\nconst generateTest = ()=>{\r\n  // let root = new Node(1)\r\n  // let f11 = new Node(2),\r\n  //   f12 = new Node(3),\r\n  //   f21 = new Node(4),\r\n  //   f22 = new Node(5),\r\n  //   f23 = new Node(6),\r\n  //   f24 = new Node(7)\r\n  // root.children.push(f11)\r\n  // root.children.push(f12)\r\n  // f11.parent = root\r\n  // f12.parent = root\r\n  //\r\n  // f11.children.push(f21)\r\n  // f11.children.push(f22)\r\n  // f21.parent = f11\r\n  // f22.parent = f11\r\n  //\r\n  // f12.children.push(f23)\r\n  // f12.children.push(f24)\r\n  // f23.parent = f12\r\n  // f24.parent = f12\r\n\r\n  let root = new Node(1)\r\n  root.id='root'\r\n  let f11 = new Node(2),\r\n    f12 = new Node(3),\r\n    f13 = new Node(4),\r\n    f21 = new Node(5),\r\n    f22 = new Node(6),\r\n    f23 = new Node(7),\r\n    f24 = new Node(8)\r\n  root.children.push(f11)\r\n  root.children.push(f12)\r\n  root.children.push(f13)\r\n  f11.parent = root\r\n  f12.parent = root\r\n  f13.parent = root\r\n\r\n  f11.children.push(f21)\r\n  f12.children.push(f22)\r\n  f21.parent = f11\r\n  f22.parent = f12\r\n\r\n  f13.children.push(f23)\r\n  f13.children.push(f24)\r\n  f23.parent = f13\r\n  f24.parent = f13\r\n  return root\r\n}\r\n\r\nexport {addChild,getRoot,firsrOrderTraverseConsumer,firsrOrderTraverseFind,getTreeArray,generate,getLines}","export const settings = {\r\n  filteringTags:[]\r\n}","import _ from 'lodash'\r\nimport {getRoot,generate,firsrOrderTraverseConsumer} from '../Tree/treehelper'\r\nimport {settings as DEFAULT_SETTING} from './constants'\r\n\r\nconst TREE_NAME = `MSKf's Tree Blog V1.0 TREE`\r\nconst BLOG_NAME = `MSKf's Tree Blog V1.0 BLOG`\r\n\r\nconst isBrowser = ()=>{\r\n  let hasWindow = 1\r\n  try{\r\n    window\r\n  }catch (e) {\r\n    hasWindow = 0\r\n  }\r\n  return !!hasWindow\r\n}\r\n\r\nconst getTree = ()=>{\r\n  if(!isBrowser()) return\r\n\r\n  let str = window.localStorage.getItem(TREE_NAME)\r\n  let root = null\r\n\r\n  if(!str){\r\n    root = generate()\r\n\r\n    setTree(root)\r\n  }else{\r\n    root = JSON.parse(str)\r\n\r\n    //add circle reference\r\n    firsrOrderTraverseConsumer(root,(node,prev)=>{\r\n\r\n      node.parent = prev\r\n\r\n    }\r\n    )\r\n  }\r\n\r\n  return root\r\n}\r\n\r\nconst setTree = node=>{\r\n  if(!isBrowser()) return\r\n\r\n  let root = _.cloneDeep(getRoot(node))\r\n\r\n  //remove circle reference and temp properties\r\n  firsrOrderTraverseConsumer(root,node=>{\r\n    for (let key in node){\r\n      if (key[0]=='_'){\r\n        delete node[key]\r\n      }\r\n    }\r\n\r\n    //remove fake nodes\r\n    node.children = node.children.filter(n=>!n.isFake)\r\n\r\n    node.parent = null\r\n  })\r\n\r\n  let str = JSON.stringify(root)\r\n  window.localStorage.setItem(TREE_NAME,str)\r\n}\r\n\r\n\r\nconst getBlogSetting = (name)=>{\r\n  if(!isBrowser()) return []\r\n\r\n  let str = window.localStorage.getItem(BLOG_NAME)\r\n  let settings = {}\r\n  if(!str){\r\n    settings = setBlogSetting()\r\n  }else{\r\n    settings = JSON.parse(str)\r\n  }\r\n  return settings[name]\r\n}\r\n\r\n//default settings\r\nconst setBlogSetting = (settings = DEFAULT_SETTING)=>{\r\n  if(!isBrowser()) return\r\n\r\n  let str = JSON.stringify(settings)\r\n  window.localStorage.setItem(BLOG_NAME,str)\r\n  return settings\r\n}\r\n\r\nexport {getTree,setTree,getBlogSetting,setBlogSetting}","(function (name, context, definition) {\n  if (typeof module !== 'undefined' && module.exports) module.exports = definition();\n  else if (typeof define === 'function' && define.amd) define(definition);\n  else context[name] = definition();\n})('urljoin', this, function () {\n\n  function normalize (strArray) {\n    var resultArray = [];\n\n    // If the first part is a plain protocol, we combine it with the next part.\n    if (strArray[0].match(/^[^/:]+:\\/*$/) && strArray.length > 1) {\n      var first = strArray.shift();\n      strArray[0] = first + strArray[0];\n    }\n\n    // There must be two or three slashes in the file protocol, two slashes in anything else.\n    if (strArray[0].match(/^file:\\/\\/\\//)) {\n      strArray[0] = strArray[0].replace(/^([^/:]+):\\/*/, '$1:///');\n    } else {\n      strArray[0] = strArray[0].replace(/^([^/:]+):\\/*/, '$1://');\n    }\n\n    for (var i = 0; i < strArray.length; i++) {\n      var component = strArray[i];\n\n      if (typeof component !== 'string') {\n        throw new TypeError('Url must be a string. Received ' + component);\n      }\n\n      if (component === '') { continue; }\n\n      if (i > 0) {\n        // Removing the starting slashes for each component but the first.\n        component = component.replace(/^[\\/]+/, '');\n      }\n      if (i < strArray.length - 1) {\n        // Removing the ending slashes for each component but the last.\n        component = component.replace(/[\\/]+$/, '');\n      } else {\n        // For the last component we will combine multiple slashes to a single one.\n        component = component.replace(/[\\/]+$/, '/');\n      }\n\n      resultArray.push(component);\n\n    }\n\n    var str = resultArray.join('/');\n    // Each input component is now separated by a single slash except the possible first plain protocol part.\n\n    // remove trailing slash before parameters or hash\n    str = str.replace(/\\/(\\?|&|#[^!])/g, '$1');\n\n    // replace ? in parameters with &\n    var parts = str.split('?');\n    str = parts.shift() + (parts.length > 0 ? '?': '') + parts.join('&');\n\n    return str;\n  }\n\n  return function () {\n    var input;\n\n    if (typeof arguments[0] === 'object') {\n      input = arguments[0];\n    } else {\n      input = [].slice.call(arguments);\n    }\n\n    return normalize(input);\n  };\n\n});\n","import React, {useState, useEffect} from \"react\";\r\nimport {Link} from \"gatsby\";\r\nimport {PostListTags} from '../Tags/Tags'\r\nimport {getBlogSetting, setBlogSetting} from '../Data/localstorage'\r\nimport './list.css'\r\nimport _ from 'lodash'\r\n\r\nconst PostListing = ({postEdges,dispatch,refreshBinder}) => {\r\n  let postList = [];\r\n  postEdges.forEach(postEdge => {\r\n    if (!postEdge.node.rawMarkdownBody) return\r\n    let paras = postEdge.node.rawMarkdownBody.match(/(#{1,5} .*[\\n\\r])/g) || []\r\n    postList.push({\r\n      path: postEdge.node.fields.slug,\r\n      tags: postEdge.node.frontmatter.tags || [],\r\n      cover: postEdge.node.frontmatter.cover,\r\n      title: postEdge.node.frontmatter.title,\r\n      date: postEdge.node.fields.date,\r\n      excerpt: postEdge.node.excerpt,\r\n      timeToRead: postEdge.node.timeToRead,\r\n      abstract: postEdge.node.frontmatter.abstract || paras.map(p => p.replace(/^#+/, '').trim()).join('  ')\r\n    });\r\n  });\r\n\r\n\r\n  const [filteringTags, updateFilter] = useState(getBlogSetting('filteringTags'))\r\n\r\n  const addTagFilter = (tag) => {\r\n      let index = _.indexOf(filteringTags, tag)\r\n      if (index == -1) {\r\n        filteringTags.push(tag)\r\n      }\r\n\r\n      refreshArticleList({filteringTags})\r\n\r\n      //refreshTags in tree\r\n      dispatch('refreshTagList',{filteringTags})\r\n    }\r\n\r\n  const refreshArticleList = ({filteringTags})=>{\r\n    setBlogSetting({filteringTags})\r\n    updateFilter([...filteringTags])\r\n  }\r\n\r\n  //bind when component did mount\r\n  useEffect(()=>{\r\n    refreshBinder({refreshArticleList})\r\n  },[])\r\n\r\n  postList = postList.filter(post => _.intersection(post.tags, filteringTags).length==filteringTags.length)\r\n\r\n  return (\r\n    <div>\r\n      {\r\n        postList.map(post => (\r\n          <div className='post-list' key={post.path}>\r\n            <div className='post-left'>\r\n              <div className='post-title'>\r\n                <Link to={post.path} key={post.title}>\r\n                  {post.title}\r\n                </Link>\r\n              </div>\r\n              <div className='post-tags'></div>\r\n              <div className='post-abstract'>{post.abstract}</div>\r\n            </div>\r\n            <div className='post-right'>\r\n              <div className='post-tags'>\r\n                <PostListTags draggable={true} refresh={dispatch.bind(this,'refreshTree')} tags={post.tags} clickCb={addTagFilter}/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PostListing;\r\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","import React, { Component } from \"react\";\r\nimport Helmet from \"react-helmet\";\r\nimport urljoin from \"url-join\";\r\nimport config from \"../../../data/SiteConfig\";\r\n\r\nclass SEO extends Component {\r\n  render() {\r\n    const { postNode, postPath, postSEO } = this.props;\r\n    let title;\r\n    let description;\r\n    let image;\r\n    let postURL;\r\n    if (postSEO) {\r\n      const postMeta = postNode.frontmatter;\r\n      ({ title } = postMeta);\r\n      description = postMeta.description\r\n        ? postMeta.description\r\n        : postNode.excerpt;\r\n      image = postMeta.cover;\r\n      postURL = urljoin(config.siteUrl, config.pathPrefix, postPath);\r\n    } else {\r\n      title = config.siteTitle;\r\n      description = config.siteDescription;\r\n      image = config.siteLogo;\r\n    }\r\n\r\n    image = urljoin(config.siteUrl, config.pathPrefix, image);\r\n    const blogURL = urljoin(config.siteUrl, config.pathPrefix);\r\n    const schemaOrgJSONLD = [\r\n      {\r\n        \"@context\": \"http://schema.org\",\r\n        \"@type\": \"WebSite\",\r\n        url: blogURL,\r\n        name: title,\r\n        alternateName: config.siteTitleAlt ? config.siteTitleAlt : \"\"\r\n      }\r\n    ];\r\n    if (postSEO) {\r\n      schemaOrgJSONLD.push(\r\n        {\r\n          \"@context\": \"http://schema.org\",\r\n          \"@type\": \"BreadcrumbList\",\r\n          itemListElement: [\r\n            {\r\n              \"@type\": \"ListItem\",\r\n              position: 1,\r\n              item: {\r\n                \"@id\": postURL,\r\n                name: title,\r\n                image\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          \"@context\": \"http://schema.org\",\r\n          \"@type\": \"BlogPosting\",\r\n          url: blogURL,\r\n          name: title,\r\n          alternateName: config.siteTitleAlt ? config.siteTitleAlt : \"\",\r\n          headline: title,\r\n          image: {\r\n            \"@type\": \"ImageObject\",\r\n            url: image\r\n          },\r\n          description\r\n        }\r\n      );\r\n    }\r\n    return (\r\n      <Helmet>\r\n        {/* General tags */}\r\n        <meta name=\"description\" content={description} />\r\n        <meta name=\"image\" content={image} />\r\n\r\n        {/* Schema.org tags */}\r\n        <script type=\"application/ld+json\">\r\n          {JSON.stringify(schemaOrgJSONLD)}\r\n        </script>\r\n\r\n        {/* OpenGraph tags */}\r\n        <meta property=\"og:url\" content={postSEO ? postURL : blogURL} />\r\n        {postSEO ? <meta property=\"og:type\" content=\"article\" /> : null}\r\n        <meta property=\"og:title\" content={title} />\r\n        <meta property=\"og:description\" content={description} />\r\n        <meta property=\"og:image\" content={image} />\r\n        <meta\r\n          property=\"fb:app_id\"\r\n          content={config.siteFBAppID ? config.siteFBAppID : \"\"}\r\n        />\r\n\r\n        {/* Twitter Card tags */}\r\n        <meta name=\"twitter:card\" content=\"summary_large_image\" />\r\n        <meta\r\n          name=\"twitter:creator\"\r\n          content={config.userTwitter ? config.userTwitter : \"\"}\r\n        />\r\n        <meta name=\"twitter:title\" content={title} />\r\n        <meta name=\"twitter:description\" content={description} />\r\n        <meta name=\"twitter:image\" content={image} />\r\n      </Helmet>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SEO;\r\n","var baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    baseUniq = require('./_baseUniq'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of unique values, in order, from all given arrays using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of combined values.\n * @example\n *\n * _.union([2], [1, 2]);\n * // => [2, 1]\n */\nvar union = baseRest(function(arrays) {\n  return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n});\n\nmodule.exports = union;\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    cacheHas = require('./_cacheHas'),\n    createSet = require('./_createSet'),\n    setToArray = require('./_setToArray');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseUniq;\n","var Set = require('./_Set'),\n    noop = require('./noop'),\n    setToArray = require('./_setToArray');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nmodule.exports = createSet;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n"],"sourceRoot":""}
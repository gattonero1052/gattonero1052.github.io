{"version":3,"sources":["webpack:///./node_modules/lodash/_isFlattenable.js","webpack:///./node_modules/lodash/_baseUniq.js","webpack:///./node_modules/lodash/_baseFlatten.js","webpack:///./node_modules/react-dnd/dist/esm/common/TargetConnector.js","webpack:///./node_modules/react-dnd/dist/esm/common/DropTargetMonitorImpl.js","webpack:///./node_modules/react-dnd/dist/esm/hooks/internal/drop.js","webpack:///./node_modules/react-dnd/dist/esm/hooks/useDrop.js","webpack:///./node_modules/lodash/_createSet.js","webpack:///./node_modules/react-dnd/dist/esm/common/DndProvider.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/utils/js_utils.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/EnterLeaveCounter.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/BrowserDetector.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/MonotonicInterpolant.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/OffsetUtils.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/NativeTypes.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/nativeTypesConfig.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/getDataFromDataTransfer.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/NativeDragSource.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/index.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/OptionsReader.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/HTML5Backend.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/index.js","webpack:///./node_modules/lodash/_setToArray.js","webpack:///./node_modules/lodash/noop.js"],"names":["Symbol","isArguments","isArray","spreadableSymbol","isConcatSpreadable","undefined","module","exports","value","SetCache","arrayIncludes","arrayIncludesWith","cacheHas","createSet","setToArray","array","iteratee","comparator","index","includes","length","isCommon","result","seen","set","outer","computed","seenIndex","push","arrayPush","isFlattenable","baseFlatten","depth","predicate","isStrict","_defineProperties","target","props","i","descriptor","enumerable","configurable","writable","Object","defineProperty","key","TargetConnector","backend","_this","this","instance","Constructor","TypeError","_classCallCheck","hooks","wrapConnectorHooks","dropTarget","node","options","clearDropTarget","dropTargetOptions","isRef","dropTargetRef","dropTargetNode","reconnect","handlerId","dropTargetOptionsInternal","lastConnectedHandlerId","lastConnectedDropTarget","lastConnectedDropTargetOptions","protoProps","staticProps","didChange","didHandlerIdChange","didDropTargetChange","didOptionsChange","disconnectDropTarget","unsubscribeDropTarget","connectDropTarget","newHandlerId","get","current","prototype","isCallingCanDrop","DropTargetMonitorImpl","manager","targetId","internalMonitor","getMonitor","listener","subscribeToStateChange","canDropOnTarget","isOverTarget","getItemType","getItem","getDropResult","didDrop","getInitialClientOffset","getInitialSourceClientOffset","getSourceClientOffset","getClientOffset","getDifferenceFromInitialOffset","_slicedToArray","arr","Array","_arrayWithHoles","iterator","toString","call","_arr","_n","_d","_e","_s","_i","next","done","err","_iterableToArrayLimit","_nonIterableRest","useDrop","spec","specRef","accept","_useDropTargetMonitor2","useDragDropManager","getBackend","monitor","connector","handler","canDrop","hover","drop","useIsomorphicLayoutEffect","_registerTarget2","unregister","receiveHandlerId","useDropHandler","useMonitorOutput","collect","Set","noop","values","_objectWithoutProperties","source","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","refCount","DndProvider","_ref","children","_getDndContextValue2","dragDropManager","context","arguments","getGlobalContext","debugMode","ctx","instanceSymbol","createSingletonDndContext","isGlobalInstance","getDndContextValue","Provider","displayName","for","global","window","memoize","fn","EnterLeaveCounter","isNodeInDocument","entered","enteringNode","previousLength","itemsA","itemsB","insertItem","item","add","forEach","union","filter","contains","leavingNode","items","isFirefox","test","navigator","userAgent","isSafari","Boolean","safari","MonotonicInterpolant","xs","ys","indexes","sort","a","b","dx","dy","dys","dxs","ms","c1s","_i2","m2","mNext","dxNext","common","m","c2s","c3s","_i3","c1","invDx","_common","x","mid","low","high","xHere","Math","floor","diff","max","diffSq","getNodeClientOffset","el","nodeType","parentElement","_el$getBoundingClient","getBoundingClientRect","top","left","y","getEventClientOffset","e","clientX","clientY","getDragPreviewOffset","sourceNode","dragPreview","clientOffset","anchorPoint","offsetPoint","isImage","nodeName","document","documentElement","dragPreviewNodeOffsetFromClient","offsetFromDragPreview","sourceWidth","offsetWidth","sourceHeight","offsetHeight","anchorX","anchorY","_getDragPreviewSize","dragPreviewWidth","width","dragPreviewHeight","height","devicePixelRatio","getDragPreviewSize","offsetX","offsetY","isManualOffsetY","interpolate","_nativeTypesConfig","FILE","URL","TEXT","getDataFromDataTransfer","dataTransfer","typesToTry","defaultValue","reduce","resultSoFar","typeToTry","getData","_defineProperty","obj","nativeTypesConfig","exposeProperties","files","slice","matchesTypes","urls","split","text","NativeDragSource","config","initializeExposedProperties","property","console","warn","concat","_this2","newProperties","defineProperties","handle","getSourceId","matchNativeItemType","dataTransferTypes","types","nativeItemType","some","t","OptionsReader","globalContext","ownKeys","object","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","apply","_objectSpread","getOwnPropertyDescriptors","HTML5Backend","sourcePreviewNodes","Map","sourcePreviewNodeOptions","sourceNodes","sourceNodeOptions","dragStartSourceIds","dropTargetIds","dragEnterTargetIds","currentNativeSource","currentNativeHandle","currentDragSourceNode","altKeyPressed","mouseMoveTimeoutTimer","asyncEndDragFrameId","dragOverTargetIds","sourceId","endDragNativeItem","isDraggingNativeItem","actions","endDrag","registry","removeSource","body","endDragIfSourceWasRemovedFromDOM","clearCurrentDragSourceNode","handleTopDragStartCapture","handleTopDragStart","defaultPrevented","isDragging","beginDrag","publishSource","nativeType","setDragImage","_this$getCurrentSourc","getCurrentSourcePreviewNodeOptions","dragPreviewOffset","setData","setCurrentDragSourceNode","captureDraggingState","publishDragSource","setTimeout","beginDragNativeItem","hasAttribute","preventDefault","handleTopDragEndCapture","handleTopDragEnterCapture","enterLeaveCounter","enter","handleTopDragEnter","altKey","dropEffect","getCurrentDropEffect","handleTopDragOverCapture","handleTopDragOver","handleTopDragLeaveCapture","leave","handleTopDropCapture","loadDataTransfer","reset","handleTopDrop","handleSelectStart","dragDrop","tagName","isContentEditable","getActions","getRegistry","__isReactDndBackendSetUp","Error","addEventListeners","removeEventListeners","cancelAnimationFrame","delete","_this3","handleDragStart","setAttribute","addEventListener","removeEventListener","_this4","handleDragEnter","handleDragOver","handleDrop","getCurrentSourceNodeOptions","itemType","type","createNativeDragSource","addSource","_this5","clearTimeout","unshift","size"],"mappings":"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","file":"98b57999f2894e67bbfe20de9d5ba46920538453-7f744171f9a54467e711.js","sourcesContent":["var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    cacheHas = require('./_cacheHas'),\n    createSet = require('./_createSet'),\n    setToArray = require('./_setToArray');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseUniq;\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nimport shallowEqual from 'shallowequal';\nimport wrapConnectorHooks from './wrapConnectorHooks';\nimport { isRef } from '../utils/isRef';\nexport var TargetConnector = /*#__PURE__*/function () {\n  function TargetConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, TargetConnector);\n\n    this.hooks = wrapConnectorHooks({\n      dropTarget: function dropTarget(node, options) {\n        _this.clearDropTarget();\n\n        _this.dropTargetOptions = options;\n\n        if (isRef(node)) {\n          _this.dropTargetRef = node;\n        } else {\n          _this.dropTargetNode = node;\n        }\n\n        _this.reconnect();\n      }\n    });\n    this.handlerId = null; // The drop target may either be attached via ref or connect function\n\n    this.dropTargetRef = null;\n    this.dropTargetOptionsInternal = null;\n    this.lastConnectedHandlerId = null;\n    this.lastConnectedDropTarget = null;\n    this.lastConnectedDropTargetOptions = null;\n    this.backend = backend;\n  }\n\n  _createClass(TargetConnector, [{\n    key: \"reconnect\",\n    value: function reconnect() {\n      // if nothing has changed then don't resubscribe\n      var didChange = this.didHandlerIdChange() || this.didDropTargetChange() || this.didOptionsChange();\n\n      if (didChange) {\n        this.disconnectDropTarget();\n      }\n\n      var dropTarget = this.dropTarget;\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dropTarget) {\n        this.lastConnectedDropTarget = dropTarget;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDropTarget = dropTarget;\n        this.lastConnectedDropTargetOptions = this.dropTargetOptions;\n        this.unsubscribeDropTarget = this.backend.connectDropTarget(this.handlerId, dropTarget, this.dropTargetOptions);\n      }\n    }\n  }, {\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (newHandlerId === this.handlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didDropTargetChange\",\n    value: function didDropTargetChange() {\n      return this.lastConnectedDropTarget !== this.dropTarget;\n    }\n  }, {\n    key: \"didOptionsChange\",\n    value: function didOptionsChange() {\n      return !shallowEqual(this.lastConnectedDropTargetOptions, this.dropTargetOptions);\n    }\n  }, {\n    key: \"disconnectDropTarget\",\n    value: function disconnectDropTarget() {\n      if (this.unsubscribeDropTarget) {\n        this.unsubscribeDropTarget();\n        this.unsubscribeDropTarget = undefined;\n      }\n    }\n  }, {\n    key: \"clearDropTarget\",\n    value: function clearDropTarget() {\n      this.dropTargetRef = null;\n      this.dropTargetNode = null;\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dropTarget;\n    }\n  }, {\n    key: \"dropTargetOptions\",\n    get: function get() {\n      return this.dropTargetOptionsInternal;\n    },\n    set: function set(options) {\n      this.dropTargetOptionsInternal = options;\n    }\n  }, {\n    key: \"dropTarget\",\n    get: function get() {\n      return this.dropTargetNode || this.dropTargetRef && this.dropTargetRef.current;\n    }\n  }]);\n\n  return TargetConnector;\n}();","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nimport invariant from 'invariant';\nvar isCallingCanDrop = false;\nexport var DropTargetMonitorImpl = /*#__PURE__*/function () {\n  function DropTargetMonitorImpl(manager) {\n    _classCallCheck(this, DropTargetMonitorImpl);\n\n    this.targetId = null;\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DropTargetMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(targetId) {\n      this.targetId = targetId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.targetId;\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      // Cut out early if the target id has not been set. This should prevent errors\n      // where the user has an older version of dnd-core like in\n      // https://github.com/react-dnd/react-dnd/issues/1310\n      if (!this.targetId) {\n        return false;\n      }\n\n      invariant(!isCallingCanDrop, 'You may not call monitor.canDrop() inside your canDrop() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor');\n\n      try {\n        isCallingCanDrop = true;\n        return this.internalMonitor.canDropOnTarget(this.targetId);\n      } finally {\n        isCallingCanDrop = false;\n      }\n    }\n  }, {\n    key: \"isOver\",\n    value: function isOver(options) {\n      if (!this.targetId) {\n        return false;\n      }\n\n      return this.internalMonitor.isOverTarget(this.targetId, options);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DropTargetMonitorImpl;\n}();","function _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nimport { useMemo } from 'react';\nimport { registerTarget } from '../../common/registration';\nimport { useDragDropManager } from './useDragDropManager';\nimport { TargetConnector } from '../../common/TargetConnector';\nimport { DropTargetMonitorImpl } from '../../common/DropTargetMonitorImpl';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nexport function useDropTargetMonitor() {\n  var manager = useDragDropManager();\n  var monitor = useMemo(function () {\n    return new DropTargetMonitorImpl(manager);\n  }, [manager]);\n  var connector = useMemo(function () {\n    return new TargetConnector(manager.getBackend());\n  }, [manager]);\n  return [monitor, connector];\n}\nexport function useDropHandler(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var handler = useMemo(function () {\n    return {\n      canDrop: function canDrop() {\n        var canDrop = spec.current.canDrop;\n        return canDrop ? canDrop(monitor.getItem(), monitor) : true;\n      },\n      hover: function hover() {\n        var hover = spec.current.hover;\n\n        if (hover) {\n          hover(monitor.getItem(), monitor);\n        }\n      },\n      drop: function drop() {\n        var drop = spec.current.drop;\n\n        if (drop) {\n          return drop(monitor.getItem(), monitor);\n        }\n      }\n    };\n  }, [monitor]);\n  useIsomorphicLayoutEffect(function registerHandler() {\n    var _registerTarget = registerTarget(spec.current.accept, handler, manager),\n        _registerTarget2 = _slicedToArray(_registerTarget, 2),\n        handlerId = _registerTarget2[0],\n        unregister = _registerTarget2[1];\n\n    monitor.receiveHandlerId(handlerId);\n    connector.receiveHandlerId(handlerId);\n    return unregister;\n  }, [monitor, connector]);\n}","function _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nimport { useRef, useMemo } from 'react';\nimport invariant from 'invariant';\nimport { useMonitorOutput } from './internal/useMonitorOutput';\nimport { useIsomorphicLayoutEffect } from './internal/useIsomorphicLayoutEffect';\nimport { useDropHandler, useDropTargetMonitor } from './internal/drop';\n/**\n * useDropTarget Hook\n * @param spec The drop target specification\n */\n\nexport function useDrop(spec) {\n  var specRef = useRef(spec);\n  specRef.current = spec;\n  invariant(spec.accept != null, 'accept must be defined');\n\n  var _useDropTargetMonitor = useDropTargetMonitor(),\n      _useDropTargetMonitor2 = _slicedToArray(_useDropTargetMonitor, 2),\n      monitor = _useDropTargetMonitor2[0],\n      connector = _useDropTargetMonitor2[1];\n\n  useDropHandler(specRef, monitor, connector);\n  var result = useMonitorOutput(monitor, specRef.current.collect || function () {\n    return {};\n  }, function () {\n    return connector.reconnect();\n  });\n  var connectDropTarget = useMemo(function () {\n    return connector.hooks.dropTarget();\n  }, [connector]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dropTargetOptions = spec.options || null;\n    connector.reconnect();\n  }, [spec.options]);\n  return [result, connectDropTarget];\n}","var Set = require('./_Set'),\n    noop = require('./noop'),\n    setToArray = require('./_setToArray');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nmodule.exports = createSet;\n","function _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport * as React from 'react';\nimport { memo } from 'react';\nimport { DndContext, createDndContext } from './DndContext';\nvar refCount = 0;\n/**\n * A React component that provides the React-DnD context\n */\n\nexport var DndProvider = memo(function (_ref) {\n  var children = _ref.children,\n      props = _objectWithoutProperties(_ref, [\"children\"]);\n\n  var _getDndContextValue = getDndContextValue(props),\n      _getDndContextValue2 = _slicedToArray(_getDndContextValue, 2),\n      manager = _getDndContextValue2[0],\n      isGlobalInstance = _getDndContextValue2[1]; // memoized from props\n\n  /**\n   * If the global context was used to store the DND context\n   * then where theres no more references to it we should\n   * clean it up to avoid memory leaks\n   */\n\n\n  React.useEffect(function () {\n    if (isGlobalInstance) {\n      refCount++;\n    }\n\n    return function () {\n      if (isGlobalInstance) {\n        refCount--;\n\n        if (refCount === 0) {\n          var context = getGlobalContext();\n          context[instanceSymbol] = null;\n        }\n      }\n    };\n  }, []);\n  return React.createElement(DndContext.Provider, {\n    value: manager\n  }, children);\n});\nDndProvider.displayName = 'DndProvider';\n\nfunction getDndContextValue(props) {\n  if ('manager' in props) {\n    var _manager = {\n      dragDropManager: props.manager\n    };\n    return [_manager, false];\n  }\n\n  var manager = createSingletonDndContext(props.backend, props.context, props.options, props.debugMode);\n  var isGlobalInstance = !props.context;\n  return [manager, isGlobalInstance];\n}\n\nvar instanceSymbol = Symbol.for('__REACT_DND_CONTEXT_INSTANCE__');\n\nfunction createSingletonDndContext(backend) {\n  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getGlobalContext();\n  var options = arguments.length > 2 ? arguments[2] : undefined;\n  var debugMode = arguments.length > 3 ? arguments[3] : undefined;\n  var ctx = context;\n\n  if (!ctx[instanceSymbol]) {\n    ctx[instanceSymbol] = createDndContext(backend, context, options, debugMode);\n  }\n\n  return ctx[instanceSymbol];\n}\n\nfunction getGlobalContext() {\n  return typeof global !== 'undefined' ? global : window;\n}","// cheap lodash replacements\nexport function memoize(fn) {\n  var result = null;\n\n  var memoized = function memoized() {\n    if (result == null) {\n      result = fn();\n    }\n\n    return result;\n  };\n\n  return memoized;\n}\n/**\n * drop-in replacement for _.without\n */\n\nexport function without(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\nexport function union(itemsA, itemsB) {\n  var set = new Set();\n\n  var insertItem = function insertItem(item) {\n    return set.add(item);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  set.forEach(function (key) {\n    return result.push(key);\n  });\n  return result;\n}","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nimport { union, without } from './utils/js_utils';\n\nvar EnterLeaveCounter = /*#__PURE__*/function () {\n  function EnterLeaveCounter(isNodeInDocument) {\n    _classCallCheck(this, EnterLeaveCounter);\n\n    this.entered = [];\n    this.isNodeInDocument = isNodeInDocument;\n  }\n\n  _createClass(EnterLeaveCounter, [{\n    key: \"enter\",\n    value: function enter(enteringNode) {\n      var _this = this;\n\n      var previousLength = this.entered.length;\n\n      var isNodeEntered = function isNodeEntered(node) {\n        return _this.isNodeInDocument(node) && (!node.contains || node.contains(enteringNode));\n      };\n\n      this.entered = union(this.entered.filter(isNodeEntered), [enteringNode]);\n      return previousLength === 0 && this.entered.length > 0;\n    }\n  }, {\n    key: \"leave\",\n    value: function leave(leavingNode) {\n      var previousLength = this.entered.length;\n      this.entered = without(this.entered.filter(this.isNodeInDocument), leavingNode);\n      return previousLength > 0 && this.entered.length === 0;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.entered = [];\n    }\n  }]);\n\n  return EnterLeaveCounter;\n}();\n\nexport { EnterLeaveCounter as default };","import { memoize } from './utils/js_utils';\nexport var isFirefox = memoize(function () {\n  return /firefox/i.test(navigator.userAgent);\n});\nexport var isSafari = memoize(function () {\n  return Boolean(window.safari);\n});","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nvar MonotonicInterpolant = /*#__PURE__*/function () {\n  function MonotonicInterpolant(xs, ys) {\n    _classCallCheck(this, MonotonicInterpolant);\n\n    var length = xs.length; // Rearrange xs and ys so that xs is sorted\n\n    var indexes = [];\n\n    for (var i = 0; i < length; i++) {\n      indexes.push(i);\n    }\n\n    indexes.sort(function (a, b) {\n      return xs[a] < xs[b] ? -1 : 1;\n    }); // Get consecutive differences and slopes\n\n    var dys = [];\n    var dxs = [];\n    var ms = [];\n    var dx;\n    var dy;\n\n    for (var _i = 0; _i < length - 1; _i++) {\n      dx = xs[_i + 1] - xs[_i];\n      dy = ys[_i + 1] - ys[_i];\n      dxs.push(dx);\n      dys.push(dy);\n      ms.push(dy / dx);\n    } // Get degree-1 coefficients\n\n\n    var c1s = [ms[0]];\n\n    for (var _i2 = 0; _i2 < dxs.length - 1; _i2++) {\n      var m2 = ms[_i2];\n      var mNext = ms[_i2 + 1];\n\n      if (m2 * mNext <= 0) {\n        c1s.push(0);\n      } else {\n        dx = dxs[_i2];\n        var dxNext = dxs[_i2 + 1];\n        var common = dx + dxNext;\n        c1s.push(3 * common / ((common + dxNext) / m2 + (common + dx) / mNext));\n      }\n    }\n\n    c1s.push(ms[ms.length - 1]); // Get degree-2 and degree-3 coefficients\n\n    var c2s = [];\n    var c3s = [];\n    var m;\n\n    for (var _i3 = 0; _i3 < c1s.length - 1; _i3++) {\n      m = ms[_i3];\n      var c1 = c1s[_i3];\n      var invDx = 1 / dxs[_i3];\n\n      var _common = c1 + c1s[_i3 + 1] - m - m;\n\n      c2s.push((m - c1 - _common) * invDx);\n      c3s.push(_common * invDx * invDx);\n    }\n\n    this.xs = xs;\n    this.ys = ys;\n    this.c1s = c1s;\n    this.c2s = c2s;\n    this.c3s = c3s;\n  }\n\n  _createClass(MonotonicInterpolant, [{\n    key: \"interpolate\",\n    value: function interpolate(x) {\n      var xs = this.xs,\n          ys = this.ys,\n          c1s = this.c1s,\n          c2s = this.c2s,\n          c3s = this.c3s; // The rightmost point in the dataset should give an exact result\n\n      var i = xs.length - 1;\n\n      if (x === xs[i]) {\n        return ys[i];\n      } // Search for the interval x is in, returning the corresponding y if x is one of the original xs\n\n\n      var low = 0;\n      var high = c3s.length - 1;\n      var mid;\n\n      while (low <= high) {\n        mid = Math.floor(0.5 * (low + high));\n        var xHere = xs[mid];\n\n        if (xHere < x) {\n          low = mid + 1;\n        } else if (xHere > x) {\n          high = mid - 1;\n        } else {\n          return ys[mid];\n        }\n      }\n\n      i = Math.max(0, high); // Interpolate\n\n      var diff = x - xs[i];\n      var diffSq = diff * diff;\n      return ys[i] + c1s[i] * diff + c2s[i] * diffSq + c3s[i] * diff * diffSq;\n    }\n  }]);\n\n  return MonotonicInterpolant;\n}();\n\nexport { MonotonicInterpolant as default };","import { isSafari, isFirefox } from './BrowserDetector';\nimport MonotonicInterpolant from './MonotonicInterpolant';\nvar ELEMENT_NODE = 1;\nexport function getNodeClientOffset(node) {\n  var el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;\n\n  if (!el) {\n    return null;\n  }\n\n  var _el$getBoundingClient = el.getBoundingClientRect(),\n      top = _el$getBoundingClient.top,\n      left = _el$getBoundingClient.left;\n\n  return {\n    x: left,\n    y: top\n  };\n}\nexport function getEventClientOffset(e) {\n  return {\n    x: e.clientX,\n    y: e.clientY\n  };\n}\n\nfunction isImageNode(node) {\n  return node.nodeName === 'IMG' && (isFirefox() || !document.documentElement.contains(node));\n}\n\nfunction getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight) {\n  var dragPreviewWidth = isImage ? dragPreview.width : sourceWidth;\n  var dragPreviewHeight = isImage ? dragPreview.height : sourceHeight; // Work around @2x coordinate discrepancies in browsers\n\n  if (isSafari() && isImage) {\n    dragPreviewHeight /= window.devicePixelRatio;\n    dragPreviewWidth /= window.devicePixelRatio;\n  }\n\n  return {\n    dragPreviewWidth: dragPreviewWidth,\n    dragPreviewHeight: dragPreviewHeight\n  };\n}\n\nexport function getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint) {\n  // The browsers will use the image intrinsic size under different conditions.\n  // Firefox only cares if it's an image, but WebKit also wants it to be detached.\n  var isImage = isImageNode(dragPreview);\n  var dragPreviewNode = isImage ? sourceNode : dragPreview;\n  var dragPreviewNodeOffsetFromClient = getNodeClientOffset(dragPreviewNode);\n  var offsetFromDragPreview = {\n    x: clientOffset.x - dragPreviewNodeOffsetFromClient.x,\n    y: clientOffset.y - dragPreviewNodeOffsetFromClient.y\n  };\n  var sourceWidth = sourceNode.offsetWidth,\n      sourceHeight = sourceNode.offsetHeight;\n  var anchorX = anchorPoint.anchorX,\n      anchorY = anchorPoint.anchorY;\n\n  var _getDragPreviewSize = getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight),\n      dragPreviewWidth = _getDragPreviewSize.dragPreviewWidth,\n      dragPreviewHeight = _getDragPreviewSize.dragPreviewHeight;\n\n  var calculateYOffset = function calculateYOffset() {\n    var interpolantY = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the top\n    offsetFromDragPreview.y, // Align at the center\n    offsetFromDragPreview.y / sourceHeight * dragPreviewHeight, // Dock to the bottom\n    offsetFromDragPreview.y + dragPreviewHeight - sourceHeight]);\n    var y = interpolantY.interpolate(anchorY); // Work around Safari 8 positioning bug\n\n    if (isSafari() && isImage) {\n      // We'll have to wait for @3x to see if this is entirely correct\n      y += (window.devicePixelRatio - 1) * dragPreviewHeight;\n    }\n\n    return y;\n  };\n\n  var calculateXOffset = function calculateXOffset() {\n    // Interpolate coordinates depending on anchor point\n    // If you know a simpler way to do this, let me know\n    var interpolantX = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the left\n    offsetFromDragPreview.x, // Align at the center\n    offsetFromDragPreview.x / sourceWidth * dragPreviewWidth, // Dock to the right\n    offsetFromDragPreview.x + dragPreviewWidth - sourceWidth]);\n    return interpolantX.interpolate(anchorX);\n  }; // Force offsets if specified in the options.\n\n\n  var offsetX = offsetPoint.offsetX,\n      offsetY = offsetPoint.offsetY;\n  var isManualOffsetX = offsetX === 0 || offsetX;\n  var isManualOffsetY = offsetY === 0 || offsetY;\n  return {\n    x: isManualOffsetX ? offsetX : calculateXOffset(),\n    y: isManualOffsetY ? offsetY : calculateYOffset()\n  };\n}","export var FILE = '__NATIVE_FILE__';\nexport var URL = '__NATIVE_URL__';\nexport var TEXT = '__NATIVE_TEXT__';","var _nativeTypesConfig;\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport * as NativeTypes from '../NativeTypes';\nimport { getDataFromDataTransfer } from './getDataFromDataTransfer';\nexport var nativeTypesConfig = (_nativeTypesConfig = {}, _defineProperty(_nativeTypesConfig, NativeTypes.FILE, {\n  exposeProperties: {\n    files: function files(dataTransfer) {\n      return Array.prototype.slice.call(dataTransfer.files);\n    },\n    items: function items(dataTransfer) {\n      return dataTransfer.items;\n    }\n  },\n  matchesTypes: ['Files']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.URL, {\n  exposeProperties: {\n    urls: function urls(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '').split('\\n');\n    }\n  },\n  matchesTypes: ['Url', 'text/uri-list']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.TEXT, {\n  exposeProperties: {\n    text: function text(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '');\n    }\n  },\n  matchesTypes: ['Text', 'text/plain']\n}), _nativeTypesConfig);","import \"core-js/modules/es.array.reduce.js\";\nexport function getDataFromDataTransfer(dataTransfer, typesToTry, defaultValue) {\n  var result = typesToTry.reduce(function (resultSoFar, typeToTry) {\n    return resultSoFar || dataTransfer.getData(typeToTry);\n  }, '');\n  return result != null ? result : defaultValue;\n}","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nexport var NativeDragSource = /*#__PURE__*/function () {\n  function NativeDragSource(config) {\n    _classCallCheck(this, NativeDragSource);\n\n    this.config = config;\n    this.item = {};\n    this.initializeExposedProperties();\n  }\n\n  _createClass(NativeDragSource, [{\n    key: \"initializeExposedProperties\",\n    value: function initializeExposedProperties() {\n      var _this = this;\n\n      Object.keys(this.config.exposeProperties).forEach(function (property) {\n        Object.defineProperty(_this.item, property, {\n          configurable: true,\n          enumerable: true,\n          get: function get() {\n            // eslint-disable-next-line no-console\n            console.warn(\"Browser doesn't allow reading \\\"\".concat(property, \"\\\" until the drop event.\"));\n            return null;\n          }\n        });\n      });\n    }\n  }, {\n    key: \"loadDataTransfer\",\n    value: function loadDataTransfer(dataTransfer) {\n      var _this2 = this;\n\n      if (dataTransfer) {\n        var newProperties = {};\n        Object.keys(this.config.exposeProperties).forEach(function (property) {\n          newProperties[property] = {\n            value: _this2.config.exposeProperties[property](dataTransfer, _this2.config.matchesTypes),\n            configurable: true,\n            enumerable: true\n          };\n        });\n        Object.defineProperties(this.item, newProperties);\n      }\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      return true;\n    }\n  }, {\n    key: \"beginDrag\",\n    value: function beginDrag() {\n      return this.item;\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(monitor, handle) {\n      return handle === monitor.getSourceId();\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {// empty\n    }\n  }]);\n\n  return NativeDragSource;\n}();","import { nativeTypesConfig } from './nativeTypesConfig';\nimport { NativeDragSource } from './NativeDragSource';\nexport function createNativeDragSource(type, dataTransfer) {\n  var result = new NativeDragSource(nativeTypesConfig[type]);\n  result.loadDataTransfer(dataTransfer);\n  return result;\n}\nexport function matchNativeItemType(dataTransfer) {\n  if (!dataTransfer) {\n    return null;\n  }\n\n  var dataTransferTypes = Array.prototype.slice.call(dataTransfer.types || []);\n  return Object.keys(nativeTypesConfig).filter(function (nativeItemType) {\n    var matchesTypes = nativeTypesConfig[nativeItemType].matchesTypes;\n    return matchesTypes.some(function (t) {\n      return dataTransferTypes.indexOf(t) > -1;\n    });\n  })[0] || null;\n}","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nexport var OptionsReader = /*#__PURE__*/function () {\n  function OptionsReader(globalContext) {\n    _classCallCheck(this, OptionsReader);\n\n    this.globalContext = globalContext;\n  }\n\n  _createClass(OptionsReader, [{\n    key: \"window\",\n    get: function get() {\n      if (this.globalContext) {\n        return this.globalContext;\n      } else if (typeof window !== 'undefined') {\n        return window;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      if (this.window) {\n        return this.window.document;\n      }\n\n      return undefined;\n    }\n  }]);\n\n  return OptionsReader;\n}();","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nimport EnterLeaveCounter from './EnterLeaveCounter';\nimport { isFirefox } from './BrowserDetector';\nimport { getNodeClientOffset, getEventClientOffset, getDragPreviewOffset } from './OffsetUtils';\nimport { createNativeDragSource, matchNativeItemType } from './NativeDragSources';\nimport * as NativeTypes from './NativeTypes';\nimport { OptionsReader } from './OptionsReader';\n\nvar HTML5Backend = /*#__PURE__*/function () {\n  function HTML5Backend(manager, globalContext) {\n    var _this = this;\n\n    _classCallCheck(this, HTML5Backend);\n\n    this.sourcePreviewNodes = new Map();\n    this.sourcePreviewNodeOptions = new Map();\n    this.sourceNodes = new Map();\n    this.sourceNodeOptions = new Map();\n    this.dragStartSourceIds = null;\n    this.dropTargetIds = [];\n    this.dragEnterTargetIds = [];\n    this.currentNativeSource = null;\n    this.currentNativeHandle = null;\n    this.currentDragSourceNode = null;\n    this.altKeyPressed = false;\n    this.mouseMoveTimeoutTimer = null;\n    this.asyncEndDragFrameId = null;\n    this.dragOverTargetIds = null;\n\n    this.getSourceClientOffset = function (sourceId) {\n      return getNodeClientOffset(_this.sourceNodes.get(sourceId));\n    };\n\n    this.endDragNativeItem = function () {\n      if (!_this.isDraggingNativeItem()) {\n        return;\n      }\n\n      _this.actions.endDrag();\n\n      _this.registry.removeSource(_this.currentNativeHandle);\n\n      _this.currentNativeHandle = null;\n      _this.currentNativeSource = null;\n    };\n\n    this.isNodeInDocument = function (node) {\n      // Check the node either in the main document or in the current context\n      return _this.document && _this.document.body && document.body.contains(node);\n    };\n\n    this.endDragIfSourceWasRemovedFromDOM = function () {\n      var node = _this.currentDragSourceNode;\n\n      if (_this.isNodeInDocument(node)) {\n        return;\n      }\n\n      if (_this.clearCurrentDragSourceNode()) {\n        _this.actions.endDrag();\n      }\n    };\n\n    this.handleTopDragStartCapture = function () {\n      _this.clearCurrentDragSourceNode();\n\n      _this.dragStartSourceIds = [];\n    };\n\n    this.handleTopDragStart = function (e) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      var dragStartSourceIds = _this.dragStartSourceIds;\n      _this.dragStartSourceIds = null;\n      var clientOffset = getEventClientOffset(e); // Avoid crashing if we missed a drop event or our previous drag died\n\n      if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      } // Don't publish the source just yet (see why below)\n\n\n      _this.actions.beginDrag(dragStartSourceIds || [], {\n        publishSource: false,\n        getSourceClientOffset: _this.getSourceClientOffset,\n        clientOffset: clientOffset\n      });\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (_this.monitor.isDragging()) {\n        if (dataTransfer && typeof dataTransfer.setDragImage === 'function') {\n          // Use custom drag image if user specifies it.\n          // If child drag source refuses drag but parent agrees,\n          // use parent's node as drag image. Neither works in IE though.\n          var sourceId = _this.monitor.getSourceId();\n\n          var sourceNode = _this.sourceNodes.get(sourceId);\n\n          var dragPreview = _this.sourcePreviewNodes.get(sourceId) || sourceNode;\n\n          if (dragPreview) {\n            var _this$getCurrentSourc = _this.getCurrentSourcePreviewNodeOptions(),\n                anchorX = _this$getCurrentSourc.anchorX,\n                anchorY = _this$getCurrentSourc.anchorY,\n                offsetX = _this$getCurrentSourc.offsetX,\n                offsetY = _this$getCurrentSourc.offsetY;\n\n            var anchorPoint = {\n              anchorX: anchorX,\n              anchorY: anchorY\n            };\n            var offsetPoint = {\n              offsetX: offsetX,\n              offsetY: offsetY\n            };\n            var dragPreviewOffset = getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint);\n            dataTransfer.setDragImage(dragPreview, dragPreviewOffset.x, dragPreviewOffset.y);\n          }\n        }\n\n        try {\n          // Firefox won't drag without setting data\n          dataTransfer.setData('application/json', {});\n        } catch (err) {} // IE doesn't support MIME types in setData\n        // Store drag source node so we can check whether\n        // it is removed from DOM and trigger endDrag manually.\n\n\n        _this.setCurrentDragSourceNode(e.target); // Now we are ready to publish the drag source.. or are we not?\n\n\n        var _this$getCurrentSourc2 = _this.getCurrentSourcePreviewNodeOptions(),\n            captureDraggingState = _this$getCurrentSourc2.captureDraggingState;\n\n        if (!captureDraggingState) {\n          // Usually we want to publish it in the next tick so that browser\n          // is able to screenshot the current (not yet dragging) state.\n          //\n          // It also neatly avoids a situation where render() returns null\n          // in the same tick for the source element, and browser freaks out.\n          setTimeout(function () {\n            return _this.actions.publishDragSource();\n          }, 0);\n        } else {\n          // In some cases the user may want to override this behavior, e.g.\n          // to work around IE not supporting custom drag previews.\n          //\n          // When using a custom drag layer, the only way to prevent\n          // the default drag preview from drawing in IE is to screenshot\n          // the dragging state in which the node itself has zero opacity\n          // and height. In this case, though, returning null from render()\n          // will abruptly end the dragging, which is not obvious.\n          //\n          // This is the reason such behavior is strictly opt-in.\n          _this.actions.publishDragSource();\n        }\n      } else if (nativeType) {\n        // A native item (such as URL) dragged from inside the document\n        _this.beginDragNativeItem(nativeType);\n      } else if (dataTransfer && !dataTransfer.types && (e.target && !e.target.hasAttribute || !e.target.hasAttribute('draggable'))) {\n        // Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n        // Just let it drag. It's a native type (URL or text) and will be picked up in\n        // dragenter handler.\n        return;\n      } else {\n        // If by this time no drag source reacted, tell browser not to drag.\n        e.preventDefault();\n      }\n    };\n\n    this.handleTopDragEndCapture = function () {\n      if (_this.clearCurrentDragSourceNode()) {\n        // Firefox can dispatch this event in an infinite loop\n        // if dragend handler does something like showing an alert.\n        // Only proceed if we have not handled it already.\n        _this.actions.endDrag();\n      }\n    };\n\n    this.handleTopDragEnterCapture = function (e) {\n      _this.dragEnterTargetIds = [];\n\n      var isFirstEnter = _this.enterLeaveCounter.enter(e.target);\n\n      if (!isFirstEnter || _this.monitor.isDragging()) {\n        return;\n      }\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (nativeType) {\n        // A native item (such as file or URL) dragged from outside the document\n        _this.beginDragNativeItem(nativeType, dataTransfer);\n      }\n    };\n\n    this.handleTopDragEnter = function (e) {\n      var dragEnterTargetIds = _this.dragEnterTargetIds;\n      _this.dragEnterTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n\n      if (!isFirefox()) {\n        // Don't emit hover in `dragenter` on Firefox due to an edge case.\n        // If the target changes position as the result of `dragenter`, Firefox\n        // will still happily dispatch `dragover` despite target being no longer\n        // there. The easy solution is to only fire `hover` in `dragover` on FF.\n        _this.actions.hover(dragEnterTargetIds, {\n          clientOffset: getEventClientOffset(e)\n        });\n      }\n\n      var canDrop = dragEnterTargetIds.some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // IE requires this to fire dragover events\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      }\n    };\n\n    this.handleTopDragOverCapture = function () {\n      _this.dragOverTargetIds = [];\n    };\n\n    this.handleTopDragOver = function (e) {\n      var dragOverTargetIds = _this.dragOverTargetIds;\n      _this.dragOverTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        // Prevent default \"drop and blow away the whole document\" action.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n\n      _this.actions.hover(dragOverTargetIds || [], {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      var canDrop = (dragOverTargetIds || []).some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // Show user-specified drop effect.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      } else if (_this.isDraggingNativeItem()) {\n        // Don't show a nice cursor but still prevent default\n        // \"drop and blow away the whole document\" action.\n        e.preventDefault();\n      } else {\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n      }\n    };\n\n    this.handleTopDragLeaveCapture = function (e) {\n      if (_this.isDraggingNativeItem()) {\n        e.preventDefault();\n      }\n\n      var isLastLeave = _this.enterLeaveCounter.leave(e.target);\n\n      if (!isLastLeave) {\n        return;\n      }\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      }\n    };\n\n    this.handleTopDropCapture = function (e) {\n      _this.dropTargetIds = [];\n      e.preventDefault();\n\n      if (_this.isDraggingNativeItem()) {\n        _this.currentNativeSource.loadDataTransfer(e.dataTransfer);\n      }\n\n      _this.enterLeaveCounter.reset();\n    };\n\n    this.handleTopDrop = function (e) {\n      var dropTargetIds = _this.dropTargetIds;\n      _this.dropTargetIds = [];\n\n      _this.actions.hover(dropTargetIds, {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      _this.actions.drop({\n        dropEffect: _this.getCurrentDropEffect()\n      });\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      } else {\n        _this.endDragIfSourceWasRemovedFromDOM();\n      }\n    };\n\n    this.handleSelectStart = function (e) {\n      var target = e.target; // Only IE requires us to explicitly say\n      // we want drag drop operation to start\n\n      if (typeof target.dragDrop !== 'function') {\n        return;\n      } // Inputs and textareas should be selectable\n\n\n      if (target.tagName === 'INPUT' || target.tagName === 'SELECT' || target.tagName === 'TEXTAREA' || target.isContentEditable) {\n        return;\n      } // For other targets, ask IE\n      // to enable drag and drop\n\n\n      e.preventDefault();\n      target.dragDrop();\n    };\n\n    this.options = new OptionsReader(globalContext);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.registry = manager.getRegistry();\n    this.enterLeaveCounter = new EnterLeaveCounter(this.isNodeInDocument);\n  } // public for test\n\n\n  _createClass(HTML5Backend, [{\n    key: \"setup\",\n    value: function setup() {\n      if (this.window === undefined) {\n        return;\n      }\n\n      if (this.window.__isReactDndBackendSetUp) {\n        throw new Error('Cannot have two HTML5 backends at the same time.');\n      }\n\n      this.window.__isReactDndBackendSetUp = true;\n      this.addEventListeners(this.window);\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      if (this.window === undefined) {\n        return;\n      }\n\n      this.window.__isReactDndBackendSetUp = false;\n      this.removeEventListeners(this.window);\n      this.clearCurrentDragSourceNode();\n\n      if (this.asyncEndDragFrameId) {\n        this.window.cancelAnimationFrame(this.asyncEndDragFrameId);\n      }\n    }\n  }, {\n    key: \"connectDragPreview\",\n    value: function connectDragPreview(sourceId, node, options) {\n      var _this2 = this;\n\n      this.sourcePreviewNodeOptions.set(sourceId, options);\n      this.sourcePreviewNodes.set(sourceId, node);\n      return function () {\n        _this2.sourcePreviewNodes.delete(sourceId);\n\n        _this2.sourcePreviewNodeOptions.delete(sourceId);\n      };\n    }\n  }, {\n    key: \"connectDragSource\",\n    value: function connectDragSource(sourceId, node, options) {\n      var _this3 = this;\n\n      this.sourceNodes.set(sourceId, node);\n      this.sourceNodeOptions.set(sourceId, options);\n\n      var handleDragStart = function handleDragStart(e) {\n        return _this3.handleDragStart(e, sourceId);\n      };\n\n      var handleSelectStart = function handleSelectStart(e) {\n        return _this3.handleSelectStart(e);\n      };\n\n      node.setAttribute('draggable', 'true');\n      node.addEventListener('dragstart', handleDragStart);\n      node.addEventListener('selectstart', handleSelectStart);\n      return function () {\n        _this3.sourceNodes.delete(sourceId);\n\n        _this3.sourceNodeOptions.delete(sourceId);\n\n        node.removeEventListener('dragstart', handleDragStart);\n        node.removeEventListener('selectstart', handleSelectStart);\n        node.setAttribute('draggable', 'false');\n      };\n    }\n  }, {\n    key: \"connectDropTarget\",\n    value: function connectDropTarget(targetId, node) {\n      var _this4 = this;\n\n      var handleDragEnter = function handleDragEnter(e) {\n        return _this4.handleDragEnter(e, targetId);\n      };\n\n      var handleDragOver = function handleDragOver(e) {\n        return _this4.handleDragOver(e, targetId);\n      };\n\n      var handleDrop = function handleDrop(e) {\n        return _this4.handleDrop(e, targetId);\n      };\n\n      node.addEventListener('dragenter', handleDragEnter);\n      node.addEventListener('dragover', handleDragOver);\n      node.addEventListener('drop', handleDrop);\n      return function () {\n        node.removeEventListener('dragenter', handleDragEnter);\n        node.removeEventListener('dragover', handleDragOver);\n        node.removeEventListener('drop', handleDrop);\n      };\n    }\n  }, {\n    key: \"addEventListeners\",\n    value: function addEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.addEventListener) {\n        return;\n      }\n\n      target.addEventListener('dragstart', this.handleTopDragStart);\n      target.addEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.addEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.addEventListener('dragenter', this.handleTopDragEnter);\n      target.addEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.addEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.addEventListener('dragover', this.handleTopDragOver);\n      target.addEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.addEventListener('drop', this.handleTopDrop);\n      target.addEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"removeEventListeners\",\n    value: function removeEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.removeEventListener) {\n        return;\n      }\n\n      target.removeEventListener('dragstart', this.handleTopDragStart);\n      target.removeEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.removeEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.removeEventListener('dragenter', this.handleTopDragEnter);\n      target.removeEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.removeEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.removeEventListener('dragover', this.handleTopDragOver);\n      target.removeEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.removeEventListener('drop', this.handleTopDrop);\n      target.removeEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"getCurrentSourceNodeOptions\",\n    value: function getCurrentSourceNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourceNodeOptions = this.sourceNodeOptions.get(sourceId);\n      return _objectSpread({\n        dropEffect: this.altKeyPressed ? 'copy' : 'move'\n      }, sourceNodeOptions || {});\n    }\n  }, {\n    key: \"getCurrentDropEffect\",\n    value: function getCurrentDropEffect() {\n      if (this.isDraggingNativeItem()) {\n        // It makes more sense to default to 'copy' for native resources\n        return 'copy';\n      }\n\n      return this.getCurrentSourceNodeOptions().dropEffect;\n    }\n  }, {\n    key: \"getCurrentSourcePreviewNodeOptions\",\n    value: function getCurrentSourcePreviewNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId);\n      return _objectSpread({\n        anchorX: 0.5,\n        anchorY: 0.5,\n        captureDraggingState: false\n      }, sourcePreviewNodeOptions || {});\n    }\n  }, {\n    key: \"isDraggingNativeItem\",\n    value: function isDraggingNativeItem() {\n      var itemType = this.monitor.getItemType();\n      return Object.keys(NativeTypes).some(function (key) {\n        return NativeTypes[key] === itemType;\n      });\n    }\n  }, {\n    key: \"beginDragNativeItem\",\n    value: function beginDragNativeItem(type, dataTransfer) {\n      this.clearCurrentDragSourceNode();\n      this.currentNativeSource = createNativeDragSource(type, dataTransfer);\n      this.currentNativeHandle = this.registry.addSource(type, this.currentNativeSource);\n      this.actions.beginDrag([this.currentNativeHandle]);\n    }\n  }, {\n    key: \"setCurrentDragSourceNode\",\n    value: function setCurrentDragSourceNode(node) {\n      var _this5 = this;\n\n      this.clearCurrentDragSourceNode();\n      this.currentDragSourceNode = node; // A timeout of > 0 is necessary to resolve Firefox issue referenced\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n\n      var MOUSE_MOVE_TIMEOUT = 1000; // Receiving a mouse event in the middle of a dragging operation\n      // means it has ended and the drag source node disappeared from DOM,\n      // so the browser didn't dispatch the dragend event.\n      //\n      // We need to wait before we start listening for mousemove events.\n      // This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n      // immediately in some browsers.\n      //\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n      //\n\n      this.mouseMoveTimeoutTimer = setTimeout(function () {\n        return _this5.window && _this5.window.addEventListener('mousemove', _this5.endDragIfSourceWasRemovedFromDOM, true);\n      }, MOUSE_MOVE_TIMEOUT);\n    }\n  }, {\n    key: \"clearCurrentDragSourceNode\",\n    value: function clearCurrentDragSourceNode() {\n      if (this.currentDragSourceNode) {\n        this.currentDragSourceNode = null;\n\n        if (this.window) {\n          this.window.clearTimeout(this.mouseMoveTimeoutTimer || undefined);\n          this.window.removeEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);\n        }\n\n        this.mouseMoveTimeoutTimer = null;\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"handleDragStart\",\n    value: function handleDragStart(e, sourceId) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      if (!this.dragStartSourceIds) {\n        this.dragStartSourceIds = [];\n      }\n\n      this.dragStartSourceIds.unshift(sourceId);\n    }\n  }, {\n    key: \"handleDragEnter\",\n    value: function handleDragEnter(e, targetId) {\n      this.dragEnterTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDragOver\",\n    value: function handleDragOver(e, targetId) {\n      if (this.dragOverTargetIds === null) {\n        this.dragOverTargetIds = [];\n      }\n\n      this.dragOverTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDrop\",\n    value: function handleDrop(e, targetId) {\n      this.dropTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"window\",\n    get: function get() {\n      return this.options.window;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      return this.options.document;\n    }\n  }]);\n\n  return HTML5Backend;\n}();\n\nexport { HTML5Backend as default };","import HTML5Backend from './HTML5Backend';\nimport * as NativeTypes from './NativeTypes';\nexport { getEmptyImage } from './getEmptyImage';\nexport { NativeTypes };\n\nvar createHTML5Backend = function createHTML5Backend(manager, context) {\n  return new HTML5Backend(manager, context);\n};\n\nexport default createHTML5Backend;","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n"],"sourceRoot":""}